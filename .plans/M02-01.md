# M02-01 â€” Intent Engine Core

Build the intent classification and routing system in PHP: 1) AgentWP\Intent\Engine class that receives natural language input and routes to appropriate handler. 2) Define intent categories: ORDER_SEARCH, ORDER_REFUND, ORDER_STATUS, PRODUCT_STOCK, EMAIL_DRAFT, ANALYTICS_QUERY, CUSTOMER_LOOKUP. 3) Create AgentWP\Intent\Handler interface with methods: canHandle(string $intent): bool, handle(array $context): Response. 4) Context builder that enriches requests with: current user, recent orders (last 5), store timezone, currency. 5) Function registry mapping OpenAI function names to PHP handlers. 6) Implement conversation memory within session (last 5 exchanges). 7) Fallback handler for unrecognized intents with helpful suggestions. Acceptance Criteria: Correct intent identified >95% of test cases, context includes relevant store data, handlers receive properly structured input, unhandled intents suggest alternatives.
