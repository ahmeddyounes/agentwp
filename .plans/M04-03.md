# M04-03 â€” Dark/Light Mode Toggle

Implement comprehensive theming: 1) CSS custom properties for all colors in :root and [data-theme='dark']. 2) Color tokens: --awp-bg-primary, --awp-bg-secondary, --awp-text-primary, --awp-text-secondary, --awp-accent, --awp-danger, --awp-success, --awp-border. 3) Toggle button in Command Deck header with sun/moon icons. 4) Persist preference in localStorage and wp_usermeta (sync across devices). 5) Respect system preference (prefers-color-scheme) as default. 6) Smooth transition animation on toggle (150ms). 7) Ensure all components (cards, charts, inputs) adapt correctly. 8) High contrast mode support for accessibility. Acceptance Criteria: All UI elements readable in both themes, no flash of wrong theme on load, charts update colors on toggle, WCAG AA contrast ratios met.
