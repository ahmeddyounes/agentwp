# M04-02 â€” Command History and Favorites

Implement command history and favorites: 1) Store in browser localStorage: last 50 commands with timestamps, favorited commands (user-starred). 2) AgentWP\API\HistoryController REST endpoints for server-side backup (optional sync). 3) React HistoryPanel component: recent commands list (grouped by date), favorites section (pinned at top), click to re-execute, swipe/button to delete. 4) Display in Command Deck when Omnibox is empty/focused. 5) Command format stored: raw_input, parsed_intent, timestamp, was_successful. 6) 'Star' button on successful action cards to add to favorites. 7) Usage analytics: track most-used commands (local only, privacy-preserving). Acceptance Criteria: History persists across browser sessions, favorites appear first, re-executing command uses current store state, clear history option available.
