# M02-05 — Product Stock Management

Implement inventory management functionality: 1) Create AgentWP\Handlers\StockHandler class. 2) OpenAI function schemas: search_product(query: string, sku?: string), prepare_stock_update(product_id: int, quantity: int, operation: 'set'|'increase'|'decrease'). 3) Product search by name (fuzzy match), SKU (exact), or ID. 4) Return product info: id, name, sku, current_stock, stock_status, manage_stock, backorders_allowed. 5) Draft-Confirm for stock changes showing: product name, SKU, current_stock → new_stock. 6) Handle variable products: show variations, allow updating specific variation. 7) Validate: can't decrease below 0 unless backorders allowed, warn if setting stock when manage_stock is disabled. Acceptance Criteria: SKU search returns exact match, name search handles partial matches, stock updates trigger woocommerce_product_set_stock hook, variations displayed and updatable independently.
