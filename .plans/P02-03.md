# P02-03 â€” Enforce module boundaries via static analysis

Add PHPStan rules (or a custom CI script) to prevent `src/Services/**` from calling WordPress/WooCommerce globals directly (e.g., `current_user_can`, `wc_*`, direct option/meta access). Prefer gateways/policy (`src/Infrastructure/*`, `src/Security/Policy/*`). Acceptance: violations fail CI and existing code passes (or is refactored).
