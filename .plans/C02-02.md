# C02-02 â€” Prefer atomic rate limiting in RestController permissions_check

Update the base REST controller rate limiting logic to call `checkAndIncrement()` when the resolved limiter implements `AtomicRateLimiterInterface`; otherwise fall back to `check()` + `increment()` (preserve fail-open semantics). Acceptance: rate limiting remains enforced and atomic path is used when available.

## Status: DONE

## Changes Made
- Added `use AgentWP\Contracts\AtomicRateLimiterInterface` import
- Updated `check_rate_limit_via_service()` to check if limiter implements `AtomicRateLimiterInterface`
- When atomic interface is available, uses `checkAndIncrement()` for race-condition-free rate limiting
- Falls back to `check()` + `increment()` for non-atomic limiters
- Preserved fail-open semantics throughout
