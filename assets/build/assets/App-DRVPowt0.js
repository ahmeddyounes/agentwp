import{R as Kt,j as y,r as A,c as ln,g as _o}from"./charts-wlAe7WTx.js";import{r as Fs}from"./index-B2TtbXbr.js";import{u as mn}from"./useQuery-BuohUMvy.js";import{applyTheme as zs}from"./theme-DY8d_92P.js";const Wr=e=>{let t;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=c??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(d=>d(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>a,subscribe:u=>(n.add(u),()=>n.delete(u))},a=t=e(r,i,l);return l},Bs=e=>e?Wr(e):Wr,Hs=e=>e;function Us(e,t=Hs){const n=Kt.useSyncExternalStore(e.subscribe,Kt.useCallback(()=>t(e.getState()),[e,t]),Kt.useCallback(()=>t(e.getInitialState()),[e,t]));return Kt.useDebugValue(n),n}const qr=e=>{const t=Bs(e),n=r=>Us(t,r);return Object.assign(n,t),n},Ye=e=>e?qr(e):qr,Un="agentwp-command-deck-open",Vs="agentwp-draft-history",Ws="agentwp-command-history",Co="agentwp-demo-tour-seen",qs=10,$s=50,Ys=50,Ks=600,$r=5e3,Gs=150,Xs=["products","orders","customers"],To=[{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"}];(()=>{var e;try{const t=import.meta;return!!((e=t==null?void 0:t.env)!=null&&e.DEV)}catch{return!1}})();const Qs=()=>{if(typeof window>"u")return!1;try{return window.localStorage.getItem(Co)==="1"}catch{return!1}},Ao=()=>Xs.reduce((e,t)=>(e[t]=[],e),{}),Js=()=>{if(typeof window>"u")return!1;try{return window.sessionStorage.getItem(Un)==="true"}catch{return!1}},vn=e=>{if(!(typeof window>"u"))try{e?window.sessionStorage.setItem(Un,"true"):window.sessionStorage.removeItem(Un)}catch{}},Zs={isOpen:Js(),loading:!1,prompt:"",response:"",errorState:null,metrics:{latencyMs:null,tokenCost:null},retryAttempt:0},zt=Ye(e=>({...Zs,open:()=>{vn(!0),e({isOpen:!0})},close:()=>{vn(!1),e({isOpen:!1})},toggle:()=>{e(t=>{const n=!t.isOpen;return vn(n),{isOpen:n}})},setLoading:t=>e({loading:t}),setPrompt:t=>e({prompt:t}),setResponse:t=>e({response:t}),appendResponse:t=>e(n=>({response:n.response+t})),setError:t=>e({errorState:t}),setMetrics:t=>e(n=>({metrics:{...n.metrics,...t}})),incrementRetry:()=>e(t=>({retryAttempt:t.retryAttempt+1})),resetRetry:()=>e({retryAttempt:0}),reset:()=>e({loading:!1,prompt:"",response:"",errorState:null,metrics:{latencyMs:null,tokenCost:null},retryAttempt:0})})),Yr={data:null,selectedPeriod:"7d",isLoading:!1,error:null};Ye(e=>({...Yr,setData:t=>e({data:t}),setSelectedPeriod:t=>e({selectedPeriod:t}),setIsLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),reset:()=>e(Yr)}));const _n="agentwp/v1",Kr={NETWORK_ERROR:"agentwp_network_error",API_ERROR:"agentwp_api_error"},Y={RATE_LIMIT:"rate_limit",AUTH_ERROR:"auth_error",VALIDATION_ERROR:"validation_error",NETWORK_ERROR:"network_error",API_ERROR:"api_error",UNKNOWN:"unknown"},el={agentwp_rate_limited:Y.RATE_LIMIT,agentwp_forbidden:Y.AUTH_ERROR,agentwp_unauthorized:Y.AUTH_ERROR,agentwp_invalid_key:Y.AUTH_ERROR,agentwp_openai_invalid:Y.AUTH_ERROR,agentwp_missing_nonce:Y.AUTH_ERROR,agentwp_invalid_nonce:Y.AUTH_ERROR,agentwp_invalid_request:Y.VALIDATION_ERROR,agentwp_validation_error:Y.VALIDATION_ERROR,agentwp_invalid_period:Y.VALIDATION_ERROR,agentwp_invalid_theme:Y.VALIDATION_ERROR,agentwp_missing_prompt:Y.VALIDATION_ERROR,agentwp_network_error:Y.NETWORK_ERROR,agentwp_openai_unreachable:Y.NETWORK_ERROR,agentwp_api_error:Y.API_ERROR,agentwp_encryption_failed:Y.API_ERROR,agentwp_intent_failed:Y.API_ERROR},Gt={[Y.RATE_LIMIT]:"Too many requests. Please wait and retry.",[Y.AUTH_ERROR]:"Authentication failed. Please check your API key.",[Y.VALIDATION_ERROR]:"Please check your request and try again.",[Y.NETWORK_ERROR]:"Network error. Please check your connection.",[Y.API_ERROR]:"API server error. Please retry.",[Y.UNKNOWN]:"An unexpected error occurred."};class tl{getBaseUrl(){if(typeof window>"u"||!window.agentwpSettings)return`/${_n}`;const{root:t}=window.agentwpSettings;return t?`${t.endsWith("/")?t:`${t}/`}${_n}`:`/${_n}`}getNonce(){return typeof window>"u"||!window.agentwpSettings?"":window.agentwpSettings.nonce||""}buildHeaders(t={}){const n={"Content-Type":"application/json",...t},r=this.getNonce();return r&&(n["X-WP-Nonce"]=r),n}categorizeError(t){return el[t]||Y.UNKNOWN}buildErrorResponse(t,n=null){const i=(typeof n=="object"&&n!==null?n:{}).error||{},o=Number.parseInt(t.headers.get("Retry-After")||"0",10),s=typeof i.code=="string"?i.code:"",l=typeof i.type=="string"?i.type:"",a=typeof i.meta=="object"&&i.meta!==null?i.meta:{},u=this.categorizeError(s),c=l||u,f=(typeof i.message=="string"?i.message:"")||Gt[c]||Gt[Y.UNKNOWN],h=a.retry_after;let d=0;if(typeof h=="number"&&Number.isFinite(h))d=h;else if(typeof h=="string"){const g=Number.parseInt(h,10);d=Number.isFinite(g)?g:0}return{success:!1,data:[],error:{code:s,message:f,type:c,status:t.status||0,meta:a,retryAfter:Number.isFinite(o)&&o>0?o:d}}}async handleResponse(t){if(!t.ok){let n=null;try{n=await t.json()}catch{}return this.buildErrorResponse(t,n)}try{return await t.json()}catch{return{success:!1,data:[],error:{code:Kr.API_ERROR,message:Gt[Y.API_ERROR],type:Y.API_ERROR,status:t.status||0,meta:{},retryAfter:0}}}}async request(t,n={}){const{signal:r,...i}=n,o=`${this.getBaseUrl()}${t}`,s={credentials:"same-origin",signal:r,...i,headers:this.buildHeaders(i.headers||{})};try{const l=await fetch(o,s);return await this.handleResponse(l)}catch(l){if(l instanceof Error&&l.name==="AbortError")throw l;const a=l instanceof Error?l.message:"";return{success:!1,data:[],error:{code:Kr.NETWORK_ERROR,message:a||Gt[Y.NETWORK_ERROR],type:Y.NETWORK_ERROR,status:0,meta:{},retryAfter:0}}}}async processIntent(t,n={},r={}){const i={prompt:t,context:n};return await this.request("/intent",{method:"POST",body:JSON.stringify(i),...r})}async search(t,n=[],r={}){const i=new URLSearchParams({q:t});return n.length>0&&i.append("types",n.join(",")),await this.request(`/search?${i.toString()}`,{method:"GET",...r})}async getUsage(t="month",n={}){return await this.request(`/usage?period=${encodeURIComponent(t)}`,{method:"GET",...n})}async getSettings(t={}){return await this.request("/settings",{method:"GET",...t})}async updateSettings(t,n={}){return await this.request("/settings",{method:"POST",body:JSON.stringify(t),...n})}async updateApiKey(t,n={}){return await this.request("/settings/api-key",{method:"POST",body:JSON.stringify({api_key:t}),...n})}async getTheme(t={}){return await this.request("/theme",{method:"GET",...t})}async updateTheme(t,n={}){return await this.request("/theme",{method:"POST",body:JSON.stringify({theme:t}),...n})}async getHistory(t={}){return await this.request("/history",{method:"GET",...t})}async updateHistory(t,n,r={}){return await this.request("/history",{method:"POST",body:JSON.stringify({history:t,favorites:n}),...r})}async getHealth(t={}){return await this.request("/health",{method:"GET",...t})}async getAnalytics(t={},n={}){const r=new URLSearchParams(t).toString();return await this.request(`/analytics${r?`?${r}`:""}`,{method:"GET",...n})}}const st=new tl;function nl(e,t=!0){return mn({queryKey:["analytics",e],queryFn:async()=>await st.getAnalytics({period:e}),enabled:t,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:2,retryDelay:n=>Math.min(1e3*2**n,3e4)})}function rl(e){var s;const{data:t,isLoading:n,isError:r,error:i,refetch:o}=nl(e);return{analytics:t!=null&&t.success?t.data:null,isLoading:n,isError:r||(t==null?void 0:t.success)===!1,error:(i==null?void 0:i.message)||(t&&!t.success?(s=t.error)==null?void 0:s.message:null)||null,refetch:o}}const il=e=>({totalTokens:Number.parseInt(String((e==null?void 0:e.total_tokens)??0),10)||0,totalCostUsd:Number.parseFloat(String((e==null?void 0:e.total_cost_usd)??0))||0,breakdownByIntent:[],dailyTrend:[],periodStart:(e==null?void 0:e.period_start)??"",periodEnd:(e==null?void 0:e.period_end)??""});function ol(e="month",t=!0){return mn({queryKey:["usage",e],queryFn:async()=>await st.getUsage(e),enabled:t,staleTime:2*60*1e3,gcTime:5*60*1e3,retry:2,retryDelay:n=>Math.min(1e3*2**n,3e4)})}function sl(e="month"){var s;const{data:t,isLoading:n,isError:r,error:i,refetch:o}=ol(e);return{usage:t!=null&&t.success&&t.data?il(t.data):null,isLoading:n,isError:r||(t==null?void 0:t.success)===!1,error:(i==null?void 0:i.message)||(t&&!t.success?(s=t.error)==null?void 0:s.message:null)||null,refetch:o}}function ll(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const s=a=>a===null?null:JSON.parse(a,void 0),l=(o=n.getItem(i))!=null?o:null;return l instanceof Promise?l.then(s):s(l)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const Vn=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Vn(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Vn(r)(n)}}}},al=(e,t)=>(n,r,i)=>{let o={storage:ll(()=>localStorage),partialize:w=>w,version:0,merge:(w,b)=>({...b,...w}),...t},s=!1,l=0;const a=new Set,u=new Set;let c=o.storage;if(!c)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...w)},r,i);const f=()=>{const w=o.partialize({...r()});return c.setItem(o.name,{state:w,version:o.version})},h=i.setState;i.setState=(w,b)=>(h(w,b),f());const d=e((...w)=>(n(...w),f()),r,i);i.getInitialState=()=>d;let g;const x=()=>{var w,b;if(!c)return;const C=++l;s=!1,a.forEach(S=>{var O;return S((O=r())!=null?O:d)});const E=((b=o.onRehydrateStorage)==null?void 0:b.call(o,(w=r())!=null?w:d))||void 0;return Vn(c.getItem.bind(c))(o.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==o.version){if(o.migrate){const O=o.migrate(S.state,S.version);return O instanceof Promise?O.then(k=>[!0,k]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var O;if(C!==l)return;const[k,N]=S;if(g=o.merge(N,(O=r())!=null?O:d),n(g,!0),k)return f()}).then(()=>{C===l&&(E==null||E(g,void 0),g=r(),s=!0,u.forEach(S=>S(g)))}).catch(S=>{C===l&&(E==null||E(void 0,S))})};return i.persist={setOptions:w=>{o={...o,...w},w.storage&&(c=w.storage)},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},o.skipHydration||x(),g||d},sr=al,Io="agentwp-theme",Xt=(e,t)=>e==="system"?t?"dark":"light":e,Gr=()=>typeof window>"u"||!window.matchMedia?!1:window.matchMedia("(prefers-color-scheme: dark)").matches,Xr=()=>{var t;if(typeof window>"u")return"system";try{const n=window.localStorage.getItem(Io);if(n==="light"||n==="dark"||n==="system")return n}catch{}const e=(t=window.agentwpSettings)==null?void 0:t.theme;return e==="light"||e==="dark"?e:"system"},lr=Ye()(sr((e,t)=>({preference:Xr(),systemPrefersDark:Gr(),resolved:Xt(Xr(),Gr()),setPreference:n=>{const{systemPrefersDark:r}=t();e({preference:n,resolved:Xt(n,r)})},setSystemPrefersDark:n=>{const{preference:r}=t();e({systemPrefersDark:n,resolved:Xt(r,n)})},toggle:()=>{const{resolved:n,systemPrefersDark:r}=t(),i=n==="dark"?"light":"dark";e({preference:i,resolved:Xt(i,r)})}}),{name:Io,partialize:e=>({preference:e.preference}),onRehydrateStorage:()=>(e,t)=>{t&&console.warn("Failed to rehydrate theme store:",t)}})),ul=()=>`${Date.now()}-${Math.random().toString(36).substring(2,9)}`;Ye()(sr((e,t)=>({history:[],favorites:[],usage:{},lastEntry:null,addToHistory:n=>{const r={...n,id:ul(),timestamp:Date.now()};e(i=>({history:[r,...i.history].slice(0,$s),lastEntry:r}))},removeFromHistory:n=>e(r=>({history:r.history.filter(i=>i.id!==n)})),clearHistory:()=>e({history:[],lastEntry:null}),addToFavorites:n=>e(r=>r.favorites.some(i=>i.id===n.id)?r:{favorites:[n,...r.favorites].slice(0,Ys)}),removeFromFavorites:n=>e(r=>({favorites:r.favorites.filter(i=>i.id!==n)})),isFavorite:n=>t().favorites.some(r=>r.id===n),incrementUsage:n=>e(r=>({usage:{...r.usage,[n]:(r.usage[n]||0)+1}})),getUsageCount:n=>t().usage[n]||0,getMostUsed:(n=10)=>{const{usage:r}=t();return Object.entries(r).map(([i,o])=>({prompt:i,count:o})).sort((i,o)=>o.count-i.count).slice(0,n)}}),{name:Ws,partialize:e=>({history:e.history,favorites:e.favorites,usage:e.usage}),merge:(e,t)=>({...t,...e}),onRehydrateStorage:()=>(e,t)=>{t&&console.warn("Failed to rehydrate command store:",t)}}));const cl=()=>{if(typeof window>"u")return!1;const e=window;return!!(e.SpeechRecognition||e.webkitSpeechRecognition)},fl=()=>typeof window>"u"?!1:"speechSynthesis"in window,ar=Ye(e=>({isSupported:cl(),ttsSupported:fl(),isListening:!1,isSpeaking:!1,error:"",interimTranscript:"",finalTranscript:"",wakeWordEnabled:!1,wakeWordDetected:!1,setIsListening:t=>e({isListening:t}),setIsSpeaking:t=>e({isSpeaking:t}),setError:t=>e({error:t}),setInterimTranscript:t=>e({interimTranscript:t}),setFinalTranscript:t=>e({finalTranscript:t}),setWakeWordEnabled:t=>e({wakeWordEnabled:t}),setWakeWordDetected:t=>e({wakeWordDetected:t}),clearTranscripts:()=>e({interimTranscript:"",finalTranscript:""}),reset:()=>e({isListening:!1,isSpeaking:!1,error:"",interimTranscript:"",finalTranscript:"",wakeWordDetected:!1})})),dl=()=>`${Date.now()}-${Math.random().toString(36).substring(2,9)}`;Ye()(sr((e,t)=>({subject:"",body:"",history:[],setSubject:n=>e({subject:n}),setBody:n=>e({body:n}),saveDraft:()=>{const{subject:n,body:r,history:i}=t();if(!n.trim()&&!r.trim())return;const o={id:dl(),subject:n.trim(),body:r.trim(),timestamp:Date.now()};e({history:[o,...i].slice(0,qs),subject:"",body:""})},loadDraft:n=>{const{history:r}=t(),i=r.find(o=>o.id===n);i&&e({subject:i.subject,body:i.body})},removeDraft:n=>e(r=>({history:r.history.filter(i=>i.id!==n)})),clearCurrent:()=>e({subject:"",body:""}),clearHistory:()=>e({history:[]})}),{name:Vs,partialize:e=>({history:e.history}),onRehydrateStorage:()=>(e,t)=>{t&&console.warn("Failed to rehydrate draft store:",t)}}));const hl={results:Ao(),isOpen:!1,isLoading:!1,activeIndex:-1,query:""};Ye((e,t)=>({...hl,setResults:n=>e({results:n}),setResultsForType:(n,r)=>e(i=>({results:{...i.results,[n]:r}})),setIsOpen:n=>e({isOpen:n}),setIsLoading:n=>e({isLoading:n}),setActiveIndex:n=>e({activeIndex:n}),incrementActiveIndex:()=>{const{activeIndex:n,results:r}=t(),i=r.products.length+r.orders.length+r.customers.length;i!==0&&e({activeIndex:(n+1)%i})},decrementActiveIndex:()=>{const{activeIndex:n,results:r}=t(),i=r.products.length+r.orders.length+r.customers.length;i!==0&&e({activeIndex:n<=0?i-1:n-1})},setQuery:n=>e({query:n}),getTotalCount:()=>{const{results:n}=t();return n.products.length+n.orders.length+n.customers.length},reset:()=>e({results:Ao(),isOpen:!1,isLoading:!1,activeIndex:-1,query:""})}));const pl={totalTokens:0,totalCostUsd:0,breakdownByIntent:[],dailyTrend:[],periodStart:"",periodEnd:""},Qr={summary:pl,baseline:null,isLoading:!1,budgetLimit:0,error:null};Ye((e,t)=>({...Qr,setSummary:n=>e({summary:n}),setBaseline:n=>e({baseline:n}),setIsLoading:n=>e({isLoading:n}),setBudgetLimit:n=>e({budgetLimit:n}),setError:n=>e({error:n}),getBudgetPercentage:()=>{const{summary:n,budgetLimit:r}=t();return r<=0?0:Math.min(n.totalCostUsd/r*100,100)},isOverBudget:()=>{const{summary:n,budgetLimit:r}=t();return r<=0?!1:n.totalCostUsd>=r},reset:()=>e(Qr)}));function ml({value:e,onChange:t,disabled:n=!1}){return y.jsx("div",{className:"flex items-center gap-1 rounded-lg border border-slate-700/60 bg-slate-900/60 p-1",children:To.map(r=>y.jsx("button",{onClick:()=>t(r.value),disabled:n,className:`rounded-md px-3 py-1.5 text-xs font-medium transition-colors ${e===r.value?"bg-indigo-500 text-white":"text-slate-400 hover:bg-slate-800 hover:text-slate-200"} disabled:cursor-not-allowed disabled:opacity-50`,"aria-pressed":e===r.value,children:r.label},r.value))})}function gl({percentage:e,isOverBudget:t=!1}){const n=Math.min(Math.max(e,0),100);let r="bg-indigo-500";return e>=90?r="bg-red-500":e>=75&&(r="bg-amber-500"),y.jsxs("div",{className:"space-y-1.5",children:[y.jsxs("div",{className:"flex items-center justify-between text-xs",children:[y.jsx("span",{className:"text-slate-400",children:"Budget Usage"}),y.jsxs("span",{className:t?"font-medium text-red-400":"text-slate-300",children:[n.toFixed(1),"%"]})]}),y.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-slate-800",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Budget usage: ${n.toFixed(1)}%`,children:y.jsx("div",{className:`h-full transition-all duration-300 ${r}`,style:{width:`${n}%`}})}),t&&y.jsx("p",{className:"text-xs text-red-400",role:"alert",children:"Budget limit exceeded"})]})}const yl=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}),Cn=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}),xl=new Intl.NumberFormat("en-US"),bl=e=>typeof e!="number"||Number.isNaN(e)?(e==null?void 0:e.toString())??"":yl.format(e);function wl({usage:e,budgetLimit:t,isLoading:n=!1}){const r=t>0?e.totalCostUsd/t*100:0,i=t>0&&e.totalCostUsd>=t;return n?y.jsxs("div",{className:"animate-pulse rounded-xl border border-slate-700/60 bg-slate-900/60 p-4",children:[y.jsx("div",{className:"h-4 w-24 rounded bg-slate-800"}),y.jsx("div",{className:"mt-3 h-8 w-32 rounded bg-slate-800"}),y.jsx("div",{className:"mt-4 h-2 rounded-full bg-slate-800"})]}):y.jsxs("div",{className:"rounded-xl border border-slate-700/60 bg-slate-900/60 p-4",children:[y.jsx("h4",{className:"text-xs font-medium uppercase tracking-wider text-slate-400",children:"Usage This Period"}),y.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-2xl font-semibold text-white",children:Cn.format(e.totalCostUsd)}),y.jsx("p",{className:"text-xs text-slate-500",children:"Total Cost"})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-2xl font-semibold text-white",children:xl.format(e.totalTokens)}),y.jsx("p",{className:"text-xs text-slate-500",children:"Tokens Used"})]})]}),t>0&&y.jsxs("div",{className:"mt-4",children:[y.jsx(gl,{percentage:r,isOverBudget:i}),y.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Limit: ",Cn.format(t)]})]}),e.breakdownByIntent.length>0&&y.jsxs("div",{className:"mt-4 border-t border-slate-700/60 pt-4",children:[y.jsx("p",{className:"mb-2 text-xs font-medium uppercase tracking-wider text-slate-400",children:"By Intent"}),y.jsx("div",{className:"space-y-2",children:e.breakdownByIntent.slice(0,3).map(o=>y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[y.jsx("span",{className:"capitalize text-slate-300",children:o.intent}),y.jsx("span",{className:"text-slate-400",children:Cn.format(o.cost)})]},o.intent))})]})]})}/*! shepherd.js 14.5.1 */function kl(e){return e instanceof Element}function St(e){return e instanceof HTMLElement}function qe(e){return typeof e=="function"}function Bt(e){return typeof e=="string"}function ae(e){return e===void 0}class ur{on(t,n,r,i=!1){var o;return ae(this.bindings)&&(this.bindings={}),ae(this.bindings[t])&&(this.bindings[t]=[]),(o=this.bindings[t])==null||o.push({handler:n,ctx:r,once:i}),this}once(t,n,r){return this.on(t,n,r,!0)}off(t,n){if(ae(this.bindings)||ae(this.bindings[t]))return this;if(ae(n))delete this.bindings[t];else{var r;(r=this.bindings[t])==null||r.forEach((i,o)=>{if(i.handler===n){var s;(s=this.bindings[t])==null||s.splice(o,1)}})}return this}trigger(t,...n){if(!ae(this.bindings)&&this.bindings[t]){var r;(r=this.bindings[t])==null||r.forEach((i,o)=>{const{ctx:s,handler:l,once:a}=i,u=s||this;if(l.apply(u,n),a){var c;(c=this.bindings[t])==null||c.splice(o,1)}})}return this}}function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(null,arguments)}function cr(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}const Ke={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};Ke.defaultMerge;function Sl(e,t){return t}function El(e,t){return e.filter(n=>n!==void 0)}var Jr;(function(e){e[e.NOT=0]="NOT",e[e.RECORD=1]="RECORD",e[e.ARRAY=2]="ARRAY",e[e.SET=3]="SET",e[e.MAP=4]="MAP",e[e.OTHER=5]="OTHER"})(Jr||(Jr={}));function Zr(e){return typeof e!="object"||e===null?0:Array.isArray(e)?2:Cl(e)?1:e instanceof Set?3:e instanceof Map?4:5}function vl(e){const t=new Set;for(const n of e)for(const r of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])t.add(r);return t}function _l(e,t){return typeof e=="object"&&Object.prototype.propertyIsEnumerable.call(e,t)}function Ro(e){return{*[Symbol.iterator](){for(const t of e)for(const n of t)yield n}}}const ei=new Set(["[object Object]","[object Module]"]);function Cl(e){if(!ei.has(Object.prototype.toString.call(e)))return!1;const{constructor:t}=e;if(t===void 0)return!0;const n=t.prototype;return!(n===null||typeof n!="object"||!ei.has(Object.prototype.toString.call(n))||!n.hasOwnProperty("isPrototypeOf"))}function Tl(e,t,n){const r={};for(const i of vl(e)){const o=[];for(const a of e)_l(a,i)&&o.push(a[i]);if(o.length===0)continue;const s=t.metaDataUpdater(n,{key:i,parents:e}),l=Oo(o,t,s);l!==Ke.skip&&(i==="__proto__"?Object.defineProperty(r,i,{value:l,configurable:!0,enumerable:!0,writable:!0}):r[i]=l)}return r}function Al(e){return e.flat()}function Il(e){return new Set(Ro(e))}function Rl(e){return new Map(Ro(e))}function Ol(e){return e.at(-1)}const Qt={mergeRecords:Tl,mergeArrays:Al,mergeSets:Il,mergeMaps:Rl,mergeOthers:Ol};function fr(...e){return Pl({})(...e)}function Pl(e,t){const n=Nl(e,r);function r(...i){return Oo(i,n,t)}return r}function Nl(e,t){var n,r,i;return{defaultMergeFunctions:Qt,mergeFunctions:fe({},Qt,Object.fromEntries(Object.entries(e).filter(([o,s])=>Object.hasOwn(Qt,o)).map(([o,s])=>s===!1?[o,Qt.mergeOthers]:[o,s]))),metaDataUpdater:(n=e.metaDataUpdater)!=null?n:Sl,deepmerge:t,useImplicitDefaultMerging:(r=e.enableImplicitDefaultMerging)!=null?r:!1,filterValues:e.filterValues===!1?void 0:(i=e.filterValues)!=null?i:El,actions:Ke}}function Oo(e,t,n){var r;const i=(r=t.filterValues==null?void 0:t.filterValues(e,n))!=null?r:e;if(i.length===0)return;if(i.length===1)return Tn(i,t,n);const o=Zr(i[0]);if(o!==0&&o!==5){for(let s=1;s<i.length;s++)if(Zr(i[s])!==o)return Tn(i,t,n)}switch(o){case 1:return Ll(i,t,n);case 2:return Dl(i,t,n);case 3:return Ml(i,t,n);case 4:return jl(i,t,n);default:return Tn(i,t,n)}}function Ll(e,t,n){const r=t.mergeFunctions.mergeRecords(e,t,n);return r===Ke.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeRecords!==t.defaultMergeFunctions.mergeRecords?t.defaultMergeFunctions.mergeRecords(e,t,n):r}function Dl(e,t,n){const r=t.mergeFunctions.mergeArrays(e,t,n);return r===Ke.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeArrays!==t.defaultMergeFunctions.mergeArrays?t.defaultMergeFunctions.mergeArrays(e):r}function Ml(e,t,n){const r=t.mergeFunctions.mergeSets(e,t,n);return r===Ke.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeSets!==t.defaultMergeFunctions.mergeSets?t.defaultMergeFunctions.mergeSets(e):r}function jl(e,t,n){const r=t.mergeFunctions.mergeMaps(e,t,n);return r===Ke.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeMaps!==t.defaultMergeFunctions.mergeMaps?t.defaultMergeFunctions.mergeMaps(e):r}function Tn(e,t,n){const r=t.mergeFunctions.mergeOthers(e,t,n);return r===Ke.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeOthers!==t.defaultMergeFunctions.mergeOthers?t.defaultMergeFunctions.mergeOthers(e):r}function dr(e){const t=Object.getOwnPropertyNames(e.constructor.prototype);for(let n=0;n<t.length;n++){const r=t[n],i=e[r];r!=="constructor"&&typeof i=="function"&&(e[r]=i.bind(e))}return e}function Fl(e,t){return n=>{if(e.isOpen()){const r=e.el&&n.currentTarget===e.el;(!ae(t)&&n.currentTarget.matches(t)||r)&&e.tour.next()}}}function zl(e){const{event:t,selector:n}=e.options.advanceOn||{};if(t){const r=Fl(e,n);let i=null;if(!ae(n)&&(i=document.querySelector(n),!i))return console.error(`No element was found for the selector supplied to advanceOn: ${n}`);i?(i.addEventListener(t,r),e.on("destroy",()=>i.removeEventListener(t,r))):(document.body.addEventListener(t,r,!0),e.on("destroy",()=>document.body.removeEventListener(t,r,!0)))}else return console.error("advanceOn was defined, but no event name was passed.")}class Bl{constructor(t){}}class Hl{constructor(t,n){}}function Po(e){return!Bt(e)||e===""?"":e.charAt(e.length-1)!=="-"?`${e}-`:e}function Ul(e){const t=e.options.attachTo||{},n=Object.assign({},t);if(qe(n.element)&&(n.element=n.element.call(e)),Bt(n.element)){try{n.element=document.querySelector(n.element)}catch{}n.element||console.error(`The element for this Shepherd step was not found ${t.element}`)}return n}function Vl(e){return e.options.extraHighlights?e.options.extraHighlights.flatMap(t=>Array.from(document.querySelectorAll(t))):[]}function No(e){return e==null?!0:!e.element||!e.on}function Lo(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t=="x"?n:n&3|8).toString(16)})}const Wl=["top","right","bottom","left"],ti=["start","end"],ni=Wl.reduce((e,t)=>e.concat(t,t+"-"+ti[0],t+"-"+ti[1]),[]),Et=Math.min,nt=Math.max,an=Math.round,Jt=Math.floor,Re=e=>({x:e,y:e}),ql={left:"right",right:"left",bottom:"top",top:"bottom"},$l={start:"end",end:"start"};function Wn(e,t,n){return nt(e,Et(t,n))}function lt(e,t){return typeof e=="function"?e(t):e}function Fe(e){return e.split("-")[0]}function je(e){return e.split("-")[1]}function hr(e){return e==="x"?"y":"x"}function pr(e){return e==="y"?"height":"width"}function rt(e){return["top","bottom"].includes(Fe(e))?"y":"x"}function mr(e){return hr(rt(e))}function Do(e,t,n){n===void 0&&(n=!1);const r=je(e),i=mr(e),o=pr(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=cn(s)),[s,cn(s)]}function Yl(e){const t=cn(e);return[un(e),t,un(t)]}function un(e){return e.replace(/start|end/g,t=>$l[t])}function Kl(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function Gl(e,t,n,r){const i=je(e);let o=Kl(Fe(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(un)))),o}function cn(e){return e.replace(/left|right|bottom|top/g,t=>ql[t])}function Xl(e){return fe({top:0,right:0,bottom:0,left:0},e)}function Mo(e){return typeof e!="number"?Xl(e):{top:e,right:e,bottom:e,left:e}}function fn(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}const Ql=["crossAxis","alignment","allowedPlacements","autoAlignment"],Jl=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],Zl=["mainAxis","crossAxis","limiter"];function ri(e,t,n){let{reference:r,floating:i}=e;const o=rt(t),s=mr(t),l=pr(s),a=Fe(t),u=o==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[l]/2-i[l]/2;let d;switch(a){case"top":d={x:c,y:r.y-i.height};break;case"bottom":d={x:c,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:f};break;case"left":d={x:r.x-i.width,y:f};break;default:d={x:r.x,y:r.y}}switch(je(t)){case"start":d[s]-=h*(n&&u?-1:1);break;case"end":d[s]+=h*(n&&u?-1:1);break}return d}const ea=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,l=o.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=ri(u,r,a),h=r,d={},g=0;for(let x=0;x<l.length;x++){const{name:w,fn:b}=l[x],{x:C,y:E,data:S,reset:O}=await b({x:c,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:d,rects:u,platform:s,elements:{reference:e,floating:t}});c=C??c,f=E??f,d=fe({},d,{[w]:fe({},d[w],S)}),O&&g<=50&&(g++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(u=O.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:c,y:f}=ri(u,h,a)),x=-1)}return{x:c,y:f,placement:h,strategy:i,middlewareData:d}};async function gr(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:l,strategy:a}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:h=!1,padding:d=0}=lt(t,e),g=Mo(d),w=l[h?f==="floating"?"reference":"floating":f],b=fn(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:a})),C=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),S=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},O=fn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:E,strategy:a}):C);return{top:(b.top-O.top+g.top)/S.y,bottom:(O.bottom-b.bottom+g.bottom)/S.y,left:(b.left-O.left+g.left)/S.x,right:(O.right-b.right+g.right)/S.x}}const ta=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:l,middlewareData:a}=t,{element:u,padding:c=0}=lt(e,t)||{};if(u==null)return{};const f=Mo(c),h={x:n,y:r},d=mr(i),g=pr(d),x=await s.getDimensions(u),w=d==="y",b=w?"top":"left",C=w?"bottom":"right",E=w?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[d]-h[d]-o.floating[g],O=h[d]-o.reference[d],k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let N=k?k[E]:0;(!N||!await(s.isElement==null?void 0:s.isElement(k)))&&(N=l.floating[E]||o.floating[g]);const M=S/2-O/2,D=N/2-x[g]/2-1,_=Et(f[b],D),T=Et(f[C],D),R=_,j=N-x[g]-T,B=N/2-x[g]/2+M,L=Wn(R,B,j),z=!a.arrow&&je(i)!=null&&B!==L&&o.reference[g]/2-(B<R?_:T)-x[g]/2<0,U=z?B<R?B-R:B-j:0;return{[d]:h[d]+U,data:fe({[d]:L,centerOffset:B-L-U},z&&{alignmentOffset:U}),reset:z}}});function na(e,t,n){return(e?[...n.filter(i=>je(i)===e),...n.filter(i=>je(i)!==e)]:n.filter(i=>Fe(i)===i)).filter(i=>e?je(i)===e||(t?un(i)!==i:!1):!0)}const ra=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(n){var r,i,o;const{rects:s,middlewareData:l,placement:a,platform:u,elements:c}=n,f=lt(t,n),{crossAxis:h=!1,alignment:d,allowedPlacements:g=ni,autoAlignment:x=!0}=f,w=cr(f,Ql),b=d!==void 0||g===ni?na(d||null,x,g):g,C=await gr(n,w),E=((r=l.autoPlacement)==null?void 0:r.index)||0,S=b[E];if(S==null)return{};const O=Do(S,s,await(u.isRTL==null?void 0:u.isRTL(c.floating)));if(a!==S)return{reset:{placement:b[0]}};const k=[C[Fe(S)],C[O[0]],C[O[1]]],N=[...((i=l.autoPlacement)==null?void 0:i.overflows)||[],{placement:S,overflows:k}],M=b[E+1];if(M)return{data:{index:E+1,overflows:N},reset:{placement:M}};const D=N.map(R=>{const j=je(R.placement);return[R.placement,j&&h?R.overflows.slice(0,2).reduce((B,L)=>B+L,0):R.overflows[0],R.overflows]}).sort((R,j)=>R[1]-j[1]),T=((o=D.filter(R=>R[2].slice(0,je(R[0])?2:3).every(j=>j<=0))[0])==null?void 0:o[0])||D[0][0];return T!==a?{data:{index:E+1,overflows:N},reset:{placement:T}}:{}}}},ia=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var r,i;const{placement:o,middlewareData:s,rects:l,initialPlacement:a,platform:u,elements:c}=n,f=lt(t,n),{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0}=f,C=cr(f,Jl);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const E=Fe(o),S=rt(a),O=Fe(a)===a,k=await(u.isRTL==null?void 0:u.isRTL(c.floating)),N=g||(O||!b?[cn(a)]:Yl(a)),M=w!=="none";!g&&M&&N.push(...Gl(a,b,w,k));const D=[a,...N],_=await gr(n,C),T=[];let R=((i=s.flip)==null?void 0:i.overflows)||[];if(h&&T.push(_[E]),d){const U=Do(o,l,k);T.push(_[U[0]],_[U[1]])}if(R=[...R,{placement:o,overflows:T}],!T.every(U=>U<=0)){var j,B;const U=(((j=s.flip)==null?void 0:j.index)||0)+1,ee=D[U];if(ee){var L;const p=d==="alignment"?S!==rt(ee):!1,$=((L=R[0])==null?void 0:L.overflows[0])>0;if(!p||$)return{data:{index:U,overflows:R},reset:{placement:ee}}}let re=(B=R.filter(p=>p.overflows[0]<=0).sort((p,$)=>p.overflows[1]-$.overflows[1])[0])==null?void 0:B.placement;if(!re)switch(x){case"bestFit":{var z;const p=(z=R.filter($=>{if(M){const G=rt($.placement);return G===S||G==="y"}return!0}).map($=>[$.placement,$.overflows.filter(G=>G>0).reduce((G,m)=>G+m,0)]).sort(($,G)=>$[1]-G[1])[0])==null?void 0:z[0];p&&(re=p);break}case"initialPlacement":re=a;break}if(o!==re)return{reset:{placement:re}}}return{}}}},oa=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:r,y:i,placement:o}=n,s=lt(t,n),{mainAxis:l=!0,crossAxis:a=!1,limiter:u={fn:C=>{let{x:E,y:S}=C;return{x:E,y:S}}}}=s,c=cr(s,Zl),f={x:r,y:i},h=await gr(n,c),d=rt(Fe(o)),g=hr(d);let x=f[g],w=f[d];if(l){const C=g==="y"?"top":"left",E=g==="y"?"bottom":"right",S=x+h[C],O=x-h[E];x=Wn(S,x,O)}if(a){const C=d==="y"?"top":"left",E=d==="y"?"bottom":"right",S=w+h[C],O=w-h[E];w=Wn(S,w,O)}const b=u.fn(fe({},n,{[g]:x,[d]:w}));return fe({},b,{data:{x:b.x-r,y:b.y-i,enabled:{[g]:l,[d]:a}}})}}},sa=function(t){return t===void 0&&(t={}),{options:t,fn(n){const{x:r,y:i,placement:o,rects:s,middlewareData:l}=n,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=lt(t,n),f={x:r,y:i},h=rt(o),d=hr(h);let g=f[d],x=f[h];const w=lt(a,n),b=typeof w=="number"?{mainAxis:w,crossAxis:0}:fe({mainAxis:0,crossAxis:0},w);if(u){const S=d==="y"?"height":"width",O=s.reference[d]-s.floating[S]+b.mainAxis,k=s.reference[d]+s.reference[S]-b.mainAxis;g<O?g=O:g>k&&(g=k)}if(c){var C,E;const S=d==="y"?"width":"height",O=["top","left"].includes(Fe(o)),k=s.reference[h]-s.floating[S]+(O&&((C=l.offset)==null?void 0:C[h])||0)+(O?0:b.crossAxis),N=s.reference[h]+s.reference[S]+(O?0:((E=l.offset)==null?void 0:E[h])||0)-(O?b.crossAxis:0);x<k?x=k:x>N&&(x=N)}return{[d]:g,[h]:x}}}};function gn(){return typeof window<"u"}function Tt(e){return jo(e)?(e.nodeName||"").toLowerCase():"#document"}function xe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Le(e){var t;return(t=(jo(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jo(e){return gn()?e instanceof Node||e instanceof xe(e).Node:!1}function _e(e){return gn()?e instanceof Element||e instanceof xe(e).Element:!1}function Oe(e){return gn()?e instanceof HTMLElement||e instanceof xe(e).HTMLElement:!1}function ii(e){return!gn()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xe(e).ShadowRoot}function Wt(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ce(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function la(e){return["table","td","th"].includes(Tt(e))}function yn(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function yr(e){const t=xr(),n=_e(e)?Ce(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function aa(e){let t=$e(e);for(;Oe(t)&&!vt(t);){if(yr(t))return t;if(yn(t))return null;t=$e(t)}return null}function xr(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vt(e){return["html","body","#document"].includes(Tt(e))}function Ce(e){return xe(e).getComputedStyle(e)}function xn(e){return _e(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $e(e){if(Tt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ii(e)&&e.host||Le(e);return ii(t)?t.host:t}function Fo(e){const t=$e(e);return vt(t)?e.ownerDocument?e.ownerDocument.body:e.body:Oe(t)&&Wt(t)?t:Fo(t)}function Ht(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Fo(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=xe(i);if(o){const l=qn(s);return t.concat(s,s.visualViewport||[],Wt(i)?i:[],l&&n?Ht(l):[])}return t.concat(i,Ht(i,[],n))}function qn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zo(e){const t=Ce(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Oe(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,l=an(n)!==o||an(r)!==s;return l&&(n=o,r=s),{width:n,height:r,$:l}}function br(e){return _e(e)?e:e.contextElement}function xt(e){const t=br(e);if(!Oe(t))return Re(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=zo(t);let s=(o?an(n.width):n.width)/r,l=(o?an(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const ua=Re(0);function Bo(e){const t=xe(e);return!xr()||!t.visualViewport?ua:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ca(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==xe(e)?!1:t}function at(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=br(e);let s=Re(1);t&&(r?_e(r)&&(s=xt(r)):s=xt(e));const l=ca(o,n,r)?Bo(o):Re(0);let a=(i.left+l.x)/s.x,u=(i.top+l.y)/s.y,c=i.width/s.x,f=i.height/s.y;if(o){const h=xe(o),d=r&&_e(r)?xe(r):r;let g=h,x=qn(g);for(;x&&r&&d!==g;){const w=xt(x),b=x.getBoundingClientRect(),C=Ce(x),E=b.left+(x.clientLeft+parseFloat(C.paddingLeft))*w.x,S=b.top+(x.clientTop+parseFloat(C.paddingTop))*w.y;a*=w.x,u*=w.y,c*=w.x,f*=w.y,a+=E,u+=S,g=xe(x),x=qn(g)}}return fn({width:c,height:f,x:a,y:u})}function wr(e,t){const n=xn(e).scrollLeft;return t?t.left+n:at(Le(e)).left+n}function Ho(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:wr(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function fa(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Le(r),l=t?yn(t.floating):!1;if(r===s||l&&o)return n;let a={scrollLeft:0,scrollTop:0},u=Re(1);const c=Re(0),f=Oe(r);if((f||!f&&!o)&&((Tt(r)!=="body"||Wt(s))&&(a=xn(r)),Oe(r))){const d=at(r);u=xt(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}const h=s&&!f&&!o?Ho(s,a,!0):Re(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-a.scrollLeft*u.x+c.x+h.x,y:n.y*u.y-a.scrollTop*u.y+c.y+h.y}}function da(e){return Array.from(e.getClientRects())}function ha(e){const t=Le(e),n=xn(e),r=e.ownerDocument.body,i=nt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=nt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+wr(e);const l=-n.scrollTop;return Ce(r).direction==="rtl"&&(s+=nt(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:l}}function pa(e,t){const n=xe(e),r=Le(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,l=0,a=0;if(i){o=i.width,s=i.height;const u=xr();(!u||u&&t==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:o,height:s,x:l,y:a}}function ma(e,t){const n=at(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Oe(e)?xt(e):Re(1),s=e.clientWidth*o.x,l=e.clientHeight*o.y,a=i*o.x,u=r*o.y;return{width:s,height:l,x:a,y:u}}function oi(e,t,n){let r;if(t==="viewport")r=pa(e,n);else if(t==="document")r=ha(Le(e));else if(_e(t))r=ma(t,n);else{const i=Bo(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return fn(r)}function Uo(e,t){const n=$e(e);return n===t||!_e(n)||vt(n)?!1:Ce(n).position==="fixed"||Uo(n,t)}function ga(e,t){const n=t.get(e);if(n)return n;let r=Ht(e,[],!1).filter(l=>_e(l)&&Tt(l)!=="body"),i=null;const o=Ce(e).position==="fixed";let s=o?$e(e):e;for(;_e(s)&&!vt(s);){const l=Ce(s),a=yr(s);!a&&l.position==="fixed"&&(i=null),(o?!a&&!i:!a&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Wt(s)&&!a&&Uo(e,s))?r=r.filter(c=>c!==s):i=l,s=$e(s)}return t.set(e,r),r}function ya(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?yn(t)?[]:ga(t,this._c):[].concat(n),r],l=s[0],a=s.reduce((u,c)=>{const f=oi(t,c,i);return u.top=nt(f.top,u.top),u.right=Et(f.right,u.right),u.bottom=Et(f.bottom,u.bottom),u.left=nt(f.left,u.left),u},oi(t,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function xa(e){const{width:t,height:n}=zo(e);return{width:t,height:n}}function ba(e,t,n){const r=Oe(t),i=Le(t),o=n==="fixed",s=at(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const a=Re(0);function u(){a.x=wr(i)}if(r||!r&&!o)if((Tt(t)!=="body"||Wt(i))&&(l=xn(t)),r){const d=at(t,!0,o,t);a.x=d.x+t.clientLeft,a.y=d.y+t.clientTop}else i&&u();o&&!r&&i&&u();const c=i&&!r&&!o?Ho(i,l):Re(0),f=s.left+l.scrollLeft-a.x-c.x,h=s.top+l.scrollTop-a.y-c.y;return{x:f,y:h,width:s.width,height:s.height}}function An(e){return Ce(e).position==="static"}function si(e,t){if(!Oe(e)||Ce(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Le(e)===n&&(n=n.ownerDocument.body),n}function Vo(e,t){const n=xe(e);if(yn(e))return n;if(!Oe(e)){let i=$e(e);for(;i&&!vt(i);){if(_e(i)&&!An(i))return i;i=$e(i)}return n}let r=si(e,t);for(;r&&la(r)&&An(r);)r=si(r,t);return r&&vt(r)&&An(r)&&!yr(r)?n:r||aa(e)||n}const wa=async function(t){const n=this.getOffsetParent||Vo,r=this.getDimensions,i=await r(t.floating);return{reference:ba(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function ka(e){return Ce(e).direction==="rtl"}const Sa={convertOffsetParentRelativeRectToViewportRelativeRect:fa,getDocumentElement:Le,getClippingRect:ya,getOffsetParent:Vo,getElementRects:wa,getClientRects:da,getDimensions:xa,getScale:xt,isElement:_e,isRTL:ka};function Wo(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ea(e,t){let n=null,r;const i=Le(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),o();const u=e.getBoundingClientRect(),{left:c,top:f,width:h,height:d}=u;if(l||t(),!h||!d)return;const g=Jt(f),x=Jt(i.clientWidth-(c+h)),w=Jt(i.clientHeight-(f+d)),b=Jt(c),E={rootMargin:-g+"px "+-x+"px "+-w+"px "+-b+"px",threshold:nt(0,Et(1,a))||1};let S=!0;function O(k){const N=k[0].intersectionRatio;if(N!==a){if(!S)return s();N?s(!1,N):r=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!Wo(u,e.getBoundingClientRect())&&s(),S=!1}try{n=new IntersectionObserver(O,fe({},E,{root:i.ownerDocument}))}catch{n=new IntersectionObserver(O,E)}n.observe(e)}return s(!0),o}function va(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,u=br(e),c=i||o?[...u?Ht(u):[],...Ht(t)]:[];c.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const f=u&&l?Ea(u,n):null;let h=-1,d=null;s&&(d=new ResizeObserver(b=>{let[C]=b;C&&C.target===u&&d&&(d.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=d)==null||E.observe(t)})),n()}),u&&!a&&d.observe(u),d.observe(t));let g,x=a?at(e):null;a&&w();function w(){const b=at(e);x&&!Wo(x,b)&&n(),x=b,g=requestAnimationFrame(w)}return n(),()=>{var b;c.forEach(C=>{i&&C.removeEventListener("scroll",n),o&&C.removeEventListener("resize",n)}),f==null||f(),(b=d)==null||b.disconnect(),d=null,a&&cancelAnimationFrame(g)}}const _a=ra,Ca=oa,Ta=ia,Aa=ta,Ia=sa,Ra=(e,t,n)=>{const r=new Map,i=fe({platform:Sa},n),o=fe({},i.platform,{_c:r});return ea(e,t,fe({},i,{platform:o}))};function Oa(e){e.cleanup&&e.cleanup();const t=e._getResolvedAttachToOptions();let n=t.element;const r=ja(t,e),i=No(t);return i&&(n=document.body,e.shepherdElementComponent.getElement().classList.add("shepherd-centered")),e.cleanup=va(n,e.el,()=>{if(!e.el){e.cleanup==null||e.cleanup();return}La(n,e,r,i)}),e.target=t.element,r}function Pa(e,t){return{floatingUIOptions:fr(e.floatingUIOptions||{},t.floatingUIOptions||{})}}function Na(e){e.cleanup&&e.cleanup(),e.cleanup=null}function La(e,t,n,r){return Ra(e,t.el,n).then(Da(t,r)).then(i=>new Promise(o=>{setTimeout(()=>o(i),300)})).then(i=>{i!=null&&i.el&&(i.el.tabIndex=0,i.el.focus({preventScroll:!0}))})}function Da(e,t){return({x:n,y:r,placement:i,middlewareData:o})=>(e.el&&(t?Object.assign(e.el.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}):Object.assign(e.el.style,{position:"absolute",left:`${n}px`,top:`${r}px`}),e.el.dataset.popperPlacement=i,Ma(e.el,o)),e)}function Ma(e,t){const n=e.querySelector(".shepherd-arrow");if(St(n)&&t.arrow){const{x:r,y:i}=t.arrow;Object.assign(n.style,{left:r!=null?`${r}px`:"",top:i!=null?`${i}px`:""})}}function ja(e,t){var n,r,i;const o={strategy:"absolute"};o.middleware=[];const s=Fa(t),l=No(e),a=(n=e.on)==null?void 0:n.includes("auto"),u=(e==null||(r=e.on)==null?void 0:r.includes("-start"))||(e==null||(i=e.on)==null?void 0:i.includes("-end"));if(!l){if(a){var c;o.middleware.push(_a({crossAxis:!0,alignment:u?e==null||(c=e.on)==null?void 0:c.split("-").pop():null}))}else o.middleware.push(Ta());if(o.middleware.push(Ca({limiter:Ia(),crossAxis:!0})),s){const f=typeof t.options.arrow=="object"?t.options.arrow:{padding:4};o.middleware.push(Aa({element:s,padding:u?f.padding:0}))}a||(o.placement=e.on)}return fr(o,t.options.floatingUIOptions||{})}function Fa(e){return e.options.arrow&&e.el?e.el.querySelector(".shepherd-arrow"):!1}function be(){}function za(e,t){for(const n in t)e[n]=t[n];return e}function qo(e){return e()}function li(){return Object.create(null)}function qt(e){e.forEach(qo)}function kr(e){return typeof e=="function"}function ze(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ba(e){return Object.keys(e).length===0}function _t(e,t){e.appendChild(t)}function Te(e,t,n){e.insertBefore(t,n||null)}function Se(e){e.parentNode&&e.parentNode.removeChild(e)}function Ha(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function Pe(e){return document.createElement(e)}function ai(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function $o(e){return document.createTextNode(e)}function dn(){return $o(" ")}function Ua(){return $o("")}function bn(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Q(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const Va=["width","height"];function ui(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)t[r]==null?e.removeAttribute(r):r==="style"?e.style.cssText=t[r]:r==="__value"?e.value=e[r]=t[r]:n[r]&&n[r].set&&Va.indexOf(r)===-1?e[r]=t[r]:Q(e,r,t[r])}function Wa(e){return Array.from(e.childNodes)}function ht(e,t,n){e.classList.toggle(t,!!n)}let Ut;function Dt(e){Ut=e}function Sr(){if(!Ut)throw new Error("Function called outside component initialization");return Ut}function qa(e){Sr().$$.on_mount.push(e)}function Er(e){Sr().$$.after_update.push(e)}function $a(e){Sr().$$.on_destroy.push(e)}const yt=[],Ct=[];let bt=[];const ci=[],Ya=Promise.resolve();let $n=!1;function Ka(){$n||($n=!0,Ya.then(Yo))}function Yn(e){bt.push(e)}const In=new Set;let pt=0;function Yo(){if(pt!==0)return;const e=Ut;do{try{for(;pt<yt.length;){const t=yt[pt];pt++,Dt(t),Ga(t.$$)}}catch(t){throw yt.length=0,pt=0,t}for(Dt(null),yt.length=0,pt=0;Ct.length;)Ct.pop()();for(let t=0;t<bt.length;t+=1){const n=bt[t];In.has(n)||(In.add(n),n())}bt.length=0}while(yt.length);for(;ci.length;)ci.pop()();$n=!1,In.clear(),Dt(e)}function Ga(e){if(e.fragment!==null){e.update(),qt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Yn)}}function Xa(e){const t=[],n=[];bt.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),bt=t}const rn=new Set;let et;function it(){et={r:0,c:[],p:et}}function ot(){et.r||qt(et.c),et=et.p}function K(e,t){e&&e.i&&(rn.delete(e),e.i(t))}function ie(e,t,n,r){if(e&&e.o){if(rn.has(e))return;rn.add(e),et.c.push(()=>{rn.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function fi(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Qa(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const s=e[o],l=t[o];if(l){for(const a in s)a in l||(r[a]=1);for(const a in l)i[a]||(n[a]=l[a],i[a]=1);e[o]=l}else for(const a in s)i[a]=1}for(const s in r)s in n||(n[s]=void 0);return n}function ut(e){e&&e.c()}function Ge(e,t,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),Yn(()=>{const o=e.$$.on_mount.map(qo).filter(kr);e.$$.on_destroy?e.$$.on_destroy.push(...o):qt(o),e.$$.on_mount=[]}),i.forEach(Yn)}function Xe(e,t){const n=e.$$;n.fragment!==null&&(Xa(n.after_update),qt(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ja(e,t){e.$$.dirty[0]===-1&&(yt.push(e),Ka(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Be(e,t,n,r,i,o,s=null,l=[-1]){const a=Ut;Dt(e);const u=e.$$={fragment:null,ctx:[],props:o,update:be,not_equal:i,bound:li(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:li(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};s&&s(u.root);let c=!1;if(u.ctx=n?n(e,t.props||{},(f,h,...d)=>{const g=d.length?d[0]:h;return u.ctx&&i(u.ctx[f],u.ctx[f]=g)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](g),c&&Ja(e,f)),h}):[],u.update(),c=!0,qt(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const f=Wa(t.target);u.fragment&&u.fragment.l(f),f.forEach(Se)}else u.fragment&&u.fragment.c();t.intro&&K(e.$$.fragment),Ge(e,t.target,t.anchor),Yo()}Dt(a)}class He{constructor(){this.$$=void 0,this.$$set=void 0}$destroy(){Xe(this,1),this.$destroy=be}$on(t,n){if(!kr(n))return be;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Ba(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Za="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Za);function eu(e){let t,n,r,i,o;return{c(){t=Pe("button"),Q(t,"aria-label",n=e[3]?e[3]:null),Q(t,"class",r=`${e[1]||""} shepherd-button ${e[4]?"shepherd-button-secondary":""}`),t.disabled=e[2],Q(t,"tabindex","0"),Q(t,"type","button")},m(s,l){Te(s,t,l),t.innerHTML=e[5],i||(o=bn(t,"click",function(){kr(e[0])&&e[0].apply(this,arguments)}),i=!0)},p(s,[l]){e=s,l&32&&(t.innerHTML=e[5]),l&8&&n!==(n=e[3]?e[3]:null)&&Q(t,"aria-label",n),l&18&&r!==(r=`${e[1]||""} shepherd-button ${e[4]?"shepherd-button-secondary":""}`)&&Q(t,"class",r),l&4&&(t.disabled=e[2])},i:be,o:be,d(s){s&&Se(t),i=!1,o()}}}function tu(e,t,n){let{config:r,step:i}=t,o,s,l,a,u,c;function f(h){return qe(h)?h=h.call(i):h}return e.$$set=h=>{"config"in h&&n(6,r=h.config),"step"in h&&n(7,i=h.step)},e.$$.update=()=>{e.$$.dirty&192&&(n(0,o=r.action?r.action.bind(i.tour):null),n(1,s=r.classes),n(2,l=r.disabled?f(r.disabled):!1),n(3,a=r.label?f(r.label):null),n(4,u=r.secondary),n(5,c=r.text?f(r.text):null))},[o,s,l,a,u,c,r,i]}class nu extends He{constructor(t){super(),Be(this,t,tu,eu,ze,{config:6,step:7})}}function di(e,t,n){const r=e.slice();return r[2]=t[n],r}function hi(e){let t,n,r=fi(e[1]),i=[];for(let s=0;s<r.length;s+=1)i[s]=pi(di(e,r,s));const o=s=>ie(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=Ua()},m(s,l){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(s,l);Te(s,t,l),n=!0},p(s,l){if(l&3){r=fi(s[1]);let a;for(a=0;a<r.length;a+=1){const u=di(s,r,a);i[a]?(i[a].p(u,l),K(i[a],1)):(i[a]=pi(u),i[a].c(),K(i[a],1),i[a].m(t.parentNode,t))}for(it(),a=r.length;a<i.length;a+=1)o(a);ot()}},i(s){if(!n){for(let l=0;l<r.length;l+=1)K(i[l]);n=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)ie(i[l]);n=!1},d(s){s&&Se(t),Ha(i,s)}}}function pi(e){let t,n;return t=new nu({props:{config:e[2],step:e[0]}}),{c(){ut(t.$$.fragment)},m(r,i){Ge(t,r,i),n=!0},p(r,i){const o={};i&2&&(o.config=r[2]),i&1&&(o.step=r[0]),t.$set(o)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){ie(t.$$.fragment,r),n=!1},d(r){Xe(t,r)}}}function ru(e){let t,n,r=e[1]&&hi(e);return{c(){t=Pe("footer"),r&&r.c(),Q(t,"class","shepherd-footer")},m(i,o){Te(i,t,o),r&&r.m(t,null),n=!0},p(i,[o]){i[1]?r?(r.p(i,o),o&2&&K(r,1)):(r=hi(i),r.c(),K(r,1),r.m(t,null)):r&&(it(),ie(r,1,1,()=>{r=null}),ot())},i(i){n||(K(r),n=!0)},o(i){ie(r),n=!1},d(i){i&&Se(t),r&&r.d()}}}function iu(e,t,n){let r,{step:i}=t;return e.$$set=o=>{"step"in o&&n(0,i=o.step)},e.$$.update=()=>{e.$$.dirty&1&&n(1,r=i.options.buttons)},[i,r]}class ou extends He{constructor(t){super(),Be(this,t,iu,ru,ze,{step:0})}}function su(e){let t,n,r,i,o;return{c(){t=Pe("button"),n=Pe("span"),n.textContent="",Q(n,"aria-hidden","true"),Q(t,"aria-label",r=e[0].label?e[0].label:"Close Tour"),Q(t,"class","shepherd-cancel-icon"),Q(t,"type","button")},m(s,l){Te(s,t,l),_t(t,n),i||(o=bn(t,"click",e[1]),i=!0)},p(s,[l]){l&1&&r!==(r=s[0].label?s[0].label:"Close Tour")&&Q(t,"aria-label",r)},i:be,o:be,d(s){s&&Se(t),i=!1,o()}}}function lu(e,t,n){let{cancelIcon:r,step:i}=t;const o=s=>{s.preventDefault(),i.cancel()};return e.$$set=s=>{"cancelIcon"in s&&n(0,r=s.cancelIcon),"step"in s&&n(2,i=s.step)},[r,o,i]}class au extends He{constructor(t){super(),Be(this,t,lu,su,ze,{cancelIcon:0,step:2})}}function uu(e){let t;return{c(){t=Pe("h3"),Q(t,"id",e[1]),Q(t,"class","shepherd-title")},m(n,r){Te(n,t,r),e[3](t)},p(n,[r]){r&2&&Q(t,"id",n[1])},i:be,o:be,d(n){n&&Se(t),e[3](null)}}}function cu(e,t,n){let{labelId:r,element:i,title:o}=t;Er(()=>{qe(o)&&n(2,o=o()),n(0,i.innerHTML=o,i)});function s(l){Ct[l?"unshift":"push"](()=>{i=l,n(0,i)})}return e.$$set=l=>{"labelId"in l&&n(1,r=l.labelId),"element"in l&&n(0,i=l.element),"title"in l&&n(2,o=l.title)},[i,r,o,s]}class fu extends He{constructor(t){super(),Be(this,t,cu,uu,ze,{labelId:1,element:0,title:2})}}function mi(e){let t,n;return t=new fu({props:{labelId:e[0],title:e[2]}}),{c(){ut(t.$$.fragment)},m(r,i){Ge(t,r,i),n=!0},p(r,i){const o={};i&1&&(o.labelId=r[0]),i&4&&(o.title=r[2]),t.$set(o)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){ie(t.$$.fragment,r),n=!1},d(r){Xe(t,r)}}}function gi(e){let t,n;return t=new au({props:{cancelIcon:e[3],step:e[1]}}),{c(){ut(t.$$.fragment)},m(r,i){Ge(t,r,i),n=!0},p(r,i){const o={};i&8&&(o.cancelIcon=r[3]),i&2&&(o.step=r[1]),t.$set(o)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){ie(t.$$.fragment,r),n=!1},d(r){Xe(t,r)}}}function du(e){let t,n,r,i=e[2]&&mi(e),o=e[3]&&e[3].enabled&&gi(e);return{c(){t=Pe("header"),i&&i.c(),n=dn(),o&&o.c(),Q(t,"class","shepherd-header")},m(s,l){Te(s,t,l),i&&i.m(t,null),_t(t,n),o&&o.m(t,null),r=!0},p(s,[l]){s[2]?i?(i.p(s,l),l&4&&K(i,1)):(i=mi(s),i.c(),K(i,1),i.m(t,n)):i&&(it(),ie(i,1,1,()=>{i=null}),ot()),s[3]&&s[3].enabled?o?(o.p(s,l),l&8&&K(o,1)):(o=gi(s),o.c(),K(o,1),o.m(t,null)):o&&(it(),ie(o,1,1,()=>{o=null}),ot())},i(s){r||(K(i),K(o),r=!0)},o(s){ie(i),ie(o),r=!1},d(s){s&&Se(t),i&&i.d(),o&&o.d()}}}function hu(e,t,n){let{labelId:r,step:i}=t,o,s;return e.$$set=l=>{"labelId"in l&&n(0,r=l.labelId),"step"in l&&n(1,i=l.step)},e.$$.update=()=>{e.$$.dirty&2&&(n(2,o=i.options.title),n(3,s=i.options.cancelIcon))},[r,i,o,s]}class pu extends He{constructor(t){super(),Be(this,t,hu,du,ze,{labelId:0,step:1})}}function mu(e){let t;return{c(){t=Pe("div"),Q(t,"class","shepherd-text"),Q(t,"id",e[1])},m(n,r){Te(n,t,r),e[3](t)},p(n,[r]){r&2&&Q(t,"id",n[1])},i:be,o:be,d(n){n&&Se(t),e[3](null)}}}function gu(e,t,n){let{descriptionId:r,element:i,step:o}=t;Er(()=>{let{text:l}=o.options;qe(l)&&(l=l.call(o)),St(l)?i.appendChild(l):n(0,i.innerHTML=l,i)});function s(l){Ct[l?"unshift":"push"](()=>{i=l,n(0,i)})}return e.$$set=l=>{"descriptionId"in l&&n(1,r=l.descriptionId),"element"in l&&n(0,i=l.element),"step"in l&&n(2,o=l.step)},[i,r,o,s]}class yu extends He{constructor(t){super(),Be(this,t,gu,mu,ze,{descriptionId:1,element:0,step:2})}}function yi(e){let t,n;return t=new pu({props:{labelId:e[1],step:e[2]}}),{c(){ut(t.$$.fragment)},m(r,i){Ge(t,r,i),n=!0},p(r,i){const o={};i&2&&(o.labelId=r[1]),i&4&&(o.step=r[2]),t.$set(o)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){ie(t.$$.fragment,r),n=!1},d(r){Xe(t,r)}}}function xi(e){let t,n;return t=new yu({props:{descriptionId:e[0],step:e[2]}}),{c(){ut(t.$$.fragment)},m(r,i){Ge(t,r,i),n=!0},p(r,i){const o={};i&1&&(o.descriptionId=r[0]),i&4&&(o.step=r[2]),t.$set(o)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){ie(t.$$.fragment,r),n=!1},d(r){Xe(t,r)}}}function bi(e){let t,n;return t=new ou({props:{step:e[2]}}),{c(){ut(t.$$.fragment)},m(r,i){Ge(t,r,i),n=!0},p(r,i){const o={};i&4&&(o.step=r[2]),t.$set(o)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){ie(t.$$.fragment,r),n=!1},d(r){Xe(t,r)}}}function xu(e){let t,n=!ae(e[2].options.title)||e[2].options.cancelIcon&&e[2].options.cancelIcon.enabled,r,i=!ae(e[2].options.text),o,s=Array.isArray(e[2].options.buttons)&&e[2].options.buttons.length,l,a=n&&yi(e),u=i&&xi(e),c=s&&bi(e);return{c(){t=Pe("div"),a&&a.c(),r=dn(),u&&u.c(),o=dn(),c&&c.c(),Q(t,"class","shepherd-content")},m(f,h){Te(f,t,h),a&&a.m(t,null),_t(t,r),u&&u.m(t,null),_t(t,o),c&&c.m(t,null),l=!0},p(f,[h]){h&4&&(n=!ae(f[2].options.title)||f[2].options.cancelIcon&&f[2].options.cancelIcon.enabled),n?a?(a.p(f,h),h&4&&K(a,1)):(a=yi(f),a.c(),K(a,1),a.m(t,r)):a&&(it(),ie(a,1,1,()=>{a=null}),ot()),h&4&&(i=!ae(f[2].options.text)),i?u?(u.p(f,h),h&4&&K(u,1)):(u=xi(f),u.c(),K(u,1),u.m(t,o)):u&&(it(),ie(u,1,1,()=>{u=null}),ot()),h&4&&(s=Array.isArray(f[2].options.buttons)&&f[2].options.buttons.length),s?c?(c.p(f,h),h&4&&K(c,1)):(c=bi(f),c.c(),K(c,1),c.m(t,null)):c&&(it(),ie(c,1,1,()=>{c=null}),ot())},i(f){l||(K(a),K(u),K(c),l=!0)},o(f){ie(a),ie(u),ie(c),l=!1},d(f){f&&Se(t),a&&a.d(),u&&u.d(),c&&c.d()}}}function bu(e,t,n){let{descriptionId:r,labelId:i,step:o}=t;return e.$$set=s=>{"descriptionId"in s&&n(0,r=s.descriptionId),"labelId"in s&&n(1,i=s.labelId),"step"in s&&n(2,o=s.step)},[r,i,o]}class wu extends He{constructor(t){super(),Be(this,t,bu,xu,ze,{descriptionId:0,labelId:1,step:2})}}function wi(e){let t;return{c(){t=Pe("div"),Q(t,"class","shepherd-arrow"),Q(t,"data-popper-arrow","")},m(n,r){Te(n,t,r)},d(n){n&&Se(t)}}}function ku(e){let t,n,r,i,o,s,l,a,u=e[4].options.arrow&&e[4].options.attachTo&&e[4].options.attachTo.element&&e[4].options.attachTo.on&&wi();r=new wu({props:{descriptionId:e[2],labelId:e[3],step:e[4]}});let c=[{"aria-describedby":i=ae(e[4].options.text)?null:e[2]},{"aria-labelledby":o=e[4].options.title?e[3]:null},e[1],{open:"true"}],f={};for(let h=0;h<c.length;h+=1)f=za(f,c[h]);return{c(){t=Pe("dialog"),u&&u.c(),n=dn(),ut(r.$$.fragment),ui(t,f),ht(t,"shepherd-has-cancel-icon",e[5]),ht(t,"shepherd-has-title",e[6]),ht(t,"shepherd-element",!0)},m(h,d){Te(h,t,d),u&&u.m(t,null),_t(t,n),Ge(r,t,null),e[18](t),s=!0,l||(a=bn(t,"keydown",e[7]),l=!0)},p(h,[d]){h[4].options.arrow&&h[4].options.attachTo&&h[4].options.attachTo.element&&h[4].options.attachTo.on?u||(u=wi(),u.c(),u.m(t,n)):u&&(u.d(1),u=null);const g={};d&4&&(g.descriptionId=h[2]),d&8&&(g.labelId=h[3]),d&16&&(g.step=h[4]),r.$set(g),ui(t,f=Qa(c,[(!s||d&20&&i!==(i=ae(h[4].options.text)?null:h[2]))&&{"aria-describedby":i},(!s||d&24&&o!==(o=h[4].options.title?h[3]:null))&&{"aria-labelledby":o},d&2&&h[1],{open:"true"}])),ht(t,"shepherd-has-cancel-icon",h[5]),ht(t,"shepherd-has-title",h[6]),ht(t,"shepherd-element",!0)},i(h){s||(K(r.$$.fragment,h),s=!0)},o(h){ie(r.$$.fragment,h),s=!1},d(h){h&&Se(t),u&&u.d(),Xe(r),e[18](null),l=!1,a()}}}const Su=9,Eu=27,vu=37,_u=39;function ki(e){return e.split(" ").filter(t=>!!t.length)}function Cu(e,t,n){let{attachToElement:r,attachTofocusableDialogElements:i,classPrefix:o,element:s,descriptionId:l,focusableAttachToElements:a,firstFocusableAttachToElement:u,lastFocusableAttachToElement:c,firstFocusableDialogElement:f,focusableDialogElements:h,lastFocusableDialogElement:d,labelId:g,step:x,dataStepId:w}=t,b,C,E;const S=()=>s;qa(()=>{n(1,w={[`data-${o}shepherd-step-id`]:x.id}),n(13,h=[...s.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')]),n(12,f=h[0]),n(14,d=h[h.length-1]);const _=x._getResolvedAttachToOptions();_!=null&&_.element&&(n(8,r=_.element),n(8,r.tabIndex=0,r),n(9,a=[r,...r.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')]),n(10,u=a[0]),n(11,c=a[a.length-1]),r.addEventListener("keydown",M))}),$a(()=>{var _;(_=r)==null||_.removeEventListener("keydown",M)}),Er(()=>{E!==x.options.classes&&O()});function O(){k(E),E=x.options.classes,N(E)}function k(_){if(Bt(_)){const T=ki(_);T.length&&s.classList.remove(...T)}}function N(_){if(Bt(_)){const T=ki(_);T.length&&s.classList.add(...T)}}const M=_=>{const{tour:T}=x;switch(_.keyCode){case Su:if((!a||a.length===0)&&h.length===0){_.preventDefault();break}if(_.shiftKey)if(document.activeElement===f||document.activeElement.classList.contains("shepherd-element")){var R;_.preventDefault(),((R=c)!=null?R:d).focus()}else document.activeElement===u&&(_.preventDefault(),d.focus());else if(document.activeElement===d){var j;_.preventDefault(),((j=u)!=null?j:f).focus()}else document.activeElement===c&&(_.preventDefault(),f.focus());break;case Eu:T.options.exitOnEsc&&(_.preventDefault(),_.stopPropagation(),x.cancel());break;case vu:T.options.keyboardNavigation&&(_.preventDefault(),_.stopPropagation(),T.back());break;case _u:T.options.keyboardNavigation&&(_.preventDefault(),_.stopPropagation(),T.next());break}};function D(_){Ct[_?"unshift":"push"](()=>{s=_,n(0,s)})}return e.$$set=_=>{"attachToElement"in _&&n(8,r=_.attachToElement),"attachTofocusableDialogElements"in _&&n(15,i=_.attachTofocusableDialogElements),"classPrefix"in _&&n(16,o=_.classPrefix),"element"in _&&n(0,s=_.element),"descriptionId"in _&&n(2,l=_.descriptionId),"focusableAttachToElements"in _&&n(9,a=_.focusableAttachToElements),"firstFocusableAttachToElement"in _&&n(10,u=_.firstFocusableAttachToElement),"lastFocusableAttachToElement"in _&&n(11,c=_.lastFocusableAttachToElement),"firstFocusableDialogElement"in _&&n(12,f=_.firstFocusableDialogElement),"focusableDialogElements"in _&&n(13,h=_.focusableDialogElements),"lastFocusableDialogElement"in _&&n(14,d=_.lastFocusableDialogElement),"labelId"in _&&n(3,g=_.labelId),"step"in _&&n(4,x=_.step),"dataStepId"in _&&n(1,w=_.dataStepId)},e.$$.update=()=>{e.$$.dirty&16&&(n(5,b=x.options&&x.options.cancelIcon&&x.options.cancelIcon.enabled),n(6,C=x.options&&x.options.title))},[s,w,l,g,x,b,C,M,r,a,u,c,f,h,d,i,o,S,D]}class Tu extends He{constructor(t){super(),Be(this,t,Cu,ku,ze,{attachToElement:8,attachTofocusableDialogElements:15,classPrefix:16,element:0,descriptionId:2,focusableAttachToElements:9,firstFocusableAttachToElement:10,lastFocusableAttachToElement:11,firstFocusableDialogElement:12,focusableDialogElements:13,lastFocusableDialogElement:14,labelId:3,step:4,dataStepId:1,getElement:17})}get getElement(){return this.$$.ctx[17]}}class Kn extends ur{constructor(t,n={}){return super(),this._resolvedAttachTo=void 0,this._resolvedExtraHighlightElements=void 0,this.classPrefix=void 0,this.el=void 0,this.target=void 0,this.tour=void 0,this.tour=t,this.classPrefix=this.tour.options?Po(this.tour.options.classPrefix):"",this.styles=t.styles,this._resolvedAttachTo=null,dr(this),this._setOptions(n),this}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){Na(this),St(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}getTour(){return this.tour}hide(){var t;(t=this.tour.modal)==null||t.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}_resolveExtraHiglightElements(){return this._resolvedExtraHighlightElements=Vl(this),this._resolvedExtraHighlightElements}_resolveAttachToOptions(){return this._resolvedAttachTo=Ul(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return this._resolvedAttachTo===null?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!!(this.el&&!this.el.hidden)}show(){return qe(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(t){Object.assign(this.options,t),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){const t=`${this.id}-description`,n=`${this.id}-label`;return this.shepherdElementComponent=new Tu({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:t,labelId:n,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(t){const{element:n}=this._getResolvedAttachToOptions();qe(this.options.scrollToHandler)?this.options.scrollToHandler(n):kl(n)&&typeof n.scrollIntoView=="function"&&n.scrollIntoView(t)}_getClassOptions(t){const n=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,r=t.classes?t.classes:"",i=n&&n.classes?n.classes:"",o=[...r.split(" "),...i.split(" ")],s=new Set(o);return Array.from(s).join(" ").trim()}_setOptions(t={}){let n=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;n=fr({},n||{}),this.options=Object.assign({arrow:!0},n,t,Pa(n,t));const{when:r}=this.options;this.options.classes=this._getClassOptions(t),this.destroy(),this.id=this.options.id||`step-${Lo()}`,r&&Object.keys(r).forEach(i=>{this.on(i,r[i],this)})}_setupElements(){ae(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&zl(this),Oa(this)}_show(){var t;this.trigger("before-show"),this._resolveAttachToOptions(),this._resolveExtraHiglightElements(),this._setupElements(),this.tour.modal||this.tour.setupModal(),(t=this.tour.modal)==null||t.setupForStep(this),this._styleTargetElementForStep(this),this.el&&(this.el.hidden=!1),this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el&&(this.el.hidden=!1);const n=this.shepherdElementComponent.getElement(),r=this.target||document.body,i=this._resolvedExtraHighlightElements;r.classList.add(`${this.classPrefix}shepherd-enabled`),r.classList.add(`${this.classPrefix}shepherd-target`),n.classList.add("shepherd-enabled"),i==null||i.forEach(o=>{o.classList.add(`${this.classPrefix}shepherd-enabled`),o.classList.add(`${this.classPrefix}shepherd-target`)}),this.trigger("show")}_styleTargetElementForStep(t){const n=t.target,r=t._resolvedExtraHighlightElements;if(!n)return;const i=t.options.highlightClass;i&&(n.classList.add(i),r==null||r.forEach(o=>o.classList.add(i))),n.classList.remove("shepherd-target-click-disabled"),r==null||r.forEach(o=>o.classList.remove("shepherd-target-click-disabled")),t.options.canClickTarget===!1&&(n.classList.add("shepherd-target-click-disabled"),r==null||r.forEach(o=>o.classList.add("shepherd-target-click-disabled")))}_updateStepTargetOnHide(){const t=this.target||document.body,n=this._resolvedExtraHighlightElements,r=this.options.highlightClass;r&&(t.classList.remove(r),n==null||n.forEach(i=>i.classList.remove(r))),t.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`),n==null||n.forEach(i=>{i.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)})}}function Au(e){if(e){const{steps:t}=e;t.forEach(n=>{n.options&&n.options.canClickTarget===!1&&n.options.attachTo&&(St(n.target)&&n.target.classList.remove("shepherd-target-click-disabled"),n._resolvedExtraHighlightElements&&n._resolvedExtraHighlightElements.forEach(r=>{St(r)&&r.classList.remove("shepherd-target-click-disabled")}))})}}function Iu(e){let t="";const{innerWidth:n,innerHeight:r}=window;return e.forEach(i=>{const{width:o,height:s,x:l=0,y:a=0,r:u=0}=i,{topLeft:c=0,topRight:f=0,bottomRight:h=0,bottomLeft:d=0}=typeof u=="number"?{topLeft:u,topRight:u,bottomRight:u,bottomLeft:u}:u;t+=`M${l+c},${a}      a${c},${c},0,0,0-${c},${c}      V${s+a-d}      a${d},${d},0,0,0,${d},${d}      H${o+l-h}      a${h},${h},0,0,0,${h}-${h}      V${a+f}      a${f},${f},0,0,0-${f}-${f}      Z`}),`M${n},${r}          H0          V0          H${n}          V${r}          Z          ${t}`.replace(/\s/g,"")}function Ru(e){let t,n,r,i,o;return{c(){t=ai("svg"),n=ai("path"),Q(n,"d",e[2]),Q(t,"class",r=`${e[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)},m(s,l){Te(s,t,l),_t(t,n),e[11](t),i||(o=bn(t,"touchmove",e[3]),i=!0)},p(s,[l]){l&4&&Q(n,"d",s[2]),l&2&&r!==(r=`${s[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)&&Q(t,"class",r)},i:be,o:be,d(s){s&&Se(t),e[11](null),i=!1,o()}}}function Ko(e){if(!e)return null;const n=e instanceof HTMLElement&&window.getComputedStyle(e).overflowY;return n!=="hidden"&&n!=="visible"&&e.scrollHeight>=e.clientHeight?e:Ko(e.parentElement)}function Ou(e){let t={top:0,left:0};if(!e)return t;let n=e.ownerDocument.defaultView;for(;n!==window.top;){var r;const s=(r=n)==null?void 0:r.frameElement;if(s){var i,o;const l=s.getBoundingClientRect();t.top+=l.top+((i=l.scrollTop)!=null?i:0),t.left+=l.left+((o=l.scrollLeft)!=null?o:0)}n=n.parent}return t}function Pu(e,t){const n=e.getBoundingClientRect();let r=n.y||n.top,i=n.bottom||r+n.height;if(t){const s=t.getBoundingClientRect(),l=s.y||s.top,a=s.bottom||l+s.height;r=Math.max(r,l),i=Math.min(i,a)}const o=Math.max(i-r,0);return{y:r,height:o}}function Nu(e,t,n){let{element:r,openingProperties:i}=t,o=!1,s,l;u();const a=()=>r;function u(){n(4,i=[{width:0,height:0,x:0,y:0,r:0}])}function c(){n(1,o=!1),b()}function f(S=0,O=0,k=0,N=0,M,D,_){if(D){const T=[D,..._||[]];n(4,i=[]);for(const R of T){if(!R||T.indexOf(R)!==T.lastIndexOf(R))continue;const{y:j,height:B}=Pu(R,M),{x:L,width:z,left:U}=R.getBoundingClientRect();T.some(re=>{if(re===R)return!1;const p=re.getBoundingClientRect();return L>=p.left&&L+z<=p.right&&j>=p.top&&j+B<=p.bottom})||i.push({width:z+S*2,height:B+S*2,x:(L||U)+k-S,y:j+N-S,r:O})}}else u()}function h(S){b(),S.tour.options.useModalOverlay?(C(S),d()):c()}function d(){n(1,o=!0)}const g=S=>{S.preventDefault()},x=S=>{S.stopPropagation()};function w(){window.addEventListener("touchmove",g,{passive:!1})}function b(){s&&(cancelAnimationFrame(s),s=void 0),window.removeEventListener("touchmove",g,{passive:!1})}function C(S){const{modalOverlayOpeningPadding:O,modalOverlayOpeningRadius:k,modalOverlayOpeningXOffset:N=0,modalOverlayOpeningYOffset:M=0}=S.options,D=Ou(S.target),_=Ko(S.target),T=()=>{s=void 0,f(O,k,N+D.left,M+D.top,_,S.target,S._resolvedExtraHighlightElements),s=requestAnimationFrame(T)};T(),w()}function E(S){Ct[S?"unshift":"push"](()=>{r=S,n(0,r)})}return e.$$set=S=>{"element"in S&&n(0,r=S.element),"openingProperties"in S&&n(4,i=S.openingProperties)},e.$$.update=()=>{e.$$.dirty&16&&n(2,l=Iu(i))},[r,o,l,x,i,a,u,c,f,h,d,E]}class Lu extends He{constructor(t){super(),Be(this,t,Nu,Ru,ze,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}}class Du extends ur{constructor(){super(),this.activeTour=void 0,dr(this)}}class Mu extends ur{constructor(t={}){super(),this.trackedEvents=["active","cancel","complete","show"],this.classPrefix=void 0,this.currentStep=void 0,this.focusedElBeforeOpen=void 0,this.id=void 0,this.modal=void 0,this.options=void 0,this.steps=void 0,dr(this);const n={exitOnEsc:!0,keyboardNavigation:!0};return this.options=Object.assign({},n,t),this.classPrefix=Po(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps),["active","cancel","complete","inactive","show","start"].map(i=>{(o=>{this.on(o,s=>{s=s||{},s.tour=this,tt.trigger(o,s)})})(i)}),this._setTourID(t.id),this}addStep(t,n){let r=t;return r instanceof Kn?r.tour=this:r=new Kn(this,r),ae(n)?this.steps.push(r):this.steps.splice(n,0,r),r}addSteps(t){return Array.isArray(t)&&t.forEach(n=>{this.addStep(n)}),this}back(){const t=this.steps.indexOf(this.currentStep);this.show(t-1,!1)}async cancel(){if(this.options.confirmCancel){const t=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";let n;qe(this.options.confirmCancel)?n=await this.options.confirmCancel():n=window.confirm(t),n&&this._done("cancel")}else this._done("cancel")}complete(){this._done("complete")}getById(t){return this.steps.find(n=>n.id===t)}getCurrentStep(){return this.currentStep}hide(){const t=this.getCurrentStep();if(t)return t.hide()}isActive(){return tt.activeTour===this}next(){const t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?this.complete():this.show(t+1,!0)}removeStep(t){const n=this.getCurrentStep();this.steps.some((r,i)=>{if(r.id===t)return r.isOpen()&&r.hide(),r.destroy(),this.steps.splice(i,1),!0}),n&&n.id===t&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(t=0,n=!0){const r=Bt(t)?this.getById(t):this.steps[t];r&&(this._updateStateBeforeShow(),qe(r.options.showOn)&&!r.options.showOn()?this._skipStep(r,n):(this.currentStep=r,this.trigger("show",{step:r,previous:this.currentStep}),r.show()))}async start(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this.setupModal(),this._setupActiveTour(),this.next()}_done(t){const n=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(r=>r.destroy()),Au(this),this.trigger(t,{index:n}),tt.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),(t==="cancel"||t==="complete")&&this.modal){const r=document.querySelector(".shepherd-modal-overlay-container");r&&(r.remove(),this.modal=null)}St(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger("active",{tour:this}),tt.activeTour=this}setupModal(){this.modal=new Lu({target:this.options.modalContainer||document.body,props:{styles:this.styles}})}_skipStep(t,n){const r=this.steps.indexOf(t);if(r===this.steps.length-1)this.complete();else{const i=n?r+1:r-1;this.show(i,n)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(t){const n=this.options.tourName||"tour",r=t||Lo();this.id=`${n}--${r}`}}const tt=new Du,Go=typeof window>"u";tt.Step=Go?Bl:Kn;tt.Tour=Go?Hl:Mu;const Si=[{id:"hero",title:"Welcome to AgentWP",text:"Your command deck turns plain-language prompts into store actions.",attachTo:{element:'[data-tour="hero"]',on:"bottom"}},{id:"sample",title:"Sample prompts",text:"Use starter prompts to see how AgentWP drafts responses.",attachTo:{element:'[data-tour="sample-prompt"]',on:"right"}},{id:"launch",title:"Launch the command deck",text:"Open the deck anytime from this quick action button.",attachTo:{element:'[data-tour="open-command-deck"]',on:"bottom"}},{id:"status",title:"Live status checks",text:"AgentWP surfaces connectivity and status indicators for confidence.",attachTo:{element:'[data-tour="status-card"]',on:"left"}},{id:"analytics",title:"Analytics snapshot",text:"Keep an eye on revenue, order volume, and response momentum.",attachTo:{element:'[data-tour="analytics"]',on:"top"}}];function ju({demoMode:e,resolvedTheme:t,shadowRoot:n}){const[r,i]=A.useState(Qs),o=A.useRef(null),s=A.useCallback(()=>{try{window.localStorage.setItem(Co,"1")}catch{}i(!0)},[]),l=A.useCallback(()=>{if(typeof window>"u"||!e)return;o.current&&(o.current.cancel(),o.current=null);const u=t==="dark"?"agentwp-tour agentwp-tour--dark":"agentwp-tour",c=new tt.Tour({useModalOverlay:!0,defaultStepOptions:{classes:u,cancelIcon:{enabled:!0},scrollTo:{behavior:"smooth",block:"center"}}}),f=d=>[{text:"Skip tour",action:c.cancel,classes:"shepherd-button-secondary"},{text:d?"Finish":"Next",action:d?c.complete:c.next}],h=n||document;Si.forEach((d,g)=>{h.querySelector(d.attachTo.element)&&c.addStep({...d,buttons:f(g===Si.length-1)})}),!(!c.steps||c.steps.length===0)&&(c.on("complete",s),c.on("cancel",s),c.start(),o.current=c)},[e,t,n,s]),a=A.useCallback(()=>{o.current&&(o.current.cancel(),o.current=null)},[]);return A.useEffect(()=>{if(!e||r||typeof window>"u")return;const u=window.setTimeout(()=>{l()},Ks);return()=>{window.clearTimeout(u)}},[e,l,r]),A.useEffect(()=>()=>{o.current&&(o.current.cancel(),o.current=null)},[]),{tourSeen:r,startTour:l,cancelTour:a}}const Ei=(e,t="Day")=>Array.from({length:e},(n,r)=>`${t} ${r+1}`),mt=(e,t,n,r,i=0)=>Array.from({length:e},(o,s)=>Math.round(t+s*n+Math.sin(s*.45+i)*r)),Fu={"7d":{label:"Last 7 days",labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],current:mt(7,4200,160,420,.2),previous:mt(7,3900,120,360,1.1),metrics:{labels:["Revenue","Shipping","Discounts","Returns"],current:[128e3,18200,9600,4100],previous:[116500,16750,10100,4600]},categories:{labels:["Accessories","Home","Wellness","Apparel"],values:[45200,38200,29600,15e3]}},"30d":{label:"Last 30 days",labels:Ei(30),current:mt(30,3800,55,520,.3),previous:mt(30,3600,45,480,1.2),metrics:{labels:["Revenue","Shipping","Discounts","Returns"],current:[54e4,61200,45200,12300],previous:[498e3,58500,47600,13800]},categories:{labels:["Accessories","Home","Wellness","Apparel"],values:[188e3,162e3,115e3,75e3]}},"90d":{label:"Last 90 days",labels:Ei(90,"D"),current:mt(90,3500,22,620,.4),previous:mt(90,3300,18,560,1.4),metrics:{labels:["Revenue","Shipping","Discounts","Returns"],current:[148e4,166500,128e3,44200],previous:[1375e3,158e3,141e3,46800]},categories:{labels:["Accessories","Home","Wellness","Apparel"],values:[51e4,436e3,318e3,216e3]}}};function zu({demoMode:e=!1,shadowRoot:t,budgetLimit:n=0}){var E;const{open:r,isOpen:i}=zt(),{resolved:o}=lr(),[s,l]=A.useState("7d"),{analytics:a,isLoading:u}=rl(s),{usage:c,isLoading:f}=sl("month"),{tourSeen:h,startTour:d}=ju({demoMode:e,resolvedTheme:o,shadowRoot:t}),g=a||(e?Fu[s]:null),x=A.useCallback(()=>{r()},[r]),w=A.useCallback(S=>{l(S)},[]),C=typeof navigator<"u"&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"Cmd":"Ctrl";return y.jsxs("main",{className:"relative mx-auto flex min-h-screen max-w-5xl animate-fade-in flex-col px-6 py-16 motion-reduce:animate-none","aria-hidden":i,children:[y.jsxs("header",{className:"max-w-2xl space-y-4","data-tour":"hero",children:[y.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[y.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-slate-400",children:"AgentWP"}),e&&y.jsx("span",{className:"inline-flex items-center rounded-full border border-amber-400/60 bg-amber-400/10 px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.3em] text-amber-200",children:"Demo"})]}),y.jsx("h1",{className:"text-4xl font-semibold text-white sm:text-5xl",children:"Command Deck: instant actions for your store."}),y.jsx("p",{className:"text-base text-slate-300 sm:text-lg",children:"Invoke the Command Deck with Cmd+K / Ctrl+K or the admin bar button. Responses render as markdown, with latency and token cost tracking for quick feedback."}),e&&!h&&y.jsx("button",{type:"button",onClick:d,className:"inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400",children:"Take the tour"})]}),y.jsxs("section",{className:"mt-10 grid gap-6 sm:grid-cols-2",children:[y.jsxs("div",{className:"rounded-2xl border border-deck-border bg-deck-surface/80 p-6 shadow-deck","data-tour":"sample-prompt",children:[y.jsx("h2",{className:"text-lg font-semibold text-white",children:"Try a sample prompt"}),y.jsx("p",{className:"mt-2 text-sm text-slate-300",children:"Summarize today's pending orders and draft a response for the two longest open tickets."}),y.jsxs("button",{type:"button",onClick:x,"data-tour":"open-command-deck",className:"mt-6 inline-flex items-center justify-center gap-2 rounded-full border border-slate-600/60 bg-slate-900/60 px-4 py-2 text-sm font-semibold text-white transition hover:border-slate-400/80 hover:bg-slate-900/80 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400",children:["Open Command Deck",y.jsxs("span",{className:"rounded-full border border-slate-600/80 bg-slate-950/70 px-2 py-1 text-[11px] text-slate-300",children:[C,"+K"]})]})]}),y.jsxs("div",{className:"rounded-2xl border border-deck-border bg-deck-surface/60 p-6 text-sm text-slate-300 shadow-deck","data-tour":"status-card",children:[y.jsx("h2",{className:"text-lg font-semibold text-white",children:"Command Deck status"}),y.jsxs("ul",{className:"mt-3 space-y-2 text-sm",children:[y.jsx("li",{children:"Modal state is persisted in session storage."}),y.jsx("li",{children:"Focus is trapped for keyboard-only navigation."}),y.jsx("li",{children:"Responses render markdown with accessible contrast."})]})]})]}),c&&y.jsx("section",{className:"mt-6",children:y.jsx(wl,{usage:c,budgetLimit:n,isLoading:f})}),y.jsx("section",{className:"mt-10",children:y.jsxs("div",{className:"rounded-2xl border border-deck-border bg-deck-surface/70 p-6 shadow-deck","data-tour":"analytics",children:[y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:"Analytics snapshot"}),y.jsx("h2",{className:"mt-2 text-lg font-semibold text-white",children:((E=To.find(S=>S.value===s))==null?void 0:E.label)||"Weekly revenue trend"}),y.jsx("p",{className:"mt-1 text-sm text-slate-300",children:"Track orders and response momentum before drafting outreach."})]}),y.jsx(ml,{value:s,onChange:w})]}),u?y.jsx("div",{className:"mt-6 flex items-center justify-center py-12",children:y.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-slate-600 border-t-sky-400"})}):g?y.jsx(Bu,{data:g}):y.jsx("div",{className:"mt-6 rounded-2xl border border-slate-800/80 bg-slate-950/50 p-5",children:y.jsx("p",{className:"py-8 text-center text-sm text-slate-400",children:"No analytics data available"})})]})})]})}function Bu({data:e}){const t=Math.max(...e.current,...e.previous||[]),n=e.current.map(r=>r/t*100);return y.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-800/80 bg-slate-950/50 p-5",children:[y.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400",children:[y.jsx("span",{children:"Revenue"}),y.jsxs("span",{children:[e.labels.length," days"]})]}),y.jsx("div",{className:"mt-4 flex h-40 items-end gap-1",children:n.slice(0,14).map((r,i)=>y.jsx("div",{className:"flex flex-1 flex-col items-center justify-end gap-1",children:y.jsx("div",{className:"w-full max-w-6 rounded-full bg-gradient-to-b from-sky-400/80 via-sky-500/60 to-sky-700/80",style:{height:`${Math.max(r,4)}%`}})},e.labels[i]||i))}),y.jsxs("div",{className:"mt-2 flex justify-between text-[10px] text-slate-500",children:[y.jsx("span",{children:e.labels[0]}),y.jsx("span",{children:e.labels[e.labels.length-1]})]}),e.categories&&y.jsx("div",{className:"mt-6 grid gap-3 sm:grid-cols-4",children:e.categories.labels.map((r,i)=>{var o;return y.jsxs("div",{className:"rounded-xl border border-slate-800/80 bg-slate-950/40 px-3 py-2",children:[y.jsx("p",{className:"text-xs text-slate-400",children:r}),y.jsx("p",{className:"text-lg font-semibold text-white",children:bl(((o=e.categories)==null?void 0:o.values[i])??0)})]},r)})})]})}function Hu({theme:e,themePreference:t,onThemeToggle:n,onClose:r,isOffline:i=!1}){return y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700/60 px-4 py-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("h2",{className:"text-sm font-semibold text-white",children:"AgentWP"}),i&&y.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-amber-400",children:[y.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-amber-500","aria-hidden":"true"}),"Offline"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:n,className:"rounded-md p-1.5 text-slate-400 transition-colors hover:bg-slate-800 hover:text-slate-200","aria-label":`Switch to ${e==="dark"?"light":"dark"} mode`,title:`Current: ${t==="system"?"System":t}`,children:e==="dark"?y.jsx(Uu,{}):y.jsx(Vu,{})}),y.jsx("button",{onClick:r,className:"rounded-md p-1.5 text-slate-400 transition-colors hover:bg-slate-800 hover:text-slate-200","aria-label":"Close command deck",children:y.jsx(Wu,{})})]})]})}function Uu(){return y.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"h-4 w-4",children:[y.jsx("path",{d:"M12 4.2v1.9m0 11.8v1.9M4.2 12h1.9m11.8 0h1.9M6.4 6.4l1.4 1.4m8.4 8.4 1.4 1.4M6.4 17.6l1.4-1.4m8.4-8.4 1.4-1.4",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),y.jsx("circle",{cx:"12",cy:"12",r:"4.2",fill:"none",stroke:"currentColor",strokeWidth:"1.6"})]})}function Vu(){return y.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"h-4 w-4",children:y.jsx("path",{d:"M15.5 4.5c-4 0-7.2 3.2-7.2 7.2 0 3.7 2.8 6.8 6.5 7.2 3.4.3 6.6-1.6 7.9-4.7-1.1.4-2.4.5-3.6.3-3.6-.5-6.4-3.7-6.4-7.3 0-1 .2-2 .6-2.9",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}function Wu(){return y.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"h-4 w-4",children:y.jsx("path",{d:"M6 6l12 12M6 18L18 6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})})}const qu=A.forwardRef(function({value:t,onChange:n,onSubmit:r,onKeyDown:i,onFocus:o,onBlur:s,placeholder:l="Ask me anything...",disabled:a=!1,loading:u=!1,rows:c=1},f){const h=g=>{n(g.target.value)},d=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),!a&&!u&&t.trim()&&r()),i==null||i(g)};return y.jsxs("div",{className:"relative flex-1",children:[y.jsx("textarea",{ref:f,value:t,onChange:h,onKeyDown:d,onFocus:o,onBlur:s,placeholder:l,disabled:a||u,rows:c,className:"w-full resize-none rounded-lg border border-slate-700/60 bg-slate-900/60 px-4 py-3 text-sm text-white placeholder-slate-500 transition-colors focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Enter your prompt","aria-describedby":u?"prompt-loading":void 0}),u&&y.jsx("span",{id:"prompt-loading",className:"sr-only",children:"Processing your request..."})]})});function $u(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Yu=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ku=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Gu={};function vi(e,t){return(Gu.jsx?Ku:Yu).test(e)}const Xu=/[ \t\n\f\r]/g;function Qu(e){return typeof e=="object"?e.type==="text"?_i(e.value):!1:_i(e)}function _i(e){return e.replace(Xu,"")===""}class $t{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}$t.prototype.normal={};$t.prototype.property={};$t.prototype.space=void 0;function Xo(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new $t(n,r,t)}function Gn(e){return e.toLowerCase()}class he{constructor(t,n){this.attribute=n,this.property=t}}he.prototype.attribute="";he.prototype.booleanish=!1;he.prototype.boolean=!1;he.prototype.commaOrSpaceSeparated=!1;he.prototype.commaSeparated=!1;he.prototype.defined=!1;he.prototype.mustUseProperty=!1;he.prototype.number=!1;he.prototype.overloadedBoolean=!1;he.prototype.property="";he.prototype.spaceSeparated=!1;he.prototype.space=void 0;let Ju=0;const V=ct(),oe=ct(),Xn=ct(),I=ct(),J=ct(),wt=ct(),ge=ct();function ct(){return 2**++Ju}const Qn=Object.freeze(Object.defineProperty({__proto__:null,boolean:V,booleanish:oe,commaOrSpaceSeparated:ge,commaSeparated:wt,number:I,overloadedBoolean:Xn,spaceSeparated:J},Symbol.toStringTag,{value:"Module"})),Rn=Object.keys(Qn);class vr extends he{constructor(t,n,r,i){let o=-1;if(super(t,n),Ci(this,"space",i),typeof r=="number")for(;++o<Rn.length;){const s=Rn[o];Ci(this,Rn[o],(r&Qn[s])===Qn[s])}}}vr.prototype.defined=!0;function Ci(e,t,n){n&&(e[t]=n)}function At(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new vr(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Gn(r)]=r,n[Gn(o.attribute)]=r}return new $t(t,n,e.space)}const Qo=At({properties:{ariaActiveDescendant:null,ariaAtomic:oe,ariaAutoComplete:null,ariaBusy:oe,ariaChecked:oe,ariaColCount:I,ariaColIndex:I,ariaColSpan:I,ariaControls:J,ariaCurrent:null,ariaDescribedBy:J,ariaDetails:null,ariaDisabled:oe,ariaDropEffect:J,ariaErrorMessage:null,ariaExpanded:oe,ariaFlowTo:J,ariaGrabbed:oe,ariaHasPopup:null,ariaHidden:oe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:J,ariaLevel:I,ariaLive:null,ariaModal:oe,ariaMultiLine:oe,ariaMultiSelectable:oe,ariaOrientation:null,ariaOwns:J,ariaPlaceholder:null,ariaPosInSet:I,ariaPressed:oe,ariaReadOnly:oe,ariaRelevant:null,ariaRequired:oe,ariaRoleDescription:J,ariaRowCount:I,ariaRowIndex:I,ariaRowSpan:I,ariaSelected:oe,ariaSetSize:I,ariaSort:null,ariaValueMax:I,ariaValueMin:I,ariaValueNow:I,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Jo(e,t){return t in e?e[t]:t}function Zo(e,t){return Jo(e,t.toLowerCase())}const Zu=At({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wt,acceptCharset:J,accessKey:J,action:null,allow:null,allowFullScreen:V,allowPaymentRequest:V,allowUserMedia:V,alt:null,as:null,async:V,autoCapitalize:null,autoComplete:J,autoFocus:V,autoPlay:V,blocking:J,capture:null,charSet:null,checked:V,cite:null,className:J,cols:I,colSpan:null,content:null,contentEditable:oe,controls:V,controlsList:J,coords:I|wt,crossOrigin:null,data:null,dateTime:null,decoding:null,default:V,defer:V,dir:null,dirName:null,disabled:V,download:Xn,draggable:oe,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:V,formTarget:null,headers:J,height:I,hidden:Xn,high:I,href:null,hrefLang:null,htmlFor:J,httpEquiv:J,id:null,imageSizes:null,imageSrcSet:null,inert:V,inputMode:null,integrity:null,is:null,isMap:V,itemId:null,itemProp:J,itemRef:J,itemScope:V,itemType:J,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:V,low:I,manifest:null,max:null,maxLength:I,media:null,method:null,min:null,minLength:I,multiple:V,muted:V,name:null,nonce:null,noModule:V,noValidate:V,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:V,optimum:I,pattern:null,ping:J,placeholder:null,playsInline:V,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:V,referrerPolicy:null,rel:J,required:V,reversed:V,rows:I,rowSpan:I,sandbox:J,scope:null,scoped:V,seamless:V,selected:V,shadowRootClonable:V,shadowRootDelegatesFocus:V,shadowRootMode:null,shape:null,size:I,sizes:null,slot:null,span:I,spellCheck:oe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:I,step:null,style:null,tabIndex:I,target:null,title:null,translate:null,type:null,typeMustMatch:V,useMap:null,value:oe,width:I,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:J,axis:null,background:null,bgColor:null,border:I,borderColor:null,bottomMargin:I,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:V,declare:V,event:null,face:null,frame:null,frameBorder:null,hSpace:I,leftMargin:I,link:null,longDesc:null,lowSrc:null,marginHeight:I,marginWidth:I,noResize:V,noHref:V,noShade:V,noWrap:V,object:null,profile:null,prompt:null,rev:null,rightMargin:I,rules:null,scheme:null,scrolling:oe,standby:null,summary:null,text:null,topMargin:I,valueType:null,version:null,vAlign:null,vLink:null,vSpace:I,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:V,disableRemotePlayback:V,prefix:null,property:null,results:I,security:null,unselectable:null},space:"html",transform:Zo}),ec=At({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ge,accentHeight:I,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:I,amplitude:I,arabicForm:null,ascent:I,attributeName:null,attributeType:null,azimuth:I,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:I,by:null,calcMode:null,capHeight:I,className:J,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:I,diffuseConstant:I,direction:null,display:null,dur:null,divisor:I,dominantBaseline:null,download:V,dx:null,dy:null,edgeMode:null,editable:null,elevation:I,enableBackground:null,end:null,event:null,exponent:I,externalResourcesRequired:null,fill:null,fillOpacity:I,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wt,g2:wt,glyphName:wt,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:I,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:I,horizOriginX:I,horizOriginY:I,id:null,ideographic:I,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:I,k:I,k1:I,k2:I,k3:I,k4:I,kernelMatrix:ge,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:I,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:I,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:I,overlineThickness:I,paintOrder:null,panose1:null,path:null,pathLength:I,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:J,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:I,pointsAtY:I,pointsAtZ:I,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ge,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ge,rev:ge,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ge,requiredFeatures:ge,requiredFonts:ge,requiredFormats:ge,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:I,specularExponent:I,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:I,strikethroughThickness:I,string:null,stroke:null,strokeDashArray:ge,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:I,strokeOpacity:I,strokeWidth:null,style:null,surfaceScale:I,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ge,tabIndex:I,tableValues:null,target:null,targetX:I,targetY:I,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ge,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:I,underlineThickness:I,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:I,values:null,vAlphabetic:I,vMathematical:I,vectorEffect:null,vHanging:I,vIdeographic:I,version:null,vertAdvY:I,vertOriginX:I,vertOriginY:I,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:I,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Jo}),es=At({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),ts=At({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Zo}),ns=At({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),tc={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},nc=/[A-Z]/g,Ti=/-[a-z]/g,rc=/^data[-\w.:]+$/i;function ic(e,t){const n=Gn(t);let r=t,i=he;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&rc.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Ti,sc);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Ti.test(o)){let s=o.replace(nc,oc);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=vr}return new i(r,t)}function oc(e){return"-"+e.toLowerCase()}function sc(e){return e.charAt(1).toUpperCase()}const lc=Xo([Qo,Zu,es,ts,ns],"html"),_r=Xo([Qo,ec,es,ts,ns],"svg");function ac(e){return e.join(" ").trim()}var Cr={},Ai=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,uc=/\n/g,cc=/^\s*/,fc=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,dc=/^:\s*/,hc=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,pc=/^[;\s]*/,mc=/^\s+|\s+$/g,gc=`
`,Ii="/",Ri="*",Ze="",yc="comment",xc="declaration";function bc(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var x=g.match(uc);x&&(n+=x.length);var w=g.lastIndexOf(gc);r=~w?g.length-w:r+g.length}function o(){var g={line:n,column:r};return function(x){return x.position=new s(g),u(),x}}function s(g){this.start=g,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function l(g){var x=new Error(t.source+":"+n+":"+r+": "+g);if(x.reason=g,x.filename=t.source,x.line=n,x.column=r,x.source=e,!t.silent)throw x}function a(g){var x=g.exec(e);if(x){var w=x[0];return i(w),e=e.slice(w.length),x}}function u(){a(cc)}function c(g){var x;for(g=g||[];x=f();)x!==!1&&g.push(x);return g}function f(){var g=o();if(!(Ii!=e.charAt(0)||Ri!=e.charAt(1))){for(var x=2;Ze!=e.charAt(x)&&(Ri!=e.charAt(x)||Ii!=e.charAt(x+1));)++x;if(x+=2,Ze===e.charAt(x-1))return l("End of comment missing");var w=e.slice(2,x-2);return r+=2,i(w),e=e.slice(x),r+=2,g({type:yc,comment:w})}}function h(){var g=o(),x=a(fc);if(x){if(f(),!a(dc))return l("property missing ':'");var w=a(hc),b=g({type:xc,property:Oi(x[0].replace(Ai,Ze)),value:w?Oi(w[0].replace(Ai,Ze)):Ze});return a(pc),b}}function d(){var g=[];c(g);for(var x;x=h();)x!==!1&&(g.push(x),c(g));return g}return u(),d()}function Oi(e){return e?e.replace(mc,Ze):Ze}var wc=bc,kc=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.default=Ec;const Sc=kc(wc);function Ec(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Sc.default)(e),i=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:s,value:l}=o;i?t(s,l,o):l&&(n=n||{},n[s]=l)}),n}var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.camelCase=void 0;var vc=/^--[a-zA-Z0-9_-]+$/,_c=/-([a-z])/g,Cc=/^[^-]+$/,Tc=/^-(webkit|moz|ms|o|khtml)-/,Ac=/^-(ms)-/,Ic=function(e){return!e||Cc.test(e)||vc.test(e)},Rc=function(e,t){return t.toUpperCase()},Pi=function(e,t){return"".concat(t,"-")},Oc=function(e,t){return t===void 0&&(t={}),Ic(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Ac,Pi):e=e.replace(Tc,Pi),e.replace(_c,Rc))};wn.camelCase=Oc;var Pc=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Nc=Pc(Cr),Lc=wn;function Jn(e,t){var n={};return!e||typeof e!="string"||(0,Nc.default)(e,function(r,i){r&&i&&(n[(0,Lc.camelCase)(r,t)]=i)}),n}Jn.default=Jn;var Dc=Jn;const Mc=_o(Dc),rs=is("end"),Tr=is("start");function is(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function jc(e){const t=Tr(e),n=rs(e);if(t&&n)return{start:t,end:n}}function Mt(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ni(e.position):"start"in e||"end"in e?Ni(e):"line"in e||"column"in e?Zn(e):""}function Zn(e){return Li(e&&e.line)+":"+Li(e&&e.column)}function Ni(e){return Zn(e&&e.start)+"-"+Zn(e&&e.end)}function Li(e){return e&&typeof e=="number"?e:1}class ue extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(s=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?o.ruleId=r:(o.source=r.slice(0,a),o.ruleId=r.slice(a+1))}if(!o.place&&o.ancestors&&o.ancestors){const a=o.ancestors[o.ancestors.length-1];a&&(o.place=a.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Mt(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ue.prototype.file="";ue.prototype.name="";ue.prototype.reason="";ue.prototype.message="";ue.prototype.stack="";ue.prototype.column=void 0;ue.prototype.line=void 0;ue.prototype.ancestors=void 0;ue.prototype.cause=void 0;ue.prototype.fatal=void 0;ue.prototype.place=void 0;ue.prototype.ruleId=void 0;ue.prototype.source=void 0;const Ar={}.hasOwnProperty,Fc=new Map,zc=/[A-Z]/g,Bc=new Set(["table","tbody","thead","tfoot","tr"]),Hc=new Set(["td","th"]),os="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Uc(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Xc(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Gc(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?_r:lc,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=ss(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function ss(e,t,n){if(t.type==="element")return Vc(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Wc(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return $c(e,t,n);if(t.type==="mdxjsEsm")return qc(e,t);if(t.type==="root")return Yc(e,t,n);if(t.type==="text")return Kc(e,t)}function Vc(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=_r,e.schema=i),e.ancestors.push(t);const o=as(e,t.tagName,!1),s=Qc(e,t);let l=Rr(e,t);return Bc.has(t.tagName)&&(l=l.filter(function(a){return typeof a=="string"?!Qu(a):!0})),ls(e,s,o,t),Ir(s,l),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function Wc(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Vt(e,t.position)}function qc(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Vt(e,t.position)}function $c(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=_r,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:as(e,t.name,!0),s=Jc(e,t),l=Rr(e,t);return ls(e,s,o,t),Ir(s,l),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function Yc(e,t,n){const r={};return Ir(r,Rr(e,t)),e.create(t,e.Fragment,r,n)}function Kc(e,t){return t.value}function ls(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Ir(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Gc(e,t,n){return r;function r(i,o,s,l){const u=Array.isArray(s.children)?n:t;return l?u(o,s,l):u(o,s)}}function Xc(e,t){return n;function n(r,i,o,s){const l=Array.isArray(o.children),a=Tr(r);return t(i,o,s,l,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function Qc(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Ar.call(t.properties,i)){const o=Zc(e,i,t.properties[i]);if(o){const[s,l]=o;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&Hc.has(t.tagName)?r=l:n[s]=l}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Jc(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const l=s.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Vt(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,o=e.evaluater.evaluateExpression(l.expression)}else Vt(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Rr(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Fc;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const a=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(a){const u=i.get(a)||0;s=a+"-"+u,i.set(a,u+1)}}const l=ss(e,o,s);l!==void 0&&n.push(l)}return n}function Zc(e,t,n){const r=ic(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?$u(n):ac(n)),r.property==="style"){let i=typeof n=="object"?n:ef(e,String(n));return e.stylePropertyNameCase==="css"&&(i=tf(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?tc[r.property]||r.property:r.attribute,n]}}function ef(e,t){try{return Mc(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new ue("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=os+"#cannot-parse-style-attribute",i}}function as(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,s;for(;++o<i.length;){const l=vi(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}r=s}else r=vi(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Ar.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Vt(e)}function Vt(e,t){const n=new ue("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=os+"#cannot-handle-mdx-estrees-without-createevaluater",n}function tf(e){const t={};let n;for(n in e)Ar.call(e,n)&&(t[nf(n)]=e[n]);return t}function nf(e){let t=e.replace(zc,rf);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function rf(e){return"-"+e.toLowerCase()}const On={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},of={};function sf(e,t){const n=of,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return us(e,r,i)}function us(e,t,n){if(lf(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Di(e.children,t,n)}return Array.isArray(e)?Di(e,t,n):""}function Di(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=us(e[i],t,n);return r.join("")}function lf(e){return!!(e&&typeof e=="object")}const Mi=document.createElement("i");function Or(e){const t="&"+e+";";Mi.innerHTML=t;const n=Mi.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ne(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function ke(e,t){return e.length>0?(Ne(e,e.length,0,t),e):t}const ji={}.hasOwnProperty;function af(e){const t={};let n=-1;for(;++n<e.length;)uf(t,e[n]);return t}function uf(e,t){let n;for(n in t){const i=(ji.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){ji.call(i,s)||(i[s]=[]);const l=o[s];cf(i[s],Array.isArray(l)?l:l?[l]:[])}}}function cf(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ne(e,0,0,r)}function cs(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function kt(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ie=Qe(/[A-Za-z]/),ye=Qe(/[\dA-Za-z]/),ff=Qe(/[#-'*+\--9=?A-Z^-~]/);function er(e){return e!==null&&(e<32||e===127)}const tr=Qe(/\d/),df=Qe(/[\dA-Fa-f]/),hf=Qe(/[!-/:-@[-`{-~]/);function F(e){return e!==null&&e<-2}function de(e){return e!==null&&(e<0||e===32)}function q(e){return e===-2||e===-1||e===32}const pf=Qe(new RegExp("\\p{P}|\\p{S}","u")),mf=Qe(/\s/);function Qe(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function It(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&ye(e.charCodeAt(n+1))&&ye(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const l=e.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(s=String.fromCharCode(o,l),i=1):s=""}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Z(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(a){return q(a)?(e.enter(n),l(a)):t(a)}function l(a){return q(a)&&o++<i?(e.consume(a),l):(e.exit(n),t(a))}}const gf={tokenize:yf};function yf(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Z(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),o(l)}function o(l){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return F(l)?(e.consume(l),e.exit("chunkText"),o):(e.consume(l),s)}}const xf={tokenize:bf},Fi={tokenize:wf};function bf(e){const t=this,n=[];let r=0,i,o,s;return l;function l(E){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,a,u)(E)}return u(E)}function a(E){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&C();const S=t.events.length;let O=S,k;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){k=t.events[O][1].end;break}b(r);let N=S;for(;N<t.events.length;)t.events[N][1].end={...k},N++;return Ne(t.events,O+1,0,t.events.slice(S)),t.events.length=N,u(E)}return l(E)}function u(E){if(r===n.length){if(!i)return h(E);if(i.currentConstruct&&i.currentConstruct.concrete)return g(E);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Fi,c,f)(E)}function c(E){return i&&C(),b(r),h(E)}function f(E){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,g(E)}function h(E){return t.containerState={},e.attempt(Fi,d,g)(E)}function d(E){return r++,n.push([t.currentConstruct,t.containerState]),h(E)}function g(E){if(E===null){i&&C(),b(0),e.consume(E);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),x(E)}function x(E){if(E===null){w(e.exit("chunkFlow"),!0),b(0),e.consume(E);return}return F(E)?(e.consume(E),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(E),x)}function w(E,S){const O=t.sliceStream(E);if(S&&O.push(null),E.previous=o,o&&(o.next=E),o=E,i.defineSkip(E.start),i.write(O),t.parser.lazy[E.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<s&&(!i.events[k][1].end||i.events[k][1].end.offset>s))return;const N=t.events.length;let M=N,D,_;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){if(D){_=t.events[M][1].end;break}D=!0}for(b(r),k=N;k<t.events.length;)t.events[k][1].end={..._},k++;Ne(t.events,M+1,0,t.events.slice(N)),t.events.length=k}}function b(E){let S=n.length;for(;S-- >E;){const O=n[S];t.containerState=O[1],O[0].exit.call(t,e)}n.length=E}function C(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function wf(e,t,n){return Z(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zi(e){if(e===null||de(e)||mf(e))return 1;if(pf(e))return 2}function Pr(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const nr={name:"attention",resolveAll:kf,tokenize:Sf};function kf(e,t){let n=-1,r,i,o,s,l,a,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};Bi(f,-a),Bi(h,a),s={type:a>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},o={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...s.start},end:{...l.end}},e[r][1].end={...s.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=ke(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=ke(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),u=ke(u,Pr(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=ke(u,[["exit",o,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=ke(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Ne(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Sf(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=zi(r);let o;return s;function s(a){return o=a,e.enter("attentionSequence"),l(a)}function l(a){if(a===o)return e.consume(a),l;const u=e.exit("attentionSequence"),c=zi(a),f=!c||c===2&&i||n.includes(a),h=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?f:f&&(i||!h)),u._close=!!(o===42?h:h&&(c||!f)),t(a)}}function Bi(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ef={name:"autolink",tokenize:vf};function vf(e,t,n){let r=0;return i;function i(d){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(d){return Ie(d)?(e.consume(d),s):d===64?n(d):u(d)}function s(d){return d===43||d===45||d===46||ye(d)?(r=1,l(d)):u(d)}function l(d){return d===58?(e.consume(d),r=0,a):(d===43||d===45||d===46||ye(d))&&r++<32?(e.consume(d),l):(r=0,u(d))}function a(d){return d===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):d===null||d===32||d===60||er(d)?n(d):(e.consume(d),a)}function u(d){return d===64?(e.consume(d),c):ff(d)?(e.consume(d),u):n(d)}function c(d){return ye(d)?f(d):n(d)}function f(d){return d===46?(e.consume(d),r=0,c):d===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):h(d)}function h(d){if((d===45||ye(d))&&r++<63){const g=d===45?h:f;return e.consume(d),g}return n(d)}}const kn={partial:!0,tokenize:_f};function _f(e,t,n){return r;function r(o){return q(o)?Z(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||F(o)?t(o):n(o)}}const fs={continuation:{tokenize:Tf},exit:Af,name:"blockQuote",tokenize:Cf};function Cf(e,t,n){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return q(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Tf(e,t,n){const r=this;return i;function i(s){return q(s)?Z(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(fs,t,n)(s)}}function Af(e){e.exit("blockQuote")}const ds={name:"characterEscape",tokenize:If};function If(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return hf(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const hs={name:"characterReference",tokenize:Rf};function Rf(e,t,n){const r=this;let i=0,o,s;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),a}function a(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,s=ye,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=df,c):(e.enter("characterReferenceValue"),o=7,s=tr,c(f))}function c(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===ye&&!Or(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<o?(e.consume(f),c):n(f)}}const Hi={partial:!0,tokenize:Pf},Ui={concrete:!0,name:"codeFenced",tokenize:Of};function Of(e,t,n){const r=this,i={partial:!0,tokenize:O};let o=0,s=0,l;return a;function a(k){return u(k)}function u(k){const N=r.events[r.events.length-1];return o=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,l=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(k)}function c(k){return k===l?(s++,e.consume(k),c):s<3?n(k):(e.exit("codeFencedFenceSequence"),q(k)?Z(e,f,"whitespace")(k):f(k))}function f(k){return k===null||F(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(Hi,x,S)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===null||F(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(k)):q(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Z(e,d,"whitespace")(k)):k===96&&k===l?n(k):(e.consume(k),h)}function d(k){return k===null||F(k)?f(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(k))}function g(k){return k===null||F(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(k)):k===96&&k===l?n(k):(e.consume(k),g)}function x(k){return e.attempt(i,S,w)(k)}function w(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),b}function b(k){return o>0&&q(k)?Z(e,C,"linePrefix",o+1)(k):C(k)}function C(k){return k===null||F(k)?e.check(Hi,x,S)(k):(e.enter("codeFlowValue"),E(k))}function E(k){return k===null||F(k)?(e.exit("codeFlowValue"),C(k)):(e.consume(k),E)}function S(k){return e.exit("codeFenced"),t(k)}function O(k,N,M){let D=0;return _;function _(L){return k.enter("lineEnding"),k.consume(L),k.exit("lineEnding"),T}function T(L){return k.enter("codeFencedFence"),q(L)?Z(k,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):R(L)}function R(L){return L===l?(k.enter("codeFencedFenceSequence"),j(L)):M(L)}function j(L){return L===l?(D++,k.consume(L),j):D>=s?(k.exit("codeFencedFenceSequence"),q(L)?Z(k,B,"whitespace")(L):B(L)):M(L)}function B(L){return L===null||F(L)?(k.exit("codeFencedFence"),N(L)):M(L)}}}function Pf(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Pn={name:"codeIndented",tokenize:Lf},Nf={partial:!0,tokenize:Df};function Lf(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Z(e,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?a(u):F(u)?e.attempt(Nf,s,a)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||F(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),l)}function a(u){return e.exit("codeIndented"),t(u)}}function Df(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):F(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Z(e,o,"linePrefix",5)(s)}function o(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):F(s)?i(s):n(s)}}const Mf={name:"codeText",previous:Ff,resolve:jf,tokenize:zf};function jf(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Ff(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function zf(e,t,n){let r=0,i,o;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),a(f))}function a(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),a):f===96?(o=e.enter("codeTextSequence"),i=0,c(f)):F(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||F(f)?(e.exit("codeTextData"),a(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(o.type="codeTextData",u(f))}}class Bf{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Nt(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Nt(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Nt(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Nt(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Nt(this.left,n.reverse())}}}function Nt(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ps(e){const t={};let n=-1,r,i,o,s,l,a,u;const c=new Bf(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,o=0,o<a.length&&a[o][1].type==="lineEndingBlank"&&(o+=2),o<a.length&&a[o][1].type==="content"))for(;++o<a.length&&a[o][1].type!=="content";)a[o][1].type==="chunkText"&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Hf(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},l=c.slice(i,n),l.unshift(r),c.splice(i,n-i+1,l))}}return Ne(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function Hf(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,a=[],u={};let c,f,h=-1,d=n,g=0,x=0;const w=[x];for(;d;){for(;e.get(++i)[1]!==d;);o.push(i),d._tokenizer||(c=r.sliceStream(d),d.next||c.push(null),f&&s.defineSkip(d.start),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=d,d=d.next}for(d=n;++h<l.length;)l[h][0]==="exit"&&l[h-1][0]==="enter"&&l[h][1].type===l[h-1][1].type&&l[h][1].start.line!==l[h][1].end.line&&(x=h+1,w.push(x),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(s.events=[],d?(d._tokenizer=void 0,d.previous=void 0):w.pop(),h=w.length;h--;){const b=l.slice(w[h],w[h+1]),C=o.pop();a.push([C,C+b.length-1]),e.splice(C,2,b)}for(a.reverse(),h=-1;++h<a.length;)u[g+a[h][0]]=g+a[h][1],g+=a[h][1]-a[h][0]-1;return u}const Uf={resolve:Wf,tokenize:qf},Vf={partial:!0,tokenize:$f};function Wf(e){return ps(e),e}function qf(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?o(l):F(l)?e.check(Vf,s,o)(l):(e.consume(l),i)}function o(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function s(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function $f(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Z(e,o,"linePrefix")}function o(s){if(s===null||F(s))return n(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function ms(e,t,n,r,i,o,s,l,a){const u=a||Number.POSITIVE_INFINITY;let c=0;return f;function f(b){return b===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(b),e.exit(o),h):b===null||b===32||b===41||er(b)?n(b):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),x(b))}function h(b){return b===62?(e.enter(o),e.consume(b),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),d(b))}function d(b){return b===62?(e.exit("chunkString"),e.exit(l),h(b)):b===null||b===60||F(b)?n(b):(e.consume(b),b===92?g:d)}function g(b){return b===60||b===62||b===92?(e.consume(b),d):d(b)}function x(b){return!c&&(b===null||b===41||de(b))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),t(b)):c<u&&b===40?(e.consume(b),c++,x):b===41?(e.consume(b),c--,x):b===null||b===32||b===40||er(b)?n(b):(e.consume(b),b===92?w:x)}function w(b){return b===40||b===41||b===92?(e.consume(b),x):x(b)}}function gs(e,t,n,r,i,o){const s=this;let l=0,a;return u;function u(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),e.enter(o),c}function c(d){return l>999||d===null||d===91||d===93&&!a||d===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):d===93?(e.exit(o),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):F(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(d))}function f(d){return d===null||d===91||d===93||F(d)||l++>999?(e.exit("chunkString"),c(d)):(e.consume(d),a||(a=!q(d)),d===92?h:f)}function h(d){return d===91||d===92||d===93?(e.consume(d),l++,f):f(d)}}function ys(e,t,n,r,i,o){let s;return l;function l(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,a):n(h)}function a(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(o),u(h))}function u(h){return h===s?(e.exit(o),a(s)):h===null?n(h):F(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Z(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===s||h===null||F(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:c)}function f(h){return h===s||h===92?(e.consume(h),c):c(h)}}function jt(e,t){let n;return r;function r(i){return F(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):q(i)?Z(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Yf={name:"definition",tokenize:Gf},Kf={partial:!0,tokenize:Xf};function Gf(e,t,n){const r=this;let i;return o;function o(d){return e.enter("definition"),s(d)}function s(d){return gs.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function l(d){return i=kt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),d===58?(e.enter("definitionMarker"),e.consume(d),e.exit("definitionMarker"),a):n(d)}function a(d){return de(d)?jt(e,u)(d):u(d)}function u(d){return ms(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function c(d){return e.attempt(Kf,f,f)(d)}function f(d){return q(d)?Z(e,h,"whitespace")(d):h(d)}function h(d){return d===null||F(d)?(e.exit("definition"),r.parser.defined.push(i),t(d)):n(d)}}function Xf(e,t,n){return r;function r(l){return de(l)?jt(e,i)(l):n(l)}function i(l){return ys(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return q(l)?Z(e,s,"whitespace")(l):s(l)}function s(l){return l===null||F(l)?t(l):n(l)}}const Qf={name:"hardBreakEscape",tokenize:Jf};function Jf(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return F(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const Zf={name:"headingAtx",resolve:ed,tokenize:td};function ed(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ne(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function td(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(e.consume(c),s):c===null||de(c)?(e.exit("atxHeadingSequence"),l(c)):n(c)}function l(c){return c===35?(e.enter("atxHeadingSequence"),a(c)):c===null||F(c)?(e.exit("atxHeading"),t(c)):q(c)?Z(e,l,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function a(c){return c===35?(e.consume(c),a):(e.exit("atxHeadingSequence"),l(c))}function u(c){return c===null||c===35||de(c)?(e.exit("atxHeadingText"),l(c)):(e.consume(c),u)}}const nd=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Vi=["pre","script","style","textarea"],rd={concrete:!0,name:"htmlFlow",resolveTo:sd,tokenize:ld},id={partial:!0,tokenize:ud},od={partial:!0,tokenize:ad};function sd(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function ld(e,t,n){const r=this;let i,o,s,l,a;return u;function u(m){return c(m)}function c(m){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(m),f}function f(m){return m===33?(e.consume(m),h):m===47?(e.consume(m),o=!0,x):m===63?(e.consume(m),i=3,r.interrupt?t:p):Ie(m)?(e.consume(m),s=String.fromCharCode(m),w):n(m)}function h(m){return m===45?(e.consume(m),i=2,d):m===91?(e.consume(m),i=5,l=0,g):Ie(m)?(e.consume(m),i=4,r.interrupt?t:p):n(m)}function d(m){return m===45?(e.consume(m),r.interrupt?t:p):n(m)}function g(m){const se="CDATA[";return m===se.charCodeAt(l++)?(e.consume(m),l===se.length?r.interrupt?t:R:g):n(m)}function x(m){return Ie(m)?(e.consume(m),s=String.fromCharCode(m),w):n(m)}function w(m){if(m===null||m===47||m===62||de(m)){const se=m===47,le=s.toLowerCase();return!se&&!o&&Vi.includes(le)?(i=1,r.interrupt?t(m):R(m)):nd.includes(s.toLowerCase())?(i=6,se?(e.consume(m),b):r.interrupt?t(m):R(m)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(m):o?C(m):E(m))}return m===45||ye(m)?(e.consume(m),s+=String.fromCharCode(m),w):n(m)}function b(m){return m===62?(e.consume(m),r.interrupt?t:R):n(m)}function C(m){return q(m)?(e.consume(m),C):_(m)}function E(m){return m===47?(e.consume(m),_):m===58||m===95||Ie(m)?(e.consume(m),S):q(m)?(e.consume(m),E):_(m)}function S(m){return m===45||m===46||m===58||m===95||ye(m)?(e.consume(m),S):O(m)}function O(m){return m===61?(e.consume(m),k):q(m)?(e.consume(m),O):E(m)}function k(m){return m===null||m===60||m===61||m===62||m===96?n(m):m===34||m===39?(e.consume(m),a=m,N):q(m)?(e.consume(m),k):M(m)}function N(m){return m===a?(e.consume(m),a=null,D):m===null||F(m)?n(m):(e.consume(m),N)}function M(m){return m===null||m===34||m===39||m===47||m===60||m===61||m===62||m===96||de(m)?O(m):(e.consume(m),M)}function D(m){return m===47||m===62||q(m)?E(m):n(m)}function _(m){return m===62?(e.consume(m),T):n(m)}function T(m){return m===null||F(m)?R(m):q(m)?(e.consume(m),T):n(m)}function R(m){return m===45&&i===2?(e.consume(m),z):m===60&&i===1?(e.consume(m),U):m===62&&i===4?(e.consume(m),$):m===63&&i===3?(e.consume(m),p):m===93&&i===5?(e.consume(m),re):F(m)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(id,G,j)(m)):m===null||F(m)?(e.exit("htmlFlowData"),j(m)):(e.consume(m),R)}function j(m){return e.check(od,B,G)(m)}function B(m){return e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),L}function L(m){return m===null||F(m)?j(m):(e.enter("htmlFlowData"),R(m))}function z(m){return m===45?(e.consume(m),p):R(m)}function U(m){return m===47?(e.consume(m),s="",ee):R(m)}function ee(m){if(m===62){const se=s.toLowerCase();return Vi.includes(se)?(e.consume(m),$):R(m)}return Ie(m)&&s.length<8?(e.consume(m),s+=String.fromCharCode(m),ee):R(m)}function re(m){return m===93?(e.consume(m),p):R(m)}function p(m){return m===62?(e.consume(m),$):m===45&&i===2?(e.consume(m),p):R(m)}function $(m){return m===null||F(m)?(e.exit("htmlFlowData"),G(m)):(e.consume(m),$)}function G(m){return e.exit("htmlFlow"),t(m)}}function ad(e,t,n){const r=this;return i;function i(s){return F(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function ud(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(kn,t,n)}}const cd={name:"htmlText",tokenize:fd};function fd(e,t,n){const r=this;let i,o,s;return l;function l(p){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(p),a}function a(p){return p===33?(e.consume(p),u):p===47?(e.consume(p),O):p===63?(e.consume(p),E):Ie(p)?(e.consume(p),M):n(p)}function u(p){return p===45?(e.consume(p),c):p===91?(e.consume(p),o=0,g):Ie(p)?(e.consume(p),C):n(p)}function c(p){return p===45?(e.consume(p),d):n(p)}function f(p){return p===null?n(p):p===45?(e.consume(p),h):F(p)?(s=f,U(p)):(e.consume(p),f)}function h(p){return p===45?(e.consume(p),d):f(p)}function d(p){return p===62?z(p):p===45?h(p):f(p)}function g(p){const $="CDATA[";return p===$.charCodeAt(o++)?(e.consume(p),o===$.length?x:g):n(p)}function x(p){return p===null?n(p):p===93?(e.consume(p),w):F(p)?(s=x,U(p)):(e.consume(p),x)}function w(p){return p===93?(e.consume(p),b):x(p)}function b(p){return p===62?z(p):p===93?(e.consume(p),b):x(p)}function C(p){return p===null||p===62?z(p):F(p)?(s=C,U(p)):(e.consume(p),C)}function E(p){return p===null?n(p):p===63?(e.consume(p),S):F(p)?(s=E,U(p)):(e.consume(p),E)}function S(p){return p===62?z(p):E(p)}function O(p){return Ie(p)?(e.consume(p),k):n(p)}function k(p){return p===45||ye(p)?(e.consume(p),k):N(p)}function N(p){return F(p)?(s=N,U(p)):q(p)?(e.consume(p),N):z(p)}function M(p){return p===45||ye(p)?(e.consume(p),M):p===47||p===62||de(p)?D(p):n(p)}function D(p){return p===47?(e.consume(p),z):p===58||p===95||Ie(p)?(e.consume(p),_):F(p)?(s=D,U(p)):q(p)?(e.consume(p),D):z(p)}function _(p){return p===45||p===46||p===58||p===95||ye(p)?(e.consume(p),_):T(p)}function T(p){return p===61?(e.consume(p),R):F(p)?(s=T,U(p)):q(p)?(e.consume(p),T):D(p)}function R(p){return p===null||p===60||p===61||p===62||p===96?n(p):p===34||p===39?(e.consume(p),i=p,j):F(p)?(s=R,U(p)):q(p)?(e.consume(p),R):(e.consume(p),B)}function j(p){return p===i?(e.consume(p),i=void 0,L):p===null?n(p):F(p)?(s=j,U(p)):(e.consume(p),j)}function B(p){return p===null||p===34||p===39||p===60||p===61||p===96?n(p):p===47||p===62||de(p)?D(p):(e.consume(p),B)}function L(p){return p===47||p===62||de(p)?D(p):n(p)}function z(p){return p===62?(e.consume(p),e.exit("htmlTextData"),e.exit("htmlText"),t):n(p)}function U(p){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),ee}function ee(p){return q(p)?Z(e,re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p):re(p)}function re(p){return e.enter("htmlTextData"),s(p)}}const Nr={name:"labelEnd",resolveAll:md,resolveTo:gd,tokenize:yd},dd={tokenize:xd},hd={tokenize:bd},pd={tokenize:wd};function md(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ne(e,0,e.length,n),e}function gd(e,t){let n=e.length,r=0,i,o,s,l;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const a={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[s][1].end}},c={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[s-2][1].start}};return l=[["enter",a,t],["enter",u,t]],l=ke(l,e.slice(o+1,o+r+3)),l=ke(l,[["enter",c,t]]),l=ke(l,Pr(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),l=ke(l,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),l=ke(l,e.slice(s+1)),l=ke(l,[["exit",a,t]]),Ne(e,o,e.length,l),e}function yd(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return l;function l(h){return o?o._inactive?f(h):(s=r.parser.defined.includes(kt(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),a):n(h)}function a(h){return h===40?e.attempt(dd,c,s?c:f)(h):h===91?e.attempt(hd,c,s?u:f)(h):s?c(h):f(h)}function u(h){return e.attempt(pd,c,f)(h)}function c(h){return t(h)}function f(h){return o._balanced=!0,n(h)}}function xd(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return de(f)?jt(e,o)(f):o(f)}function o(f){return f===41?c(f):ms(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return de(f)?jt(e,a)(f):c(f)}function l(f){return n(f)}function a(f){return f===34||f===39||f===40?ys(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return de(f)?jt(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function bd(e,t,n){const r=this;return i;function i(l){return gs.call(r,e,o,s,"reference","referenceMarker","referenceString")(l)}function o(l){return r.parser.defined.includes(kt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function s(l){return n(l)}}function wd(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const kd={name:"labelStartImage",resolveAll:Nr.resolveAll,tokenize:Sd};function Sd(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),o}function o(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):n(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Ed={name:"labelStartLink",resolveAll:Nr.resolveAll,tokenize:vd};function vd(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Nn={name:"lineEnding",tokenize:_d};function _d(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Z(e,t,"linePrefix")}}const on={name:"thematicBreak",tokenize:Cd};function Cd(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||F(u))?(e.exit("thematicBreak"),t(u)):n(u)}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),q(u)?Z(e,l,"whitespace")(u):l(u))}}const ce={continuation:{tokenize:Rd},exit:Pd,name:"list",tokenize:Id},Td={partial:!0,tokenize:Nd},Ad={partial:!0,tokenize:Od};function Id(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(d){const g=r.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||d===r.containerState.marker:tr(d)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),d===42||d===45?e.check(on,n,u)(d):u(d);if(!r.interrupt||d===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(d)}return n(d)}function a(d){return tr(d)&&++s<10?(e.consume(d),a):(!r.interrupt||s<2)&&(r.containerState.marker?d===r.containerState.marker:d===41||d===46)?(e.exit("listItemValue"),u(d)):n(d)}function u(d){return e.enter("listItemMarker"),e.consume(d),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||d,e.check(kn,r.interrupt?n:c,e.attempt(Td,h,f))}function c(d){return r.containerState.initialBlankLine=!0,o++,h(d)}function f(d){return q(d)?(e.enter("listItemPrefixWhitespace"),e.consume(d),e.exit("listItemPrefixWhitespace"),h):n(d)}function h(d){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(d)}}function Rd(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(kn,i,o);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Z(e,t,"listItemIndent",r.containerState.size+1)(l)}function o(l){return r.containerState.furtherBlankLines||!q(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Ad,t,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Z(e,e.attempt(ce,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Od(e,t,n){const r=this;return Z(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function Pd(e){e.exit(this.containerState.type)}function Nd(e,t,n){const r=this;return Z(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!q(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Wi={name:"setextUnderline",resolveTo:Ld,tokenize:Dd};function Ld(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function Dd(e,t,n){const r=this;let i;return o;function o(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),q(u)?Z(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||F(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Md={tokenize:jd};function jd(e){const t=this,n=e.attempt(kn,r,e.attempt(this.parser.constructs.flowInitial,i,Z(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Uf,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Fd={resolveAll:bs()},zd=xs("string"),Bd=xs("text");function xs(e){return{resolveAll:bs(e==="text"?Hd:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,l);return s;function s(c){return u(c)?o(c):l(c)}function l(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),a}function a(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),a)}function u(c){if(c===null)return!0;const f=i[c];let h=-1;if(f)for(;++h<f.length;){const d=f[h];if(!d.previous||d.previous.call(r,r.previous))return!0}return!1}}}function bs(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function Hd(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,l=0,a;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(u===-2)a=!0,l++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Ud={42:ce,43:ce,45:ce,48:ce,49:ce,50:ce,51:ce,52:ce,53:ce,54:ce,55:ce,56:ce,57:ce,62:fs},Vd={91:Yf},Wd={[-2]:Pn,[-1]:Pn,32:Pn},qd={35:Zf,42:on,45:[Wi,on],60:rd,61:Wi,95:on,96:Ui,126:Ui},$d={38:hs,92:ds},Yd={[-5]:Nn,[-4]:Nn,[-3]:Nn,33:kd,38:hs,42:nr,60:[Ef,cd],91:Ed,92:[Qf,ds],93:Nr,95:nr,96:Mf},Kd={null:[nr,Fd]},Gd={null:[42,95]},Xd={null:[]},Qd=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Gd,contentInitial:Vd,disable:Xd,document:Ud,flow:qd,flowInitial:Wd,insideSpan:Kd,string:$d,text:Yd},Symbol.toStringTag,{value:"Module"}));function Jd(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],l=[];const a={attempt:N(O),check:N(k),consume:C,enter:E,exit:S,interrupt:N(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:g,parser:e,previous:null,sliceSerialize:h,sliceStream:d,write:f};let c=t.tokenize.call(u,a);return t.resolveAll&&o.push(t),u;function f(T){return s=ke(s,T),w(),s[s.length-1]!==null?[]:(M(t,0),u.events=Pr(o,u.events,u),u.events)}function h(T,R){return eh(d(T),R)}function d(T){return Zd(s,T)}function g(){const{_bufferIndex:T,_index:R,line:j,column:B,offset:L}=r;return{_bufferIndex:T,_index:R,line:j,column:B,offset:L}}function x(T){i[T.line]=T.column,_()}function w(){let T;for(;r._index<s.length;){const R=s[r._index];if(typeof R=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<R.length;)b(R.charCodeAt(r._bufferIndex));else b(R)}}function b(T){c=c(T)}function C(T){F(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,_()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=T}function E(T,R){const j=R||{};return j.type=T,j.start=g(),u.events.push(["enter",j,u]),l.push(j),j}function S(T){const R=l.pop();return R.end=g(),u.events.push(["exit",R,u]),R}function O(T,R){M(T,R.from)}function k(T,R){R.restore()}function N(T,R){return j;function j(B,L,z){let U,ee,re,p;return Array.isArray(B)?G(B):"tokenize"in B?G([B]):$(B);function $(te){return Ue;function Ue(pe){const Ee=pe!==null&&te[pe],Ve=pe!==null&&te.null,ft=[...Array.isArray(Ee)?Ee:Ee?[Ee]:[],...Array.isArray(Ve)?Ve:Ve?[Ve]:[]];return G(ft)(pe)}}function G(te){return U=te,ee=0,te.length===0?z:m(te[ee])}function m(te){return Ue;function Ue(pe){return p=D(),re=te,te.partial||(u.currentConstruct=te),te.name&&u.parser.constructs.disable.null.includes(te.name)?le():te.tokenize.call(R?Object.assign(Object.create(u),R):u,a,se,le)(pe)}}function se(te){return T(re,p),L}function le(te){return p.restore(),++ee<U.length?m(U[ee]):z}}}function M(T,R){T.resolveAll&&!o.includes(T)&&o.push(T),T.resolve&&Ne(u.events,R,u.events.length-R,T.resolve(u.events.slice(R),u)),T.resolveTo&&(u.events=T.resolveTo(u.events,u))}function D(){const T=g(),R=u.previous,j=u.currentConstruct,B=u.events.length,L=Array.from(l);return{from:B,restore:z};function z(){r=T,u.previous=R,u.currentConstruct=j,u.events.length=B,l=L,_()}}function _(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Zd(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function eh(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function th(e){const r={constructs:af([Qd,...(e||{}).extensions||[]]),content:i(gf),defined:[],document:i(xf),flow:i(Md),lazy:{},string:i(zd),text:i(Bd)};return r;function i(o){return s;function s(l){return Jd(r,o,l)}}}function nh(e){for(;!ps(e););return e}const qi=/[\0\t\n\r]/g;function rh(){let e=1,t="",n=!0,r;return i;function i(o,s,l){const a=[];let u,c,f,h,d;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),f=0,t="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(qi.lastIndex=f,u=qi.exec(o),h=u&&u.index!==void 0?u.index:o.length,d=o.charCodeAt(h),!u){t=o.slice(f);break}if(d===10&&f===h&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),f<h&&(a.push(o.slice(f,h)),e+=h-f),d){case 0:{a.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,a.push(-2);e++<c;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return l&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const ih=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function oh(e){return e.replace(ih,sh)}function sh(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return cs(n.slice(o?2:1),o?16:10)}return Or(n)||e}const ws={}.hasOwnProperty;function lh(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ah(n)(nh(th(n).document().write(rh()(e,t,!0))))}function ah(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ur),autolinkProtocol:D,autolinkEmail:D,atxHeading:o(zr),blockQuote:o(Ve),characterEscape:D,characterReference:D,codeFenced:o(ft),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(ft,s),codeText:o(ne,s),codeTextData:D,data:D,codeFlowValue:D,definition:o(we),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(Rt),hardBreakEscape:o(Br),hardBreakTrailing:o(Br),htmlFlow:o(Hr,s),htmlFlowData:D,htmlText:o(Hr,s),htmlTextData:D,image:o(Ps),label:s,link:o(Ur),listItem:o(Ns),listItemValue:h,listOrdered:o(Vr,f),listUnordered:o(Vr),paragraph:o(Ls),reference:m,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(zr),strong:o(Ds),thematicBreak:o(js)},exit:{atxHeading:a(),atxHeadingSequence:O,autolink:a(),autolinkEmail:Ee,autolinkProtocol:pe,blockQuote:a(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:te,characterReference:Ue,codeFenced:a(w),codeFencedFence:x,codeFencedFenceInfo:d,codeFencedFenceMeta:g,codeFlowValue:_,codeIndented:a(b),codeText:a(L),codeTextData:_,data:_,definition:a(),definitionDestinationString:S,definitionLabelString:C,definitionTitleString:E,emphasis:a(),hardBreakEscape:a(R),hardBreakTrailing:a(R),htmlFlow:a(j),htmlFlowData:_,htmlText:a(B),htmlTextData:_,image:a(U),label:re,labelText:ee,lineEnding:T,link:a(z),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:se,resourceDestinationString:p,resourceTitleString:$,resource:G,setextHeading:a(M),setextHeadingLineSequence:N,setextHeadingText:k,strong:a(),thematicBreak:a()}};ks(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(v){let P={type:"root",children:[]};const H={stack:[P],tokenStack:[],config:t,enter:l,exit:u,buffer:s,resume:c,data:n},W=[];let X=-1;for(;++X<v.length;)if(v[X][1].type==="listOrdered"||v[X][1].type==="listUnordered")if(v[X][0]==="enter")W.push(X);else{const ve=W.pop();X=i(v,ve,X)}for(X=-1;++X<v.length;){const ve=t[v[X][0]];ws.call(ve,v[X][1].type)&&ve[v[X][1].type].call(Object.assign({sliceSerialize:v[X][2].sliceSerialize},H),v[X][1])}if(H.tokenStack.length>0){const ve=H.tokenStack[H.tokenStack.length-1];(ve[1]||$i).call(H,void 0,ve[0])}for(P.position={start:We(v.length>0?v[0][1].start:{line:1,column:1,offset:0}),end:We(v.length>0?v[v.length-2][1].end:{line:1,column:1,offset:0})},X=-1;++X<t.transforms.length;)P=t.transforms[X](P)||P;return P}function i(v,P,H){let W=P-1,X=-1,ve=!1,Je,De,Ot,Pt;for(;++W<=H;){const me=v[W];switch(me[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{me[0]==="enter"?X++:X--,Pt=void 0;break}case"lineEndingBlank":{me[0]==="enter"&&(Je&&!Pt&&!X&&!Ot&&(Ot=W),Pt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Pt=void 0}if(!X&&me[0]==="enter"&&me[1].type==="listItemPrefix"||X===-1&&me[0]==="exit"&&(me[1].type==="listUnordered"||me[1].type==="listOrdered")){if(Je){let dt=W;for(De=void 0;dt--;){const Me=v[dt];if(Me[1].type==="lineEnding"||Me[1].type==="lineEndingBlank"){if(Me[0]==="exit")continue;De&&(v[De][1].type="lineEndingBlank",ve=!0),Me[1].type="lineEnding",De=dt}else if(!(Me[1].type==="linePrefix"||Me[1].type==="blockQuotePrefix"||Me[1].type==="blockQuotePrefixWhitespace"||Me[1].type==="blockQuoteMarker"||Me[1].type==="listItemIndent"))break}Ot&&(!De||Ot<De)&&(Je._spread=!0),Je.end=Object.assign({},De?v[De][1].start:me[1].end),v.splice(De||W,0,["exit",Je,me[2]]),W++,H++}if(me[1].type==="listItemPrefix"){const dt={type:"listItem",_spread:!1,start:Object.assign({},me[1].start),end:void 0};Je=dt,v.splice(W,0,["enter",dt,me[2]]),W++,H++,Ot=void 0,Pt=!0}}}return v[P][1]._spread=ve,H}function o(v,P){return H;function H(W){l.call(this,v(W),W),P&&P.call(this,W)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(v,P,H){this.stack[this.stack.length-1].children.push(v),this.stack.push(v),this.tokenStack.push([P,H||void 0]),v.position={start:We(P.start),end:void 0}}function a(v){return P;function P(H){v&&v.call(this,H),u.call(this,H)}}function u(v,P){const H=this.stack.pop(),W=this.tokenStack.pop();if(W)W[0].type!==v.type&&(P?P.call(this,v,W[0]):(W[1]||$i).call(this,v,W[0]));else throw new Error("Cannot close `"+v.type+"` ("+Mt({start:v.start,end:v.end})+"): its not open");H.position.end=We(v.end)}function c(){return sf(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(v){if(this.data.expectingFirstListItemValue){const P=this.stack[this.stack.length-2];P.start=Number.parseInt(this.sliceSerialize(v),10),this.data.expectingFirstListItemValue=void 0}}function d(){const v=this.resume(),P=this.stack[this.stack.length-1];P.lang=v}function g(){const v=this.resume(),P=this.stack[this.stack.length-1];P.meta=v}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const v=this.resume(),P=this.stack[this.stack.length-1];P.value=v.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const v=this.resume(),P=this.stack[this.stack.length-1];P.value=v.replace(/(\r?\n|\r)$/g,"")}function C(v){const P=this.resume(),H=this.stack[this.stack.length-1];H.label=P,H.identifier=kt(this.sliceSerialize(v)).toLowerCase()}function E(){const v=this.resume(),P=this.stack[this.stack.length-1];P.title=v}function S(){const v=this.resume(),P=this.stack[this.stack.length-1];P.url=v}function O(v){const P=this.stack[this.stack.length-1];if(!P.depth){const H=this.sliceSerialize(v).length;P.depth=H}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function N(v){const P=this.stack[this.stack.length-1];P.depth=this.sliceSerialize(v).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function D(v){const H=this.stack[this.stack.length-1].children;let W=H[H.length-1];(!W||W.type!=="text")&&(W=Ms(),W.position={start:We(v.start),end:void 0},H.push(W)),this.stack.push(W)}function _(v){const P=this.stack.pop();P.value+=this.sliceSerialize(v),P.position.end=We(v.end)}function T(v){const P=this.stack[this.stack.length-1];if(this.data.atHardBreak){const H=P.children[P.children.length-1];H.position.end=We(v.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(P.type)&&(D.call(this,v),_.call(this,v))}function R(){this.data.atHardBreak=!0}function j(){const v=this.resume(),P=this.stack[this.stack.length-1];P.value=v}function B(){const v=this.resume(),P=this.stack[this.stack.length-1];P.value=v}function L(){const v=this.resume(),P=this.stack[this.stack.length-1];P.value=v}function z(){const v=this.stack[this.stack.length-1];if(this.data.inReference){const P=this.data.referenceType||"shortcut";v.type+="Reference",v.referenceType=P,delete v.url,delete v.title}else delete v.identifier,delete v.label;this.data.referenceType=void 0}function U(){const v=this.stack[this.stack.length-1];if(this.data.inReference){const P=this.data.referenceType||"shortcut";v.type+="Reference",v.referenceType=P,delete v.url,delete v.title}else delete v.identifier,delete v.label;this.data.referenceType=void 0}function ee(v){const P=this.sliceSerialize(v),H=this.stack[this.stack.length-2];H.label=oh(P),H.identifier=kt(P).toLowerCase()}function re(){const v=this.stack[this.stack.length-1],P=this.resume(),H=this.stack[this.stack.length-1];if(this.data.inReference=!0,H.type==="link"){const W=v.children;H.children=W}else H.alt=P}function p(){const v=this.resume(),P=this.stack[this.stack.length-1];P.url=v}function $(){const v=this.resume(),P=this.stack[this.stack.length-1];P.title=v}function G(){this.data.inReference=void 0}function m(){this.data.referenceType="collapsed"}function se(v){const P=this.resume(),H=this.stack[this.stack.length-1];H.label=P,H.identifier=kt(this.sliceSerialize(v)).toLowerCase(),this.data.referenceType="full"}function le(v){this.data.characterReferenceType=v.type}function te(v){const P=this.sliceSerialize(v),H=this.data.characterReferenceType;let W;H?(W=cs(P,H==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):W=Or(P);const X=this.stack[this.stack.length-1];X.value+=W}function Ue(v){const P=this.stack.pop();P.position.end=We(v.end)}function pe(v){_.call(this,v);const P=this.stack[this.stack.length-1];P.url=this.sliceSerialize(v)}function Ee(v){_.call(this,v);const P=this.stack[this.stack.length-1];P.url="mailto:"+this.sliceSerialize(v)}function Ve(){return{type:"blockquote",children:[]}}function ft(){return{type:"code",lang:null,meta:null,value:""}}function ne(){return{type:"inlineCode",value:""}}function we(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Rt(){return{type:"emphasis",children:[]}}function zr(){return{type:"heading",depth:0,children:[]}}function Br(){return{type:"break"}}function Hr(){return{type:"html",value:""}}function Ps(){return{type:"image",title:null,url:"",alt:null}}function Ur(){return{type:"link",title:null,url:"",children:[]}}function Vr(v){return{type:"list",ordered:v.type==="listOrdered",start:null,spread:v._spread,children:[]}}function Ns(v){return{type:"listItem",spread:v._spread,checked:null,children:[]}}function Ls(){return{type:"paragraph",children:[]}}function Ds(){return{type:"strong",children:[]}}function Ms(){return{type:"text",value:""}}function js(){return{type:"thematicBreak"}}}function We(e){return{line:e.line,column:e.column,offset:e.offset}}function ks(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?ks(e,r):uh(e,r)}}function uh(e,t){let n;for(n in t)if(ws.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function $i(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Mt({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Mt({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Mt({start:t.start,end:t.end})+") is still open")}function ch(e){const t=this;t.parser=n;function n(r){return lh(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function fh(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function dh(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function hh(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function ph(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mh(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gh(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=It(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,l+=1,e.footnoteCounts.set(r,l);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function yh(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xh(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Ss(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function bh(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Ss(e,t);const i={src:It(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function wh(e,t){const n={src:It(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function kh(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Sh(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Ss(e,t);const i={href:It(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function Eh(e,t){const n={href:It(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vh(e,t,n){const r=e.all(t),i=n?_h(n):Es(t),o={},s=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const c=r[l];(i||l!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,u),e.applyData(t,u)}function _h(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Es(n[r])}return t}function Es(e){const t=e.spread;return t??e.children.length>1}function Ch(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function Th(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ah(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Ih(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Rh(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=Tr(t.children[1]),a=rs(t.children[t.children.length-1]);l&&a&&(s.position={start:l,end:a}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function Oh(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,l=s?s.length:t.children.length;let a=-1;const u=[];for(;++a<l;){const f=t.children[a],h={},d=s?s[a]:void 0;d&&(h.align=d);let g={type:"element",tagName:o,properties:h,children:[]};f&&(g.children=e.all(f),e.patch(f,g),g=e.applyData(f,g)),u.push(g)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function Ph(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Yi=9,Ki=32;function Nh(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(Gi(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(Gi(t.slice(i),i>0,!1)),o.join("")}function Gi(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===Yi||o===Ki;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===Yi||o===Ki;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Lh(e,t){const n={type:"text",value:Nh(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Dh(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Mh={blockquote:fh,break:dh,code:hh,delete:ph,emphasis:mh,footnoteReference:gh,heading:yh,html:xh,imageReference:bh,image:wh,inlineCode:kh,linkReference:Sh,link:Eh,listItem:vh,list:Ch,paragraph:Th,root:Ah,strong:Ih,table:Rh,tableCell:Ph,tableRow:Oh,text:Lh,thematicBreak:Dh,toml:Zt,yaml:Zt,definition:Zt,footnoteDefinition:Zt};function Zt(){}const vs=-1,Sn=0,Ft=1,hn=2,Lr=3,Dr=4,Mr=5,jr=6,_s=7,Cs=8,Xi=typeof self=="object"?self:globalThis,jh=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case Sn:case vs:return n(s,i);case Ft:{const l=n([],i);for(const a of s)l.push(r(a));return l}case hn:{const l=n({},i);for(const[a,u]of s)l[r(a)]=r(u);return l}case Lr:return n(new Date(s),i);case Dr:{const{source:l,flags:a}=s;return n(new RegExp(l,a),i)}case Mr:{const l=n(new Map,i);for(const[a,u]of s)l.set(r(a),r(u));return l}case jr:{const l=n(new Set,i);for(const a of s)l.add(r(a));return l}case _s:{const{name:l,message:a}=s;return n(new Xi[l](a),i)}case Cs:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return n(new DataView(l),s)}}return n(new Xi[o](s),i)};return r},Qi=e=>jh(new Map,e)(0),gt="",{toString:Fh}={},{keys:zh}=Object,Lt=e=>{const t=typeof e;if(t!=="object"||!e)return[Sn,t];const n=Fh.call(e).slice(8,-1);switch(n){case"Array":return[Ft,gt];case"Object":return[hn,gt];case"Date":return[Lr,gt];case"RegExp":return[Dr,gt];case"Map":return[Mr,gt];case"Set":return[jr,gt];case"DataView":return[Ft,n]}return n.includes("Array")?[Ft,n]:n.includes("Error")?[_s,n]:[hn,n]},en=([e,t])=>e===Sn&&(t==="function"||t==="symbol"),Bh=(e,t,n,r)=>{const i=(s,l)=>{const a=r.push(s)-1;return n.set(l,a),a},o=s=>{if(n.has(s))return n.get(s);let[l,a]=Lt(s);switch(l){case Sn:{let c=s;switch(a){case"bigint":l=Cs,c=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);c=null;break;case"undefined":return i([vs],s)}return i([l,c],s)}case Ft:{if(a){let h=s;return a==="DataView"?h=new Uint8Array(s.buffer):a==="ArrayBuffer"&&(h=new Uint8Array(s)),i([a,[...h]],s)}const c=[],f=i([l,c],s);for(const h of s)c.push(o(h));return f}case hn:{if(a)switch(a){case"BigInt":return i([a,s.toString()],s);case"Boolean":case"Number":case"String":return i([a,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const c=[],f=i([l,c],s);for(const h of zh(s))(e||!en(Lt(s[h])))&&c.push([o(h),o(s[h])]);return f}case Lr:return i([l,s.toISOString()],s);case Dr:{const{source:c,flags:f}=s;return i([l,{source:c,flags:f}],s)}case Mr:{const c=[],f=i([l,c],s);for(const[h,d]of s)(e||!(en(Lt(h))||en(Lt(d))))&&c.push([o(h),o(d)]);return f}case jr:{const c=[],f=i([l,c],s);for(const h of s)(e||!en(Lt(h)))&&c.push(o(h));return f}}const{message:u}=s;return i([l,{name:a,message:u}],s)};return o},Ji=(e,{json:t,lossy:n}={})=>{const r=[];return Bh(!(t||n),!!t,new Map,r)(e),r},pn=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Qi(Ji(e,t)):structuredClone(e):(e,t)=>Qi(Ji(e,t));function Hh(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Uh(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Vh(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Hh,r=e.options.footnoteBackLabel||Uh,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const c=e.all(u),f=String(u.identifier).toUpperCase(),h=It(f.toLowerCase());let d=0;const g=[],x=e.footnoteCounts.get(f);for(;x!==void 0&&++d<=x;){g.length>0&&g.push({type:"text",value:" "});let C=typeof n=="string"?n:n(a,d);typeof C=="string"&&(C={type:"text",value:C}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,d),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const w=c[c.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const C=w.children[w.children.length-1];C&&C.type==="text"?C.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else c.push(...g);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(c,!0)};e.patch(u,b),l.push(b)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...pn(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Ts=function(e){if(e==null)return Yh;if(typeof e=="function")return En(e);if(typeof e=="object")return Array.isArray(e)?Wh(e):qh(e);if(typeof e=="string")return $h(e);throw new Error("Expected function, string, or object as test")};function Wh(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ts(e[n]);return En(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function qh(e){const t=e;return En(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function $h(e){return En(t);function t(n){return n&&n.type===e}}function En(e){return t;function t(n,r,i){return!!(Kh(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Yh(){return!0}function Kh(e){return e!==null&&typeof e=="object"&&"type"in e}const As=[],Gh=!0,Zi=!1,Xh="skip";function Qh(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Ts(i),s=r?-1:1;l(e,void 0,[])();function l(a,u,c){const f=a&&typeof a=="object"?a:{};if(typeof f.type=="string"){const d=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(d?"<"+d+">":""))+")"})}return h;function h(){let d=As,g,x,w;if((!t||o(a,u,c[c.length-1]||void 0))&&(d=Jh(n(a,c)),d[0]===Zi))return d;if("children"in a&&a.children){const b=a;if(b.children&&d[0]!==Xh)for(x=(r?b.children.length:-1)+s,w=c.concat(b);x>-1&&x<b.children.length;){const C=b.children[x];if(g=l(C,x,w)(),g[0]===Zi)return g;x=typeof g[1]=="number"?g[1]:x+s}}return d}}}function Jh(e){return Array.isArray(e)?e:typeof e=="number"?[Gh,e]:e==null?As:[e]}function Is(e,t,n,r){let i,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,i=n):(o=t,s=n,i=r),Qh(e,o,l,i);function l(a,u){const c=u[u.length-1],f=c?c.children.indexOf(a):void 0;return s(a,f,c)}}const rr={}.hasOwnProperty,Zh={};function ep(e,t){const n=t||Zh,r=new Map,i=new Map,o=new Map,s={...Mh,...n.handlers},l={all:u,applyData:np,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:a,options:n,patch:tp,wrap:ip};return Is(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,h=String(c.identifier).toUpperCase();f.has(h)||f.set(h,c)}}),l;function a(c,f){const h=c.type,d=l.handlers[h];if(rr.call(l.handlers,h)&&d)return d(l,c,f);if(l.options.passThrough&&l.options.passThrough.includes(h)){if("children"in c){const{children:x,...w}=c,b=pn(w);return b.children=l.all(c),b}return pn(c)}return(l.options.unknownHandler||rp)(l,c,f)}function u(c){const f=[];if("children"in c){const h=c.children;let d=-1;for(;++d<h.length;){const g=l.one(h[d],c);if(g){if(d&&h[d-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=eo(g.value)),!Array.isArray(g)&&g.type==="element")){const x=g.children[0];x&&x.type==="text"&&(x.value=eo(x.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function tp(e,t){e.position&&(t.position=jc(e))}function np(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,pn(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function rp(e,t){const n=t.data||{},r="value"in t&&!(rr.call(n,"hProperties")||rr.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ip(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function eo(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function to(e,t){const n=ep(e,t),r=n.one(e,void 0),i=Vh(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function op(e,t){return e&&"run"in e?async function(n,r){const i=to(n,{file:r,...t});await e.run(i,r)}:function(n,r){return to(n,{file:r,...e||t})}}function no(e){if(e)throw e}var sn=Object.prototype.hasOwnProperty,Rs=Object.prototype.toString,ro=Object.defineProperty,io=Object.getOwnPropertyDescriptor,oo=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Rs.call(t)==="[object Array]"},so=function(t){if(!t||Rs.call(t)!=="[object Object]")return!1;var n=sn.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&sn.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||sn.call(t,i)},lo=function(t,n){ro&&n.name==="__proto__"?ro(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},ao=function(t,n){if(n==="__proto__")if(sn.call(t,n)){if(io)return io(t,n).value}else return;return t[n]},sp=function e(){var t,n,r,i,o,s,l=arguments[0],a=1,u=arguments.length,c=!1;for(typeof l=="boolean"&&(c=l,l=arguments[1]||{},a=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});a<u;++a)if(t=arguments[a],t!=null)for(n in t)r=ao(l,n),i=ao(t,n),l!==i&&(c&&i&&(so(i)||(o=oo(i)))?(o?(o=!1,s=r&&oo(r)?r:[]):s=r&&so(r)?r:{},lo(l,{name:n,newValue:e(c,s,i)})):typeof i<"u"&&lo(l,{name:n,newValue:i}));return l};const Ln=_o(sp);function ir(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function lp(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(a,...u){const c=e[++o];let f=-1;if(a){s(a);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?ap(c,l)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function ap(e,t){let n;return r;function r(...s){const l=e.length>s.length;let a;l&&s.push(i);try{a=e.apply(this,s)}catch(u){const c=u;if(l&&n)throw c;return i(c)}l||(a&&a.then&&typeof a.then=="function"?a.then(o,i):a instanceof Error?i(a):o(a))}function i(s,...l){n||(n=!0,t(s,...l))}function o(s){i(null,s)}}const Ae={basename:up,dirname:cp,extname:fp,join:dp,sep:"/"};function up(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Yt(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function cp(e){if(Yt(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function fp(e){Yt(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const l=e.codePointAt(t);if(l===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),l===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function dp(...e){let t=-1,n;for(;++t<e.length;)Yt(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":hp(n)}function hp(e){Yt(e);const t=e.codePointAt(0)===47;let n=pp(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function pp(e,t){let n="",r=0,i=-1,o=0,s=-1,l,a;for(;++s<=e.length;){if(s<e.length)l=e.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else l===46&&o>-1?o++:o=-1}return n}function Yt(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const mp={cwd:gp};function gp(){return"/"}function or(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function yp(e){if(typeof e=="string")e=new URL(e);else if(!or(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return xp(e)}function xp(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Dn=["history","path","basename","stem","extname","dirname"];class Os{constructor(t){let n;t?or(t)?n={path:t}:typeof t=="string"||bp(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":mp.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Dn.length;){const o=Dn[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)Dn.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ae.basename(this.path):void 0}set basename(t){jn(t,"basename"),Mn(t,"basename"),this.path=Ae.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ae.dirname(this.path):void 0}set dirname(t){uo(this.basename,"dirname"),this.path=Ae.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ae.extname(this.path):void 0}set extname(t){if(Mn(t,"extname"),uo(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ae.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){or(t)&&(t=yp(t)),jn(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ae.basename(this.path,this.extname):void 0}set stem(t){jn(t,"stem"),Mn(t,"stem"),this.path=Ae.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ue(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Mn(e,t){if(e&&e.includes(Ae.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ae.sep+"`")}function jn(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function uo(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function bp(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const wp=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},kp={}.hasOwnProperty;class Fr extends wp{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=lp()}copy(){const t=new Fr;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ln(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Bn("data",this.frozen),this.namespace[t]=n,this):kp.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Bn("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=tn(t),r=this.parser||this.Parser;return Fn("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Fn("process",this.parser||this.Parser),zn("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const l=tn(t),a=r.parse(l);r.run(a,l,function(c,f,h){if(c||!f||!h)return u(c);const d=f,g=r.stringify(d,h);vp(g)?h.value=g:h.result=g,u(c,h)});function u(c,f){c||!f?s(c):o?o(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Fn("processSync",this.parser||this.Parser),zn("processSync",this.compiler||this.Compiler),this.process(t,i),fo("processSync","process",n),r;function i(o,s){n=!0,no(o),r=s}}run(t,n,r){co(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,l){const a=tn(n);i.run(t,a,u);function u(c,f,h){const d=f||t;c?l(c):s?s(d):r(void 0,d,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),fo("runSync","run",r),i;function o(s,l){no(s),i=l,r=!0}}stringify(t,n){this.freeze();const r=tn(n),i=this.compiler||this.Compiler;return zn("stringify",i),co(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Bn("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;a(c,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=Ln(!0,i.settings,u.settings))}function l(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];o(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,c){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...c]);else if(c.length>0){let[d,...g]=c;const x=r[h][1];ir(x)&&ir(d)&&(d=Ln(!0,x,d)),r[h]=[u,d,...g]}}}}const Sp=new Fr().freeze();function Fn(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function zn(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Bn(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function co(e){if(!ir(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function fo(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function tn(e){return Ep(e)?e:new Os(e)}function Ep(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function vp(e){return typeof e=="string"||_p(e)}function _p(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Cp="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ho=[],po={allowDangerousHtml:!0},Tp=/^(https?|ircs?|mailto|xmpp)$/i,Ap=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ip(e){const t=Rp(e),n=Op(e);return Pp(t.runSync(t.parse(n),n),e)}function Rp(e){const t=e.rehypePlugins||ho,n=e.remarkPlugins||ho,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...po}:po;return Sp().use(ch).use(n).use(op,r).use(t)}function Op(e){const t=e.children||"",n=new Os;return typeof t=="string"&&(n.value=t),n}function Pp(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,s=t.skipHtml,l=t.unwrapDisallowed,a=t.urlTransform||Np;for(const c of Ap)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+Cp+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Is(e,u),Uc(e,{Fragment:y.Fragment,components:i,ignoreInvalidStyle:!0,jsx:y.jsx,jsxs:y.jsxs,passKeys:!0,passNode:!0});function u(c,f,h){if(c.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let d;for(d in On)if(Object.hasOwn(On,d)&&Object.hasOwn(c.properties,d)){const g=c.properties[d],x=On[d];(x===null||x.includes(c.tagName))&&(c.properties[d]=a(String(g||""),d,c))}}if(c.type==="element"){let d=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!d&&r&&typeof f=="number"&&(d=!r(c,f,h)),d&&h&&typeof f=="number")return l&&c.children?h.children.splice(f,1,...c.children):h.children.splice(f,1),f}}}function Np(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Tp.test(e.slice(0,t))?e:""}function Lp({content:e,loading:t=!1,error:n=null,onRetry:r}){const i=A.useRef(null);return A.useEffect(()=>{i.current&&e&&(i.current.scrollTop=i.current.scrollHeight)},[e]),t&&!e?y.jsx("div",{className:"flex items-center justify-center py-8",children:y.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[y.jsx(Dp,{}),y.jsx("span",{children:"Thinking..."})]})}):n?y.jsx("div",{className:"rounded-lg border border-red-500/30 bg-red-500/10 p-4",role:"alert",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(Mp,{}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-sm font-medium text-red-400",children:"Error"}),y.jsx("p",{className:"mt-1 text-sm text-red-300",children:n}),r&&y.jsx("button",{onClick:r,className:"mt-3 rounded-md bg-red-500/20 px-3 py-1.5 text-sm font-medium text-red-300 transition-colors hover:bg-red-500/30",children:"Try Again"})]})]})}):e?y.jsxs("div",{ref:i,className:"prose prose-invert prose-sm max-w-none overflow-y-auto",style:{maxHeight:"400px"},children:[y.jsx(Ip,{children:e}),t&&y.jsx("span",{className:"inline-block h-4 w-2 animate-pulse bg-slate-400"})]}):null}function Dp(){return y.jsxs("svg",{className:"h-5 w-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function Mp(){return y.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}const jp=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Fp=e=>e?e.trim().toLowerCase().split(/\s+/).filter(Boolean).slice(0,6):[],mo=(e,t)=>{if(!e)return"";const n=Fp(t);if(!n.length)return e;const r=new RegExp(`(${n.map(jp).join("|")})`,"ig");return e.split(r).map((i,o)=>n.includes(i.toLowerCase())?A.createElement("mark",{key:`${i}-${o}`,className:"rounded bg-sky-500/30 px-1 text-sky-100"},i):i)},zp={products:{label:"Products",icon:y.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"h-4 w-4",children:[y.jsx("path",{d:"M4 5h9l7 7-8 8-8-8V5z",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinejoin:"round"}),y.jsx("circle",{cx:"8.5",cy:"9.5",r:"1.3",fill:"currentColor"})]})},orders:{label:"Orders",icon:y.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"h-4 w-4",children:[y.jsx("path",{d:"M7 4h10v16l-3-2-2 2-2-2-3 2z",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinejoin:"round"}),y.jsx("path",{d:"M9 9h6M9 12h6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})},customers:{label:"Customers",icon:y.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"h-4 w-4",children:[y.jsx("circle",{cx:"12",cy:"8",r:"3.4",fill:"none",stroke:"currentColor",strokeWidth:"1.7"}),y.jsx("path",{d:"M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round"})]})}};function Bp({results:e,query:t,isOpen:n,isLoading:r,activeIndex:i,onSelect:o}){if(!n)return null;const l=[...e.products,...e.orders,...e.customers].length>0;return y.jsxs("div",{className:"absolute left-0 right-0 top-full z-50 mt-1 max-h-80 overflow-y-auto rounded-lg border border-slate-700/60 bg-slate-900/95 shadow-xl backdrop-blur",role:"listbox","aria-label":"Search suggestions","aria-live":"polite","aria-relevant":"additions removals",children:[r&&!l&&y.jsxs("div",{className:"flex items-center gap-2 p-3 text-sm text-slate-400",children:[y.jsx(Hp,{}),y.jsx("span",{children:"Searching..."})]}),!r&&!l&&y.jsx("div",{className:"p-3 text-sm text-slate-500",children:"No results found"}),l&&y.jsx(y.Fragment,{children:["products","orders","customers"].map(a=>{const u=e[a];if(u.length===0)return null;const c=zp[a],f=a==="products"?0:a==="orders"?e.products.length:e.products.length+e.orders.length;return y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 bg-slate-800/50 px-3 py-2 text-xs font-medium uppercase tracking-wider text-slate-400",children:[c.icon,y.jsx("span",{children:c.label}),y.jsx("span",{className:"ml-auto text-slate-500",children:u.length})]}),y.jsx("div",{role:"group","aria-label":c.label,children:u.map((h,d)=>{const x=f+d===i;return y.jsxs("div",{role:"option",tabIndex:x?0:-1,"aria-selected":x,className:`cursor-pointer px-3 py-2 transition-colors ${x?"bg-indigo-500/20 text-white":"text-slate-300 hover:bg-slate-800/50"}`,onClick:()=>o(h),onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),o(h))},children:[y.jsx("div",{className:"text-sm font-medium",children:mo(h.title,t)}),h.subtitle&&y.jsx("div",{className:"text-xs text-slate-500",children:mo(h.subtitle,t)})]},`${a}-${h.id}`)})})]},a)})})]})}function Hp(){return y.jsxs("svg",{className:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}function Up({text:e="Agent Offline"}){return y.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-amber-500/10 px-3 py-2 text-sm text-amber-400",role:"status","aria-live":"polite",children:[y.jsx("span",{className:"h-2 w-2 rounded-full bg-amber-500","aria-hidden":"true"}),y.jsx("span",{children:e})]})}function Vp({isSupported:e,isListening:t,isSpeaking:n,ttsSupported:r,onStartListening:i,onStopListening:o,onSpeak:s,onStopSpeaking:l,disabled:a=!1,hasResponse:u=!1}){return!e&&!r?null:y.jsxs("div",{className:"flex items-center gap-2",children:[e&&y.jsx("button",{onClick:t?o:i,disabled:a,className:`rounded-lg p-2 transition-colors ${t?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-slate-800/60 text-slate-400 hover:bg-slate-800 hover:text-slate-200"} disabled:cursor-not-allowed disabled:opacity-50`,"aria-label":t?"Stop listening":"Start voice input","aria-pressed":t,children:t?y.jsx(qp,{}):y.jsx(Wp,{})}),r&&u&&y.jsx("button",{onClick:n?l:s,disabled:a,className:`rounded-lg p-2 transition-colors ${n?"bg-indigo-500/20 text-indigo-400 hover:bg-indigo-500/30":"bg-slate-800/60 text-slate-400 hover:bg-slate-800 hover:text-slate-200"} disabled:cursor-not-allowed disabled:opacity-50`,"aria-label":n?"Stop speaking":"Read response aloud","aria-pressed":n,children:n?y.jsx(Yp,{}):y.jsx($p,{})})]})}function Wp(){return y.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"h-5 w-5",children:[y.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v6a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),y.jsx("path",{d:"M19 10v1a7 7 0 0 1-14 0v-1M12 18v4M8 22h8",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})]})}function qp(){return y.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"h-5 w-5 animate-pulse",children:[y.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v6a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.8"}),y.jsx("path",{d:"M19 10v1a7 7 0 0 1-14 0v-1M12 18v4M8 22h8",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})]})}function $p(){return y.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"h-5 w-5",children:[y.jsx("path",{d:"M11 5L6 9H2v6h4l5 4V5z",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}),y.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07M19.07 4.93a10 10 0 0 1 0 14.14",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Yp(){return y.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:"h-5 w-5",children:[y.jsx("path",{d:"M11 5L6 9H2v6h4l5 4V5z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.8"}),y.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07M19.07 4.93a10 10 0 0 1 0 14.14",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-pulse"})]})}const Kp=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'],Gp=e=>{if(!(e instanceof HTMLElement))return!1;const t=e.tagName.toLowerCase();return["input","textarea","select"].includes(t)||e.isContentEditable?!0:!!e.closest('[contenteditable="true"]')},Xp=e=>{if(!e)return null;if(typeof e.composedPath=="function"){const t=e.composedPath();if(t&&t.length>0)return t[0]??null}return e.target},Qp=e=>e?Array.from(e.querySelectorAll(Kp.join(","))).filter(t=>!t.hasAttribute("disabled")&&t.tabIndex!==-1):[];function Jp(e={}){const{enabled:t=!0,autoFocus:n=!0,restoreFocus:r=!0}=e,i=A.useRef(null),o=A.useRef(null),s=A.useCallback(()=>Qp(i.current),[]),l=A.useCallback(()=>{const f=s()[0];f&&f.focus()},[s]),a=A.useCallback(()=>{const c=s(),f=c[c.length-1];f&&f.focus()},[s]),u=A.useCallback(c=>{if(!t||c.key!=="Tab")return;const f=s();if(f.length===0)return;const h=f[0],d=f[f.length-1];if(!h||!d)return;const g=document.activeElement;c.shiftKey?g===h&&(c.preventDefault(),d.focus()):g===d&&(c.preventDefault(),h.focus())},[t,s]);return A.useEffect(()=>{if(t&&(o.current=document.activeElement,n)){const c=setTimeout(l,50);return()=>clearTimeout(c)}},[t,n,l]),A.useEffect(()=>{if(!(!t||!r))return()=>{const c=o.current;c&&typeof c.focus=="function"&&c.focus()}},[t,r]),A.useEffect(()=>{if(!t)return;const c=i.current;if(c)return c.addEventListener("keydown",u),()=>{c.removeEventListener("keydown",u)}},[t,u]),{containerRef:i,focusFirst:l,focusLast:a,getFocusableElements:s}}function Zp(e=!0){return mn({queryKey:["health"],queryFn:async()=>await st.getHealth(),refetchInterval:$r,refetchIntervalInBackground:!1,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!0,enabled:e,staleTime:$r-1e3,retry:1,retryDelay:1e3})}function em(){const{data:e,isError:t}=Zp();return t?!1:e?e.success!==!1:!0}const tm=300,nm=2,Hn=(e,t)=>({id:e.id??0,title:e.primary??"",subtitle:e.secondary,type:t}),rm=e=>{const t=(e==null?void 0:e.results)||{};return{products:(t.products||[]).map(n=>Hn(n,"products")),orders:(t.orders||[]).map(n=>Hn(n,"orders")),customers:(t.customers||[]).map(n=>Hn(n,"customers"))}};function im(e,t=[],n=!0){return mn({queryKey:["search",e,t],queryFn:async()=>await st.search(e,t),enabled:n&&e.length>=nm,staleTime:30*1e3,gcTime:60*1e3,retry:1})}function om(e=""){var d;const[t,n]=A.useState(e),[r,i]=A.useState(e),o=A.useRef(null),s=A.useRef(!0);A.useEffect(()=>(s.current=!0,()=>{s.current=!1}),[]),A.useEffect(()=>(o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{s.current&&i(t)},tm),()=>{o.current&&clearTimeout(o.current)}),[t]);const{data:l,isLoading:a,isError:u,error:c}=im(r),f=l!=null&&l.success&&l.data?rm(l.data):{products:[],orders:[],customers:[]},h=A.useCallback(()=>{n(""),i("")},[]);return{query:t,setQuery:n,debouncedQuery:r,results:f,isLoading:a,isError:u||(l==null?void 0:l.success)===!1,error:(c==null?void 0:c.message)||(l&&!l.success?(d=l.error)==null?void 0:d.message:null)||null,hasResults:f.products.length>0||f.orders.length>0||f.customers.length>0,clear:h}}const go={"not-allowed":"Microphone access is blocked. Check browser permissions.","audio-capture":"No microphone was found. Connect a mic and try again.","no-speech":"No speech detected. Try again and speak a little louder.",aborted:"Voice capture stopped.",network:"Speech recognition network error. Try again.","service-not-allowed":"Speech recognition is disabled by the browser.","language-not-supported":"Speech recognition language not supported."},yo=e=>{if(!e)return"";if(typeof e=="string")return go[e]||e;const t=`${e.error||e.name||""}`.toLowerCase();return go[t]||e.message||"Speech recognition error."},sm=()=>{if(typeof window>"u")return null;const e=window;return e.SpeechRecognition??e.webkitSpeechRecognition??null},lm=e=>typeof e!="string"?"":e.trim().toLowerCase(),nn=(e,t)=>{const n=(t==null?void 0:t.trim())||"";return n?e?`${e} ${n}`.trim():n:e||""};function am(e={}){const{lang:t="en-US",continuous:n=!0,interimResults:r=!0,wakeWord:i="hey agent",wakeWordEnabled:o=!1,autoRestart:s=!1,onWakeWord:l}=e,a=A.useRef(null),u=A.useRef(!1),c=A.useRef(!o),f=A.useRef(""),h=A.useRef(null),d=A.useRef(l),g=A.useRef(i),x=A.useRef(o),w=A.useRef(s);A.useEffect(()=>{d.current=l},[l]),A.useEffect(()=>{g.current=i},[i]),A.useEffect(()=>{x.current=o,c.current=!o},[o]),A.useEffect(()=>{w.current=s},[s]);const{isSupported:b,isListening:C,setIsListening:E,setError:S,setInterimTranscript:O,setFinalTranscript:k,setWakeWordDetected:N,clearTranscripts:M}=ar(),D=A.useCallback(()=>{h.current&&(clearTimeout(h.current),h.current=null)},[]);A.useEffect(()=>{const B=sm();if(!B)return;const L=new B;return L.lang=t,L.continuous=n,L.interimResults=r,L.maxAlternatives=1,L.onstart=()=>{E(!0)},L.onend=()=>{u.current&&w.current&&a.current?(D(),h.current=setTimeout(()=>{if(u.current&&a.current)try{a.current.start()}catch{E(!1)}else E(!1)},250)):E(!1)},L.onerror=z=>{if(z.error!=="aborted"){const U=yo(z.error);S(U)}["not-allowed","audio-capture","service-not-allowed"].includes(z.error)&&(u.current=!1)},L.onresult=z=>{if(!(z!=null&&z.results))return;const U=g.current,ee=x.current,re=d.current,p=lm(U);let $="",G="",m=!1;for(let se=z.resultIndex||0;se<z.results.length;se++){const le=z.results[se];if(!(le!=null&&le[0]))continue;const te=(le[0].transcript||"").trim();if(te)if(le.isFinal){if(ee&&!c.current)if(!p)c.current=!0;else{const pe=te.toLowerCase().indexOf(p);if(pe===-1)continue;m=!0,c.current=!0,f.current="",N(!0);const Ee=te.slice(pe+p.length).trim();Ee&&(G=nn(G,Ee));continue}G=nn(G,te)}else(!ee||c.current)&&($=nn($,te))}m&&re&&re({wakeWord:U,transcript:G}),O($),G&&(f.current=nn(f.current,G),k(f.current))},a.current=L,()=>{u.current=!1,D(),L.onstart=null,L.onend=null,L.onerror=null,L.onresult=null;try{L.stop()}catch{}a.current=null}},[t,n,r,E,S,O,k,N,D]);const _=A.useCallback(()=>{if(!a.current||!b||C)return!1;u.current=!0,c.current=!x.current,f.current="",M(),S(""),N(!1);try{return a.current.start(),!0}catch(B){const L=yo(B);return S(L),!1}},[b,C,M,S,N]),T=A.useCallback(()=>{if(a.current){u.current=!1,D(),O("");try{a.current.stop()}catch{}}},[D,O]),R=A.useCallback(()=>{if(a.current){u.current=!1,D(),O("");try{a.current.abort()}catch{}E(!1)}},[E,D,O]),j=A.useCallback(()=>{f.current="",M()},[M]);return{isSupported:b,isListening:C,start:_,stop:T,abort:R,resetTranscripts:j}}function um(e={}){const{lang:t="en-US",rate:n=1,pitch:r=1,volume:i=1,voiceName:o=""}=e,[s,l]=A.useState([]),{ttsSupported:a,isSpeaking:u,setIsSpeaking:c,setError:f}=ar();A.useEffect(()=>{if(!a||typeof window>"u")return;const b=()=>{const C=window.speechSynthesis.getVoices();l(C)};return b(),window.speechSynthesis.addEventListener("voiceschanged",b),()=>{window.speechSynthesis.removeEventListener("voiceschanged",b)}},[a]);const h=A.useCallback(b=>b&&s.find(C=>C.name===b)||null,[s]),d=A.useCallback((b,C={})=>{if(!a||typeof window>"u")return!1;const E=b==null?void 0:b.trim();if(!E)return!1;f(""),window.speechSynthesis.cancel(),c(!0);const S=new SpeechSynthesisUtterance(E);S.lang=C.lang??t,S.rate=C.rate??n,S.pitch=C.pitch??r,S.volume=C.volume??i;const O=h(C.voiceName??o);return O&&(S.voice=O),S.onstart=()=>{c(!0)},S.onend=()=>{c(!1)},S.onerror=k=>{c(!1),k.error!=="canceled"&&f(`Speech synthesis error: ${k.error}`)},window.speechSynthesis.speak(S),!0},[a,t,n,r,i,o,h,c,f]),g=A.useCallback(()=>{typeof window>"u"||(window.speechSynthesis.cancel(),c(!1))},[c]),x=A.useCallback(()=>{typeof window>"u"||window.speechSynthesis.pause()},[]),w=A.useCallback(()=>{typeof window>"u"||window.speechSynthesis.resume()},[]);return A.useEffect(()=>()=>{typeof window<"u"&&window.speechSynthesis.cancel()},[]),{isSupported:a,isSpeaking:u,voices:s,speak:d,stop:g,pause:x,resume:w}}function cm(e={}){const{recognition:t={},synthesis:n={}}=e,{isSupported:r,ttsSupported:i,isListening:o,isSpeaking:s,error:l,interimTranscript:a,finalTranscript:u,wakeWordEnabled:c,wakeWordDetected:f,setWakeWordEnabled:h,reset:d}=ar(),{start:g,stop:x,abort:w,resetTranscripts:b}=am(t),{voices:C,speak:E,stop:S,pause:O,resume:k}=um(n),N=A.useCallback(()=>{o?x():g()},[o,g,x]),M=A.useCallback(T=>T!=null&&T.trim()?E(T):!1,[E]),D=A.useCallback(T=>{s?S():M(T)},[s,S,M]),_=A.useCallback(()=>{x(),S(),b(),d()},[x,S,b,d]);return{sttSupported:r,ttsSupported:i,isListening:o,isSpeaking:s,error:l,interimTranscript:a,finalTranscript:u,wakeWordEnabled:c,wakeWordDetected:f,startListening:g,stopListening:x,abortListening:w,toggleListening:N,resetTranscripts:b,voices:C,speak:E,speakResponse:M,stopSpeaking:S,pauseSpeaking:O,resumeSpeaking:k,toggleSpeaking:D,setWakeWordEnabled:h,resetAll:_}}const fm="AgentWP ran into a problem. Please try again.",dm="Network connection lost. Check your connection and try again.",xo="Too many requests right now. Please wait and retry.",bo="Authorization failed. Check your API key and permissions.",hm="Please check your request and try again.",wo={invalid_api_key:"The OpenAI API key is invalid. Update it in settings.",insufficient_quota:"OpenAI billing quota has been exhausted. Check your plan or usage.",rate_limit_exceeded:"OpenAI rate limit reached. Please wait and retry.",context_length_exceeded:"This request is too long for the model. Try shortening it.",model_not_found:"The selected model is unavailable. Try again later."},ko={authentication_error:"OpenAI authentication failed. Check your API key.",rate_limit_error:"OpenAI rate limit reached. Please wait and retry.",invalid_request_error:"This request was rejected by OpenAI. Please try again.",server_error:"OpenAI is having trouble right now. Please retry.",overloaded_error:"OpenAI is overloaded right now. Please retry."},So={agentwp_rate_limited:"Too many requests. Please wait and retry.",agentwp_forbidden:"You do not have permission to use AgentWP.",agentwp_unauthorized:"Authentication required. Please log in.",agentwp_invalid_key:"The OpenAI API key is invalid. Update it in settings.",agentwp_openai_invalid:"OpenAI rejected the API key. Please check your credentials.",agentwp_missing_nonce:"Security nonce is missing. Please refresh the page.",agentwp_invalid_nonce:"Invalid security nonce. Please refresh the page.",agentwp_invalid_request:"Please check your request and try again.",agentwp_validation_error:"Validation failed. Please check your input and try again.",agentwp_invalid_period:"Invalid time period selected.",agentwp_invalid_theme:"Theme must be light or dark.",agentwp_missing_prompt:"Please enter a prompt to continue.",agentwp_network_error:"Network error. Please check your connection.",agentwp_openai_unreachable:"Cannot reach OpenAI servers. Please check your connection.",agentwp_api_error:"API error occurred. Please try again.",agentwp_encryption_failed:"Failed to encrypt API key. Please try again.",agentwp_service_unavailable:"Service is temporarily unavailable. Please try again later.",agentwp_intent_failed:"Failed to process your request. Please try again."},pm=e=>typeof e!="string"?!1:/stack|stacktrace|traceback|at\s+\w+/i.test(e),Eo=e=>{const t=typeof e=="string"?e.trim():"";return!t||pm(t)?"":t},mm=({code:e,type:t,status:n,message:r,meta:i})=>{const o=Number.isFinite(n)?n:Number.parseInt(String(n??0),10);if(t)return t;const s=`${e??""}`.toLowerCase(),l=`${(i==null?void 0:i.error_code)??""}`.toLowerCase(),a=`${(i==null?void 0:i.error_type)??""}`.toLowerCase(),u=[s,l,a].filter(Boolean).join(" "),c=`${r??""}`.toLowerCase();return o===0||c.includes("failed to fetch")||c.includes("network")||c.includes("timeout")?"network_error":o===429||u.includes("rate")?"rate_limit":o===401||o===403||u.includes("auth")||u.includes("invalid_api_key")||u.includes("authentication")?"auth_error":o===400||o===422||u.includes("invalid")||u.includes("missing")||u.includes("validation")?"validation_error":o>=500?"api_error":"unknown"},gm=({message:e,code:t,type:n,status:r,meta:i})=>{const o=typeof(i==null?void 0:i.error_code)=="string"?i.error_code.toLowerCase():"",s=typeof(i==null?void 0:i.error_type)=="string"?i.error_type.toLowerCase():"";if(o&&wo[o])return wo[o];if(s&&ko[s])return ko[s];const l=typeof t=="string"?t.toLowerCase():"";return l&&So[l]?So[l]:r===429?xo:r===401||r===403?bo:n==="network_error"?dm:n==="rate_limit"?xo:n==="auth_error"?bo:n==="validation_error"?Eo(e)||hm:Eo(e)||fm},vo=({message:e,code:t,type:n,status:r,meta:i,retryAfter:o})=>{const s=mm({code:t,type:n,status:r,message:e,meta:i});return{message:gm({message:e,code:t,type:s,status:r,meta:i}),code:t||"",type:s,status:Number.isFinite(r)?r:Number.parseInt(String(r??0),10)||0,meta:i&&typeof i=="object"?i:{},retryAfter:Number.isFinite(o)?o:Number.parseInt(String(o??0),10)||0,retryable:["network_error","rate_limit","api_error"].includes(s)}};function ym({onClose:e}){const t=A.useRef(null),n=A.useRef(null),[r,i]=A.useState(!1),[o,s]=A.useState(0),{containerRef:l}=Jp({enabled:!0,autoFocus:!0,restoreFocus:!0}),{loading:a,prompt:u,response:c,errorState:f,setPrompt:h,setLoading:d,setResponse:g,setError:x,close:w}=zt(),{resolved:b,preference:C,toggle:E}=lr(),{sttSupported:S,ttsSupported:O,isListening:k,isSpeaking:N,finalTranscript:M,error:D,startListening:_,stopListening:T,speakResponse:R,stopSpeaking:j,resetTranscripts:B,resetAll:L}=cm(),z=em(),{setQuery:U,results:ee,isLoading:re,hasResults:p}=om(),$=A.useCallback(()=>{L(),w(),e==null||e()},[L,w,e]),G=A.useCallback(ne=>{h(ne),U(ne),i(ne.length>=2),s(0)},[h,U]),m=A.useCallback(async()=>{if(!(!u.trim()||a)){i(!1),d(!0),x(null),g("");try{const ne=await st.processIntent(u);if(ne.success){const we=ne.data.message||"";g(we);return}x(vo({message:ne.error.message,code:ne.error.code,status:ne.error.status,meta:ne.error.meta}))}catch(ne){x(vo({message:ne instanceof Error?ne.message:void 0,status:0}))}finally{d(!1)}}},[u,a,d,x,g]),se=A.useCallback(()=>{m()},[m]),le=A.useCallback(ne=>{var we;h(ne.title),i(!1),(we=t.current)==null||we.focus()},[h]),te=A.useCallback(ne=>{if(!r||!p)return;const we=[...ee.products,...ee.orders,...ee.customers];switch(ne.key){case"ArrowDown":ne.preventDefault(),s(Rt=>(Rt+1)%we.length);break;case"ArrowUp":ne.preventDefault(),s(Rt=>(Rt-1+we.length)%we.length);break;case"Enter":we[o]&&(ne.preventDefault(),le(we[o]));break;case"Escape":i(!1);break}},[r,p,ee,o,le]);A.useEffect(()=>{M&&(h(M),U(M))},[M,h,U]),A.useLayoutEffect(()=>()=>{n.current&&clearTimeout(n.current)},[]);const Ue=A.useCallback(()=>{B(),_()},[B,_]),pe=A.useCallback(()=>{T()},[T]),Ee=A.useCallback(()=>{c&&R(c)},[c,R]),Ve=A.useCallback(()=>{j()},[j]),ft=A.useCallback(ne=>{ne.target===ne.currentTarget&&$()},[$]);return y.jsx("div",{className:"fixed inset-0 z-50 flex animate-fade-in items-center justify-center bg-slate-950/70 px-4 py-10 backdrop-blur-sm motion-reduce:animate-none",role:"presentation",onMouseDown:ft,children:y.jsxs("div",{ref:l,role:"dialog","aria-modal":"true","aria-labelledby":"command-deck-title",className:"w-full max-w-2xl animate-deck-in rounded-2xl border border-slate-700/60 bg-slate-900/95 shadow-2xl backdrop-blur-xl motion-reduce:animate-none",children:[y.jsx(Hu,{theme:b,themePreference:C,onThemeToggle:E,onClose:$,isOffline:!z}),!z&&y.jsx(Up,{}),y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"relative",children:[y.jsxs("div",{className:"flex gap-2",children:[y.jsx(qu,{ref:t,value:u,onChange:G,onSubmit:m,onKeyDown:te,onFocus:()=>{n.current&&(clearTimeout(n.current),n.current=null),u.length>=2&&i(!0)},onBlur:()=>{n.current=setTimeout(()=>i(!1),150)},loading:a,disabled:!z,placeholder:z?"Ask me anything...":"Reconnecting..."}),y.jsx(Vp,{isSupported:S,isListening:k,isSpeaking:N,ttsSupported:O,onStartListening:Ue,onStopListening:pe,onSpeak:Ee,onStopSpeaking:Ve,disabled:a||!z,hasResponse:!!c}),y.jsx("button",{type:"button",onClick:m,disabled:a||!u.trim()||!z,className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-slate-900 disabled:cursor-not-allowed disabled:opacity-50",children:a?"Sending...":"Send"})]}),y.jsx(Bp,{results:ee,query:u,isOpen:r&&p,isLoading:re,activeIndex:o,onSelect:le})]}),D&&y.jsx("p",{className:"mt-2 text-xs text-red-400",role:"alert",children:D}),(c||a||f)&&y.jsx("div",{className:"mt-4 rounded-lg border border-slate-700/60 bg-slate-800/50 p-4",children:y.jsx(Lp,{content:c,loading:a,error:f==null?void 0:f.message,onRetry:f!=null&&f.retryable?se:void 0})})]}),y.jsxs("div",{className:"flex items-center justify-between border-t border-slate-700/50 px-4 py-3 text-xs text-slate-500",children:[y.jsx("span",{children:"Press Esc to close"}),y.jsx("span",{children:" to navigate  Enter to select"})]})]})})}function xm(e={}){const{shadowRoot:t,onToggle:n,onClose:r}=e,{isOpen:i,toggle:o,close:s}=zt(),l=A.useCallback(a=>{const u=Xp(a);if((a.metaKey||a.ctrlKey)&&a.key==="k"){a.preventDefault(),a.stopPropagation(),o(),n==null||n();return}a.key==="Escape"&&i&&(Gp(u)||(a.preventDefault(),s(),r==null||r()))},[i,o,s,n,r]);return A.useEffect(()=>(document.addEventListener("keydown",l,!0),t&&t.addEventListener("keydown",l,!0),()=>{document.removeEventListener("keydown",l,!0),t&&t.removeEventListener("keydown",l,!0)}),[l,t]),{isOpen:i,toggle:o,close:s}}function bm(e=!1){const[t,n]=A.useState(()=>typeof window>"u"||!window.matchMedia?e:window.matchMedia("(prefers-color-scheme: dark)").matches);return A.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;const r=window.matchMedia("(prefers-color-scheme: dark)"),i=o=>{n(o.matches)};return r.addEventListener?r.addEventListener("change",i):r.addListener(i),()=>{r.removeEventListener?r.removeEventListener("change",i):r.removeListener(i)}},[]),t}function vm({shadowRoot:e=null,portalRoot:t=null,themeTarget:n=null}){const r=zt(w=>w.isOpen),{resolved:i,preference:o,setSystemPrefersDark:s}=lr(),[l,a]=A.useState(!1),[u,c]=A.useState(0),f=A.useRef(!1),h=A.useRef(null);xm({shadowRoot:e});const d=bm();A.useEffect(()=>{s(d)},[d,s]);const g=n||(e?e.host:null)||(typeof document<"u"?document.documentElement:null);A.useLayoutEffect(()=>{if(g)return f.current&&(g.classList.add("awp-theme-transition"),h.current&&window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.classList.remove("awp-theme-transition")},Gs)),zs(i,g),f.current=!0,()=>{h.current&&window.clearTimeout(h.current)}},[i,g]),A.useEffect(()=>{if(o==="system")return;const w=o;st.updateTheme(w).catch(()=>{})},[o]);const x=A.useCallback(async()=>{try{const w=await st.getSettings();if(w.success===!1)return;const b=w.data.settings;if(b){const C=Number.parseFloat(String(b.budget_limit??0));c(Number.isFinite(C)&&C>=0?C:0),a(!!b.demo_mode)}}catch{}},[]);return A.useEffect(()=>{x()},[x]),A.useEffect(()=>{var w;if(typeof window<"u"){const b=!!((w=window.agentwpSettings)!=null&&w.demoMode);b&&a(b)}},[]),y.jsxs("div",{className:"agentwp-app min-h-screen text-slate-100",children:[y.jsx(zu,{demoMode:l,shadowRoot:e,budgetLimit:u}),r&&t&&Fs.createPortal(y.jsx(ym,{onClose:()=>zt.getState().close()}),t)]})}export{vm as default};
