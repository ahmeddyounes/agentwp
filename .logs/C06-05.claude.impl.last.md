---

**Status: DONE**

## Summary of Changes

1. **Created `scripts/openapi-validate.php`** - A PHP validation script that:
   - Extracts `@openapi` annotations from controllers in `src/Rest/` and `src/API/`
   - Parses endpoints from `docs/openapi.json`
   - Compares both and reports:
     - Missing endpoints in the spec (annotated but not documented)
     - Stale spec entries (documented but not annotated)
     - Synchronized endpoints
   - Validates JSON structure and OpenAPI 3.x compliance
   - Exits with code 1 on drift, enabling CI failure

2. **Added composer script** in `composer.json`:
   - `composer run openapi:validate` - Single documented command for developers

3. **Added CI validation step** in `.github/workflows/ci.yml`:
   - Runs after PHPUnit in the PHP job
   - Fails the build if drift is detected

4. **Updated `docs/DEVELOPER.md`** with:
   - Annotation format documentation
   - Maintenance workflow (add annotation → update spec → validate)
   - Validation command usage
   - Step-by-step guide for adding new endpoints

## How to Verify

```bash
# Run validation (should pass with all 11 endpoints synchronized)
composer run openapi:validate

# Or directly:
php scripts/openapi-validate.php
```

Expected output: `✓ ALL ENDPOINTS SYNCHRONIZED`

## Risks / Follow-ups

1. **Manual spec updates required**: The validation script detects drift but doesn't auto-generate spec entries. Contributors must manually update `docs/openapi.json` when adding endpoints. This is intentional as OpenAPI schemas require careful definition.

2. **Annotation format is simple**: Current format (`@openapi METHOD /path`) only captures method and path. Full request/response schema definitions still require manual spec editing.

3. **Future enhancement**: Could add a `--generate` mode that scaffolds missing endpoint stubs in `openapi.json`, but this would require more complex parsing of PHP types and annotations.
