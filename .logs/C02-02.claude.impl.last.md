---

**Status: DONE**

## Summary of Changes

Updated `src/Rest/RestController.php` to prefer atomic rate limiting:

1. **Added import** for `AtomicRateLimiterInterface`
2. **Updated `check_rate_limit_via_service()`** method to:
   - Check if the resolved limiter implements `AtomicRateLimiterInterface`
   - Use `checkAndIncrement()` for atomic rate limiting (prevents race conditions)
   - Fall back to `check()` + `increment()` for non-atomic limiters
   - Preserved fail-open semantics in all paths

## How to Verify

```bash
# Verify PHP syntax
php -l src/Rest/RestController.php

# Verify the atomic interface is used when available
grep -A 20 "check_rate_limit_via_service" src/Rest/RestController.php

# Verify the import is present
grep "AtomicRateLimiterInterface" src/Rest/RestController.php

# Run existing rate limiter tests (if available)
./vendor/bin/phpunit tests/Unit/Infrastructure/RateLimiting/RateLimiterTest.php
```

## Risks / Follow-ups

- **Low risk**: The change is backwards compatible - if the limiter only implements `RateLimiterInterface`, the old behavior is preserved
- **The current `RateLimiter` implementation already implements `AtomicRateLimiterInterface`**, so the atomic path will be used by default
- **No follow-up needed**: This completes the atomic rate limiting integration introduced in C02-01
