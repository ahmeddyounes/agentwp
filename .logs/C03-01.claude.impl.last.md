The implementation is complete. Let me provide the final summary.

---

**Status: DONE**

## Summary of Changes

### Files Created:

1. **`src/Contracts/HooksInterface.php`** (new)
   - Defines contract for WordPress filter and action hooks
   - Methods: `applyFilters()` and `doAction()`
   - Enables testability by abstracting WordPress globals

2. **`tests/Unit/Intent/EngineHooksTest.php`** (new)
   - 6 unit tests verifying Engine uses injected hooks
   - Tests: filter application, action firing, filter modification, backward compatibility

### Files Modified:

3. **`src/Infrastructure/WPFunctions.php`**
   - Added `implements HooksInterface` clause
   - Already had `applyFilters()` and `doAction()` methods - no changes needed to method implementations

4. **`src/Intent/Engine.php`**
   - Added `HooksInterface` import and private `$hooks` property
   - Constructor now accepts optional `?HooksInterface $hooks = null` parameter (8th argument)
   - Replaced 3 direct `apply_filters()`/`do_action()` calls with `$this->hooks->applyFilters()`/`doAction()`:
     - Line 84-86: `agentwp_intent_handlers` filter
     - Line 91-93: `agentwp_register_intent_functions` action
     - Line 258-260: `agentwp_default_function_mapping` filter
   - Null-safe: hooks are only invoked if `$this->hooks` is set

5. **`src/Providers/IntentServiceProvider.php`**
   - Added `HooksInterface` import
   - Updated `registerEngine()` to resolve and inject hooks adapter into Engine constructor

6. **`tests/Fakes/FakeWPFunctions.php`**
   - Changed from standalone class to `implements HooksInterface`
   - Removed unused `WPFunctions` import

## How to Verify

```bash
# Check PHP syntax
php -l src/Contracts/HooksInterface.php
php -l src/Infrastructure/WPFunctions.php
php -l src/Intent/Engine.php
php -l src/Providers/IntentServiceProvider.php
php -l tests/Fakes/FakeWPFunctions.php
php -l tests/Unit/Intent/EngineHooksTest.php

# Run new unit tests (6 tests)
./vendor/bin/phpunit tests/Unit/Intent/EngineHooksTest.php --no-coverage

# Run all Intent tests (62 tests)
./vendor/bin/phpunit tests/Unit/Intent/ tests/Integration/Intent/ --no-coverage
```

## Acceptance Criteria Verification

- **Engine uses injected hook adapter**: All 3 direct `apply_filters()`/`do_action()` calls in Engine.php are now replaced with `$this->hooks->applyFilters()` / `$this->hooks->doAction()`
- **Behavior-compatible**: Hooks parameter is optional with null default - existing code calling Engine without the 8th argument continues to work
- **Unit-testable without WordPress globals**: Tests pass using `FakeWPFunctions` to capture and assert hook calls

## Risks / Follow-ups

1. **Backward compatibility**: The hooks parameter is optional (`?HooksInterface $hooks = null`), so existing code creating Engine directly will work. When hooks is null, filters return unmodified values and actions are no-ops.

2. **Production behavior**: In production with proper DI wiring, `WPFunctions` is injected and WordPress hooks work as expected via the adapter.
