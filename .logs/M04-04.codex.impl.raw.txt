Status: DONE

Summary of changes:
- Implemented OpenAI usage tracking with the new `src/Billing/UsageTracker.php`, hooked logging into `src/AI/OpenAIClient.php`, and updated the `/usage` REST response in `src/Rest/SettingsController.php`.
- Added budget-limit settings and refreshed usage UI in `assets/agentwp-admin.js` with supporting styles in `assets/agentwp-admin.css`.
- Added a Command Deck status bar (session tokens, session cost, monthly total, budget warnings) plus usage/settings fetches in `react/src/App.jsx`.

How to verify (exact commands):
- No automated verification commands were provided.

Risks / follow-ups:
- If `assets/` is expected to be generated from `react/`, rebuild to keep `assets/agentwp-admin.js` and `assets/agentwp-admin.css` in sync with `react/src/App.jsx`.
- Usage tracking only records OpenAI calls that go through `OpenAIClient` and supply an `intent_type`; any future LLM paths should use that client to keep analytics complete.

OpenAI Codex v0.77.0 (research preview)
--------
workdir: /Users/ahmedyounis/Documents/Projects/agentwp
model: gpt-5.2-codex
provider: openai
approval: never
sandbox: workspace-write [workdir, /tmp, $TMPDIR]
reasoning effort: high
reasoning summaries: auto
session id: 019b9765-bf0f-7a30-ab59-54a94cd50746
--------
user
You are implementing task M04-04 in this git repository.

1) Read the spec: .plans/M04-04.md
2) Read handoff/context: .t2/handoff/M04-04.md

Implement the spec fully.

Verification commands (run if non-empty):
- format: 
- lint: 
- test: 

In your final response, include:
- Status: DONE or NEEDS-REVIEW
- Summary of changes
- How to verify (exact commands)
- Risks / follow-ups

mcp startup: no servers

thinking
**Preparing to read spec files**
exec
/bin/zsh -lc ls in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 55ms:
agentwp.php
assets
composer.json
docker
docker-compose.yml
docs
includes
languages
react
README.md
scripts
setup.sh
src
tasks.csv
uninstall.php
exec
/bin/zsh -lc 'cat .plans/M04-04.md' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 42ms:
# M04-04 — Token Cost Tracking

Implement OpenAI usage and cost tracking: 1) AgentWP\Billing\UsageTracker class. 2) Log each API call: model, input_tokens, output_tokens, timestamp, intent_type. 3) Store in custom DB table (exception to no-custom-tables rule for analytics only). 4) Calculate costs using current OpenAI pricing: gpt-4o input/output, gpt-4o-mini input/output. 5) REST endpoint GET /agentwp/v1/usage?period=day|week|month. 6) Return: total_tokens, total_cost_usd, breakdown_by_intent, daily_trend. 7) Status Bar component showing: session tokens used, session cost, account-wide monthly total. 8) Warning when approaching user-defined budget threshold. 9) Settings option to set monthly budget limit with notification. Acceptance Criteria: Token counts match OpenAI dashboard within 5%, costs calculated accurately, budget warnings trigger at 80% and 100%, usage data queryable for last 90 days.
exec
/bin/zsh -lc 'cat .t2/handoff/M04-04.md' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 33ms:
# Handoff: M04-04

Created: 2026-01-07T07:39:46.276715Z

Spec: .plans/M04-04.md

thinking
**Preparing to explore the repository**
exec
/bin/zsh -lc 'rg --files' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 87ms:
src/Rest/HealthController.php
src/Rest/SettingsController.php
src/Rest/IntentController.php
src/Rest/SearchController.php
src/Handlers/RefundHandler.php
src/Handlers/AnalyticsHandler.php
src/Handlers/CustomerHandler.php
src/Handlers/OrderSearchHandler.php
src/Handlers/EmailDraftHandler.php
src/Handlers/OrderStatusHandler.php
src/Handlers/StockHandler.php
src/API/HistoryController.php
src/API/ThemeController.php
src/API/RestController.php
src/AI/Functions/GetSalesReport.php
src/AI/Functions/SearchOrders.php
src/AI/Functions/PrepareBulkStatusUpdate.php
src/AI/Functions/SelectOrders.php
src/AI/Functions/ConfirmRefund.php
src/AI/Functions/FunctionSchema.php

thinking
**Locating existing PHP and React settings**
exec
/bin/zsh -lc "sed -n '1,200p' src/AI/OpenAIClient.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 73ms:
<?php
/**
 * OpenAI API client wrapper.
 *
 * @package AgentWP
 */

namespace AgentWP\AI;

use AgentWP\AI\Functions\FunctionSchema;

class OpenAIClient {
	const API_BASE = 'https://api.openai.com/v1';

	/**
	 * @var string
	 */
	private $api_key;

	/**
exec
/bin/zsh -lc "sed -n '200,400p' src/AI/OpenAIClient.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 34ms:
		}

		return 200 === (int) wp_remote_retrieve_response_code( $response );
	}

	/**
	 * @param array $payload Request payload.
	 * @return array
	 */
	private function request_with_retry( array $payload ) {
		$attempt = 0;
		$delay   = $this->initial_delay;
		$errors  = '';

		do {
			$result = $this->send_request( $payload );
			$retry  = $result['retryable'];

			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
				$errors = $result['error'];
exec
/bin/zsh -lc "sed -n '400,800p' src/AI/OpenAIClient.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 67ms:
		$tool_calls = isset( $message['tool_calls'] ) && is_array( $message['tool_calls'] ) ? $message['tool_calls'] : array();

		if ( empty( $tool_calls ) && isset( $message['function_call'] ) && is_array( $message['function_call'] ) ) {
			$tool_calls = array(
				array(
					'id'       => 'legacy',
					'type'     => 'function',
					'function' => $message['function_call'],
				),
			);
		}

		return array(
			'success'    => true,
			'error'      => '',
			'content'    => is_string( $content ) ? $content : '',
			'tool_calls' => $tool_calls,
			'usage'      => isset( $payload['usage'] ) && is_array( $payload['usage'] ) ? $payload['usage'] : array(),
			'raw'        => $payload,
			'model'      => isset( $payload['model'] ) ? $payload['model'] : '',

thinking
**Searching for usage tracking implementation**
exec
/bin/zsh -lc 'rg -n "Settings" src react -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 40ms:
src/Rest/SettingsController.php:3: * Settings REST controller.
src/Rest/SettingsController.php:16:class SettingsController extends RestController {
react/src/App.jsx:278:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:289:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:300:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:311:  return window.agentwpSettings?.nonce || window.wpApiSettings?.nonce || null;
react/src/theme.js:23:  return normalizeTheme(window.agentwpSettings?.theme);
src/Plugin.php:167:				'window.agentwpSettings = ' . wp_json_encode(
src/Plugin.php:242:		if ( class_exists( 'AgentWP\\Rest\\SettingsController' ) ) {
src/Plugin.php:243:			$controller = new Rest\SettingsController();
exec
/bin/zsh -lc "sed -n '1,220p' src/Rest/SettingsController.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 63ms:
<?php
/**
 * Settings REST controller.
 *
 * @package AgentWP
 */

namespace AgentWP\Rest;

use AgentWP\API\RestController;
use AgentWP\Plugin;
use AgentWP\Security\Encryption;
use WP_Error;
use WP_REST_Server;

class SettingsController extends RestController {

	/**
	 * Register REST routes.
	 *
exec
/bin/zsh -lc "sed -n '220,520p' src/Rest/SettingsController.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 69ms:
	 */
	private function apply_settings_updates( array $settings, array $payload ) {
		if ( isset( $payload['model'] ) ) {
			$model = sanitize_text_field( wp_unslash( $payload['model'] ) );
			if ( in_array( $model, array( 'gpt-4o', 'gpt-4o-mini' ), true ) ) {
				$settings['model'] = $model;
			}
		}

		if ( isset( $payload['budget_limit'] ) ) {
			$budget_limit = floatval( $payload['budget_limit'] );
			if ( $budget_limit >= 0 ) {
				$settings['budget_limit'] = $budget_limit;
			}
		}

		if ( isset( $payload['draft_ttl_minutes'] ) ) {
			$draft_ttl = intval( $payload['draft_ttl_minutes'] );
			if ( $draft_ttl >= 0 ) {
				$settings['draft_ttl_minutes'] = $draft_ttl;

thinking
**Planning usage tracking addition**
exec
/bin/zsh -lc "sed -n '1,240p' src/Plugin.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
<?php
/**
 * Core plugin bootstrap.
 *
 * @package AgentWP
 */

namespace AgentWP;

class Plugin {
	const OPTION_SETTINGS     = 'agentwp_settings';
	const OPTION_API_KEY      = 'agentwp_api_key';
	const OPTION_API_KEY_LAST4 = 'agentwp_api_key_last4';
	const OPTION_BUDGET_LIMIT = 'agentwp_budget_limit';
	const OPTION_DRAFT_TTL    = 'agentwp_draft_ttl_minutes';
	const OPTION_USAGE_STATS  = 'agentwp_usage_stats';
	const TRANSIENT_PREFIX    = 'agentwp_';

	/**
	 * @var Plugin|null
exec
/bin/zsh -lc "sed -n '240,520p' src/Plugin.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 75ms:
	 */
	public function register_rest_routes() {
		if ( class_exists( 'AgentWP\\Rest\\SettingsController' ) ) {
			$controller = new Rest\SettingsController();
			$controller->register_routes();
		}

		if ( class_exists( 'AgentWP\\Rest\\IntentController' ) ) {
			$controller = new Rest\IntentController();
			$controller->register_routes();
		}

		if ( class_exists( 'AgentWP\\Rest\\HealthController' ) ) {
			$controller = new Rest\HealthController();
			$controller->register_routes();
		}

		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
			$controller = new Rest\SearchController();
			$controller->register_routes();

thinking
**Searching for usage statistics in React**
exec
/bin/zsh -lc 'rg -n "usage" react/src -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 38ms:
react/src/App.jsx:19:const COMMAND_USAGE_KEY = 'agentwp-command-usage';
react/src/App.jsx:615:  const [commandUsage, setCommandUsage] = useState({});
react/src/App.jsx:899:  const recordCommandUsage = useCallback((rawInput) => {
react/src/App.jsx:903:    setCommandUsage((prev) => ({
react/src/App.jsx:933:    setCommandUsage({});
react/src/App.jsx:1105:      const storedUsage = window.localStorage.getItem(COMMAND_USAGE_KEY);
react/src/App.jsx:1106:      if (storedUsage) {
react/src/App.jsx:1107:        const parsedUsage = JSON.parse(storedUsage);
react/src/App.jsx:1108:        if (parsedUsage && typeof parsedUsage === 'object' && !Array.isArray(parsedUsage)) {
react/src/App.jsx:1109:          setCommandUsage(parsedUsage);
react/src/App.jsx:1146:      window.localStorage.setItem(COMMAND_USAGE_KEY, JSON.stringify(commandUsage));
react/src/App.jsx:1150:  }, [commandUsage]);
react/src/App.jsx:1377:        recordCommandUsage(trimmedPrompt);
react/src/App.jsx:1391:        recordCommandUsage(trimmedPrompt);
react/src/App.jsx:1399:    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
react/src/App.jsx:1464:    const entries = Object.entries(commandUsage || {});
react/src/App.jsx:1473:  }, [commandUsage]);
exec
/bin/zsh -lc "sed -n '560,760p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 49ms:
    if (!payload) {
      return;
    }
    try {
      const success = await copyToClipboard(payload);
      if (!success) {
        return;
      }
      setStatus('copied');
      if (timerRef.current) {
        window.clearTimeout(timerRef.current);
      }
      timerRef.current = window.setTimeout(() => {
        setStatus('idle');
      }, COPY_FEEDBACK_MS);
    } catch (error) {
      // Ignore clipboard errors; button stays in default state.
    }
  };


thinking
**Searching for status bar component**
exec
/bin/zsh -lc 'rg -n "Status" react/src/App.jsx react/components -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 79ms:
react/src/App.jsx:544:  const [status, setStatus] = useState('idle');
react/src/App.jsx:568:      setStatus('copied');
react/src/App.jsx:573:        setStatus('idle');
react/src/App.jsx:617:  const [exportStatus, setExportStatus] = useState('idle');
react/src/App.jsx:1427:    if (!chartRef.current || exportStatus === 'exporting') {
react/src/App.jsx:1430:    setExportStatus('exporting');
react/src/App.jsx:1443:      setExportStatus('exported');
react/src/App.jsx:1448:        setExportStatus('idle');
react/src/App.jsx:1451:      setExportStatus('idle');
react/src/App.jsx:1453:  }, [exportStatus]);
react/src/App.jsx:1495:    exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
react/src/App.jsx:1758:                disabled={exportStatus === 'exporting'}
react/src/App.jsx:1760:                  exportStatus === 'exporting'
react/src/App.jsx:1763:                } ${exportStatus === 'exported' ? 'copy-feedback border-emerald-400/70 bg-emerald-500/20 text-emerald-100' : ''}`}
react/components/cards/ChartCard.jsx:157:  const [exportStatus, setExportStatus] = useState('idle');
react/components/cards/ChartCard.jsx:300:    if (!chartRef.current || exportStatus === 'exporting') {
react/components/cards/ChartCard.jsx:303:    setExportStatus('exporting');
react/components/cards/ChartCard.jsx:312:      setExportStatus('exported');
react/components/cards/ChartCard.jsx:317:        setExportStatus('idle');
react/components/cards/ChartCard.jsx:320:      setExportStatus('idle');

thinking
**Searching for status bar UI**
exec
/bin/zsh -lc 'rg -n "usage|token|cost|budget" react/src/App.jsx react/components -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 68ms:
react/src/App.jsx:19:const COMMAND_USAGE_KEY = 'agentwp-command-usage';
react/src/App.jsx:428:const getHighlightTokens = (query) => {
react/src/App.jsx:444:  const tokens = getHighlightTokens(query);
react/src/App.jsx:445:  if (!tokens.length) {
react/src/App.jsx:448:  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
react/src/App.jsx:450:    if (tokens.includes(part.toLowerCase())) {
react/src/App.jsx:609:  const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
react/src/App.jsx:615:  const [commandUsage, setCommandUsage] = useState({});
react/src/App.jsx:899:  const recordCommandUsage = useCallback((rawInput) => {
react/src/App.jsx:903:    setCommandUsage((prev) => ({
react/src/App.jsx:933:    setCommandUsage({});
react/src/App.jsx:959:      setMetrics({ latencyMs: null, tokenCost: null });
react/src/App.jsx:1105:      const storedUsage = window.localStorage.getItem(COMMAND_USAGE_KEY);
react/src/App.jsx:1106:      if (storedUsage) {
react/src/App.jsx:1107:        const parsedUsage = JSON.parse(storedUsage);
react/src/App.jsx:1108:        if (parsedUsage && typeof parsedUsage === 'object' && !Array.isArray(parsedUsage)) {
react/src/App.jsx:1109:          setCommandUsage(parsedUsage);
react/src/App.jsx:1146:      window.localStorage.setItem(COMMAND_USAGE_KEY, JSON.stringify(commandUsage));
react/src/App.jsx:1150:  }, [commandUsage]);
react/src/App.jsx:1316:      setMetrics({ latencyMs: null, tokenCost: null });
exec
/bin/zsh -lc "sed -n '1260,1420p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 46ms:
      if (event.shiftKey) {
        if (activeElement === first) {
          event.preventDefault();
          last.focus();
        }
      } else if (activeElement === last) {
        event.preventDefault();
        first.focus();
      }
    };

    document.addEventListener('keydown', handleKeydown);
    return () => document.removeEventListener('keydown', handleKeydown);
  }, [closeModal, isOpen]);

  useEffect(() => {
    return () => {
      abortActiveRequest();
    };
  }, [abortActiveRequest]);
exec
/bin/zsh -lc "sed -n '1660,1810p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 71ms:
          },
        },
      },
    }),
    []
  );
  const categoryChartOptions = useMemo(
    () => ({
      plugins: {
        legend: {
          position: 'bottom',
        },
      },
      cutout: '62%',
    }),
    []
  );
  const totalRevenue = useMemo(
    () => periodData.current.reduce((sum, value) => sum + value, 0),
    [periodData]
exec
/bin/zsh -lc "sed -n '2090,2310p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 55ms:
                    className={`inline-flex items-center justify-center rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-widest transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
                      hasDraft
                        ? 'border-slate-600/70 bg-slate-900/80 text-white hover:border-slate-400/80 hover:bg-slate-900'
                        : 'pointer-events-none border-slate-700/60 bg-slate-900/50 text-slate-500'
                    }`}
                  >
                    Open in Mail
                  </a>
                </div>
              </div>

              <div className="rounded-2xl border border-slate-800/80 bg-slate-950/40 px-4 py-4">
                <div className="flex flex-wrap items-center justify-between gap-3">
                  <div>
                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
                      Analytics charts
                    </p>
                    <p className="text-sm text-slate-300">
                      Visualize revenue trends and period performance inside the Command Deck.
                    </p>

thinking
**Planning token usage UI**
exec
/bin/zsh -lc "sed -n '1,240p' src/Rest/IntentController.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 63ms:
<?php
/**
 * Intent REST controller.
 *
 * @package AgentWP
 */

namespace AgentWP\Rest;

use AgentWP\API\RestController;
use AgentWP\Intent\Engine;
use WP_REST_Server;

class IntentController extends RestController {
	/**
	 * Register REST routes.
	 *
	 * @return void
	 */
	public function register_routes() {

thinking
**Inspecting engine for usage tracking**
exec
/bin/zsh -lc "sed -n '1,260p' src/Intent/Engine.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 66ms:
<?php
/**
 * Intent engine for routing requests.
 *
 * @package AgentWP
 */

namespace AgentWP\Intent;

use AgentWP\AI\Response;
use AgentWP\Intent\Handlers\AnalyticsQueryHandler;
use AgentWP\Intent\Handlers\CustomerLookupHandler;
use AgentWP\Intent\Handlers\EmailDraftHandler;
use AgentWP\Intent\Handlers\FallbackHandler;
use AgentWP\Intent\Handlers\OrderRefundHandler;
use AgentWP\Intent\Handlers\OrderSearchHandler;
use AgentWP\Intent\Handlers\OrderStatusHandler;
use AgentWP\Intent\Handlers\ProductStockHandler;

class Engine {

thinking
**Searching for OpenAI client usage**
exec
/bin/zsh -lc 'rg -n "OpenAIClient|token_cost|token" src -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 67ms:
src/AI/TokenCounter.php:3: * Token counting helpers using tiktoken-php.
src/AI/TokenCounter.php:17:	 * Count tokens for a chat request payload.
src/AI/TokenCounter.php:24:	public function count_request_tokens( array $messages, array $tools, $model ) {
src/AI/TokenCounter.php:27:		return $this->count_message_tokens( $messages, $model )
src/AI/TokenCounter.php:28:			+ $this->count_tool_tokens( $tools, $model );
src/AI/TokenCounter.php:32:	 * Count tokens for messages using OpenAI chat heuristics.
src/AI/TokenCounter.php:38:	public function count_message_tokens( array $messages, $model ) {
src/AI/TokenCounter.php:40:		$tokens_per_message = 3;
src/AI/TokenCounter.php:41:		$tokens_per_name    = 1;
src/AI/TokenCounter.php:49:			$total += $tokens_per_message;
src/AI/TokenCounter.php:53:				$total += $this->count_text_tokens( $string, $model );
src/AI/TokenCounter.php:56:					$total += $tokens_per_name;
src/AI/TokenCounter.php:67:	 * Count tokens for tool definitions.
src/AI/TokenCounter.php:73:	public function count_tool_tokens( array $tools, $model ) {
src/AI/TokenCounter.php:83:		return $this->count_text_tokens( $payload, $model );
src/AI/TokenCounter.php:87:	 * Count tokens for plain text.
src/AI/TokenCounter.php:93:	public function count_text_tokens( $text, $model ) {
src/AI/TokenCounter.php:99:			return $this->approximate_tokens( $text );
src/AI/TokenCounter.php:102:		$tokens = $encoder->encode( $text );
src/AI/TokenCounter.php:103:		return is_array( $tokens ) ? count( $tokens ) : 0;
exec
/bin/zsh -lc "sed -n '300,420p' src/Handlers/EmailDraftHandler.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 53ms:
				'plain_text_version' => isset( $payload['plain_text_version'] ) ? $payload['plain_text_version'] : '',
				'template_variables' => $template_variables,
				'expires_at'         => $expires_at,
			)
		);
	}

	/**
	 * @param array $context Order context.
	 * @param string $intent Email intent.
	 * @param string $tone Email tone.
	 * @param string $custom_instructions Custom instructions.
	 * @param array $template_variables Template variables.
	 * @return array
	 */
	private function generate_draft( array $context, $intent, $tone, $custom_instructions, array $template_variables ) {
		$draft = $this->generate_draft_with_ai( $context, $intent, $tone, $custom_instructions, $template_variables );
		if ( ! empty( $draft['subject_line'] ) && ! empty( $draft['email_body'] ) ) {
			return $draft;
		}

thinking
**Checking for OpenAI calls in handlers**
exec
/bin/zsh -lc 'rg -n "OpenAIClient" src -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 72ms:
src/Handlers/EmailDraftHandler.php:11:use AgentWP\AI\OpenAIClient;
src/Handlers/EmailDraftHandler.php:339:		$client   = new OpenAIClient( $api_key, $model );
src/AI/OpenAIClient.php:12:class OpenAIClient {

thinking
**Analyzing usage tracking integration**
exec
/bin/zsh -lc "sed -n '1,220p' src/AI/Response.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 41ms:
<?php
/**
 * OpenAI response wrapper.
 *
 * @package AgentWP
 */

namespace AgentWP\AI;

class Response {
	/**
	 * @var bool
	 */
	private $success;

	/**
	 * @var int
	 */
	private $status;


thinking
**Planning usage tracking and logging**
exec
/bin/zsh -lc "sed -n '1,200p' src/Handlers/EmailDraftHandler.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 33ms:
<?php
/**
 * Handle email draft preparation and editing.
 *
 * @package AgentWP
 */

namespace AgentWP\Handlers;

use AgentWP\AI\Model;
use AgentWP\AI\OpenAIClient;
use AgentWP\AI\Response;
use AgentWP\Context\EmailContextBuilder;
use AgentWP\Plugin;
use AgentWP\Security\Encryption;

class EmailDraftHandler {
	const DRAFT_TYPE          = 'email_draft';
	const DEFAULT_TTL_MINUTES = 30;


thinking
**Analyzing intent handling in EmailDraftHandler**
exec
/bin/zsh -lc "sed -n '1,200p' src/Intent/Handlers/EmailDraftHandler.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
<?php
/**
 * Handle email draft intents.
 *
 * @package AgentWP
 */

namespace AgentWP\Intent\Handlers;

use AgentWP\AI\Response;
use AgentWP\Intent\Intent;

class EmailDraftHandler extends BaseHandler {
	public function __construct() {
		parent::__construct( Intent::EMAIL_DRAFT );
	}

	/**
	 * @param array $context Context data.
	 * @return Response

thinking
**Exploring intent handlers and usage tracking**
exec
/bin/zsh -lc 'cat composer.json' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 45ms:
{
  "name": "agentwp/agentwp",
  "description": "AgentWP WordPress plugin.",
  "type": "wordpress-plugin",
  "license": "GPL-2.0-or-later",
  "autoload": {
    "psr-4": {
      "AgentWP\\": "src/"
    }
  },
  "require": {
    "php": ">=7.4",
    "yethee/tiktoken": "^0.1.2"
  }
}

thinking
**Checking database update patterns**
exec
/bin/zsh -lc 'rg -n "dbDelta|CREATE TABLE|wpdb" src -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 73ms:
src/Handlers/AnalyticsHandler.php:32:		global $wpdb;
src/Handlers/AnalyticsHandler.php:33:		if ( ! $wpdb ) {
src/Handlers/AnalyticsHandler.php:54:		$order_stats_table = $wpdb->prefix . 'wc_order_stats';
src/Handlers/AnalyticsHandler.php:146:		global $wpdb;
src/Handlers/AnalyticsHandler.php:148:		$table             = $wpdb->prefix . 'wc_order_stats';
src/Handlers/AnalyticsHandler.php:171:		$row = $wpdb->get_row( $wpdb->prepare( $sql, $params ), ARRAY_A );
src/Handlers/AnalyticsHandler.php:194:		global $wpdb;
src/Handlers/AnalyticsHandler.php:196:		$stats_table  = $wpdb->prefix . 'wc_order_stats';
src/Handlers/AnalyticsHandler.php:197:		$items_table  = $wpdb->prefix . 'wc_order_product_lookup';
src/Handlers/AnalyticsHandler.php:218:		$total = $wpdb->get_var( $wpdb->prepare( $sql, $params ) );
src/Handlers/AnalyticsHandler.php:228:		global $wpdb;
src/Handlers/AnalyticsHandler.php:230:		$stats_table = $wpdb->prefix . 'wc_order_stats';
src/Handlers/AnalyticsHandler.php:231:		$table       = $wpdb->prefix . 'wc_order_product_lookup';
src/Handlers/AnalyticsHandler.php:256:			LEFT JOIN {$wpdb->posts} AS posts
src/Handlers/AnalyticsHandler.php:270:		$rows = $wpdb->get_results( $wpdb->prepare( $sql, $params ), ARRAY_A );
src/Handlers/AnalyticsHandler.php:296:		global $wpdb;
src/Handlers/AnalyticsHandler.php:298:		$stats_table = $wpdb->prefix . 'wc_order_stats';
src/Handlers/AnalyticsHandler.php:299:		$table       = $wpdb->prefix . 'wc_order_product_lookup';
src/Handlers/AnalyticsHandler.php:324:			INNER JOIN {$wpdb->term_relationships} AS rel
src/Handlers/AnalyticsHandler.php:326:			INNER JOIN {$wpdb->term_taxonomy} AS tax

thinking
**Checking Search Index activation**
exec
/bin/zsh -lc "sed -n '1,120p' src/Search/Index.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 72ms:
<?php
/**
 * Search index management.
 *
 * @package AgentWP
 */

namespace AgentWP\Search;

class Index {
	const TABLE           = 'agentwp_search_index';
	const VERSION         = '1.0';
	const VERSION_OPTION  = 'agentwp_search_index_version';
	const STATE_OPTION    = 'agentwp_search_index_state';
	const DEFAULT_LIMIT   = 5;
	const BACKFILL_LIMIT  = 200;
	const BACKFILL_WINDOW = 0.35;

	/**
	 * Register hooks.

thinking
**Designing usage tracking system**

I’m outlining a UsageTracker class to log model usage with tokens and costs into a dedicated database table, ensuring accurate cost calculations and queries for the last 90 days. I’ll also update the REST API to provide usage summaries and plan to add a React UI component showing session and monthly usage with budget warnings. There’s awareness of existing budget settings but uncertain if UI changes exist yet—I'll search for "budget" in the app next.
exec
/bin/zsh -lc 'rg -n "budget|settings" react/src/App.jsx -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 60ms:
278:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
289:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
300:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
311:  return window.agentwpSettings?.nonce || window.wpApiSettings?.nonce || null;

thinking
**Searching for settings UI**
exec
/bin/zsh -lc 'rg -n "api key|api_key|settings" react/src/App.jsx react/components -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 65ms:
react/src/App.jsx:278:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:289:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:300:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:311:  return window.agentwpSettings?.nonce || window.wpApiSettings?.nonce || null;

thinking
**Analyzing budget limit UI and usage tracking**
exec
/bin/zsh -lc 'rg -n "token_cost" src -S' in /Users/ahmedyounis/Documents/Projects/agentwp exited 1 in 62ms:


thinking
**Searching for token_cost usage in handlers**
exec
/bin/zsh -lc 'rg -n "token" src/Handlers src/Intent -S' in /Users/ahmedyounis/Documents/Projects/agentwp exited 1 in 34ms:


thinking
**Checking handler origins**
exec
/bin/zsh -lc "sed -n '1,200p' src/Intent/Handlers/BaseHandler.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 38ms:
<?php
/**
 * Base handler for intent responses.
 *
 * @package AgentWP
 */

namespace AgentWP\Intent\Handlers;

use AgentWP\AI\Response;
use AgentWP\Intent\Handler;
use AgentWP\Intent\Intent;

abstract class BaseHandler implements Handler {
	/**
	 * @var string
	 */
	protected $intent;

	/**

thinking
**Investigating intent handling and usage tracking**
exec
/bin/zsh -lc "sed -n '1,200p' src/Intent/IntentClassifier.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 73ms:
<?php
/**
 * Rule-based intent classifier.
 *
 * @package AgentWP
 */

namespace AgentWP\Intent;

class IntentClassifier {
	/**
	 * @param string $input User input.
	 * @param array  $context Enriched context.
	 * @return string
	 */
	public function classify( $input, array $context = array() ) {
		if ( isset( $context['intent'] ) ) {
			$override = Intent::normalize( $context['intent'] );
			if ( Intent::UNKNOWN !== $override ) {
				return $override;

thinking
**Checking API usage tracking approach**
exec
/bin/zsh -lc "sed -n '1,220p' src/API/RestController.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 45ms:
<?php
/**
 * Base REST controller.
 *
 * @package AgentWP
 */

namespace AgentWP\API;

use AgentWP\Plugin;
use WP_Error;
use WP_REST_Controller;
use WP_REST_Response;

abstract class RestController extends WP_REST_Controller {
	const REST_NAMESPACE = 'agentwp/v1';
	const RATE_LIMIT     = 60;
	const RATE_WINDOW    = 60;
	const LOG_LIMIT      = 50;


thinking
**Planning usage API and cost tracking**

I’m mapping out how to implement the new GET /agentwp/v1/usage endpoint using UsageTracker, considering data retention (90 days) with cleanup of older entries, and incorporating precise OpenAI pricing for gpt-4o and gpt-4o-mini tokens to calculate costs. I’m also exploring how to surface token usage and cost in frontend sessions and backend responses, investigating where token metadata currently appears and how to expand it, including checking the role of EmailDraftHandler and Intent handlers.
exec
/bin/zsh -lc 'rg -n "EmailDraftHandler" src -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 86ms:
src/Intent/Engine.php:13:use AgentWP\Intent\Handlers\EmailDraftHandler;
src/Intent/Engine.php:134:			new EmailDraftHandler(),
src/Handlers/EmailDraftHandler.php:17:class EmailDraftHandler {
src/Intent/Handlers/EmailDraftHandler.php:13:class EmailDraftHandler extends BaseHandler {

thinking
**Searching for usage of Handlers directory**
exec
/bin/zsh -lc "rg -n \"Handlers\\\\\" src -S" in /Users/ahmedyounis/Documents/Projects/agentwp exited 2 in 52ms:
rg: regex parse error:
    (?:Handlers\)
    ^
error: unclosed group

thinking
**Searching handler definitions and endpoints**
exec
/bin/zsh -lc 'rg -n "agentwp/v1" -S src' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
src/API/RestController.php:16:	const REST_NAMESPACE = 'agentwp/v1';

thinking
**Analyzing IntentController and AI usage**
exec
/bin/zsh -lc "sed -n '1,200p' src/Handlers/OrderSearchHandler.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 50ms:
<?php
/**
 * Handle order search requests.
 *
 * @package AgentWP
 */

namespace AgentWP\Handlers;

use AgentWP\AI\Response;
use AgentWP\Plugin;
use DateTimeImmutable;
use DateTimeZone;
use Exception;

class OrderSearchHandler {
	const DEFAULT_LIMIT = 10;
	const CACHE_TTL     = 3600;

	/**

thinking
**Designing usage tracking and reporting system**

This is a deep dive into implementing usage tracking for OpenAI API calls in the system—adding a UsageTracker class, logging calls with intent types, defining a DB schema for 90-day retention, and designing an API endpoint to aggregate usage data by period and intent. I’m also thinking through how to expose token and cost data in the UI, include session usage and monthly budgets, and plan adding frontend components to manage and display this usage info with warnings. It’s a lot, but I’m mapping out how all pieces fit together to meet the spec and provide meaningful usage insights!
exec
/bin/zsh -lc 'rg -n "settings" react/components react/src -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 77ms:
react/src/App.jsx:278:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:289:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:300:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:311:  return window.agentwpSettings?.nonce || window.wpApiSettings?.nonce || null;
react/src/theme.js:23:  return normalizeTheme(window.agentwpSettings?.theme);

thinking
**Examining budget limit options**
exec
/bin/zsh -lc 'rg -n "OPTION_BUDGET_LIMIT|budget_limit" src -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 80ms:
src/Rest/SettingsController.php:229:		if ( isset( $payload['budget_limit'] ) ) {
src/Rest/SettingsController.php:230:			$budget_limit = floatval( $payload['budget_limit'] );
src/Rest/SettingsController.php:231:			if ( $budget_limit >= 0 ) {
src/Rest/SettingsController.php:232:				$settings['budget_limit'] = $budget_limit;
src/Rest/SettingsController.php:347:				'budget_limit'      => array(
src/Plugin.php:14:	const OPTION_BUDGET_LIMIT = 'agentwp_budget_limit';
src/Plugin.php:53:		add_option( self::OPTION_BUDGET_LIMIT, 0, '', false );
src/Plugin.php:387:			'budget_limit'      => 0,

thinking
**Evaluating budget settings integration**
exec
/bin/zsh -lc "sed -n '240,360p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 57ms:
      } else {
        media.removeListener(handleChange);
      }
    };
  }, []);

  return prefersDark;
};

const getInitialOpenState = () => {
  if (typeof window === 'undefined') {
    return false;
  }
  try {
    return window.sessionStorage.getItem(OPEN_STATE_KEY) === 'true';
  } catch (error) {
    return false;
  }
};


thinking
**Planning usage and settings endpoints**
exec
/bin/zsh -lc 'rg -n "draft" react/src/App.jsx -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 32ms:
15:const DRAFT_HISTORY_KEY = 'agentwp-draft-history';
16:const MAX_DRAFT_HISTORY = 10;
610:  const [draftSubject, setDraftSubject] = useState('');
611:  const [draftBody, setDraftBody] = useState('');
612:  const [draftHistory, setDraftHistory] = useState([]);
862:  const addDraftToHistory = useCallback((draft) => {
863:    if (!draft?.markdown) {
866:    setDraftHistory((prev) => {
868:        id: `draft-${Date.now()}-${Math.random().toString(16).slice(2)}`,
869:        prompt: draft.prompt || '',
870:        subject: draft.subject || '',
871:        markdown: draft.markdown,
872:        plainText: draft.plainText || '',
881:      return [nextEntry, ...filtered].slice(0, MAX_DRAFT_HISTORY);
948:  const handleRestoreDraft = useCallback(
949:    (draft) => {
950:      if (!draft) {
954:      setPrompt(draft.prompt || '');
955:      setResponse(draft.markdown || '');
956:      setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');

thinking
**Examining token cost tracking approach**

I'm reviewing how the app handles token cost since /intent returns static messages without usage data. The spec wants usage tracking, so I’m considering tapping into UsageTracker or adding usage info only when real OpenAI calls happen elsewhere in the system. I’m curious if LLM usage occurs in other parts, like FunctionRegistry or AI-related modules, to connect usage data properly.
exec
/bin/zsh -lc "sed -n '1,200p' src/Intent/FunctionRegistry.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 35ms:
<?php
/**
 * OpenAI function registry for intent handlers.
 *
 * @package AgentWP
 */

namespace AgentWP\Intent;

class FunctionRegistry {
	/**
	 * @var array<string, Handler>
	 */
	private $map = array();

	/**
	 * @param string  $function_name OpenAI function name.
	 * @param Handler $handler Handler instance.
	 * @return void
	 */

thinking
**Designing usage tracking and status bar integration**

I’m figuring out how to implement usage tracking and a status bar component in the UI that shows session tokens, costs, and monthly totals, even though the current /intent endpoint doesn’t actually call OpenAI. I’m considering how to propagate usage data via a UsageTracker passed to OpenAIClient for email draft calls and thinking about how to store and expose this data safely to the UI, while also planning to update plugin activation routines and autoloading accordingly.
exec
/bin/zsh -lc "sed -n '1,200p' agentwp.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 50ms:
<?php
/**
 * Plugin Name: AgentWP
 * Plugin URI: https://agentwp.example
 * Description: React-powered admin UI for WooCommerce automation.
 * Version: 0.1.0
 * Requires at least: 6.4
 * Requires PHP: 7.4
 * WC requires at least: 8.0
 * Author: AgentWP
 * Text Domain: agentwp
 * Domain Path: /languages
 */

if ( ! defined( 'ABSPATH' ) ) {
	exit;
}

define( 'AGENTWP_VERSION', '0.1.0' );
define( 'AGENTWP_PLUGIN_FILE', __FILE__ );

thinking
**Designing usage tracking system**

I'm outlining a new UsageTracker class to log API usage details into a custom database table, compute costs, provide usage summaries via REST, and support a status bar with budget warnings. I’ll integrate logging into OpenAIClient calls, track usage per intent, and ensure data retention for 90 days while aligning with token count accuracy and billing needs.
exec
/bin/zsh -lc "sed -n '1,200p' src/Intent/Intent.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 52ms:
<?php
/**
 * Intent categories.
 *
 * @package AgentWP
 */

namespace AgentWP\Intent;

class Intent {
	const ORDER_SEARCH    = 'ORDER_SEARCH';
	const ORDER_REFUND    = 'ORDER_REFUND';
	const ORDER_STATUS    = 'ORDER_STATUS';
	const PRODUCT_STOCK   = 'PRODUCT_STOCK';
	const EMAIL_DRAFT     = 'EMAIL_DRAFT';
	const ANALYTICS_QUERY = 'ANALYTICS_QUERY';
	const CUSTOMER_LOOKUP = 'CUSTOMER_LOOKUP';
	const UNKNOWN         = 'UNKNOWN';

	/**

thinking
**Designing usage tracking and UI budget features**

I'm mapping out how to track intents and usage consistently, normalizing intent names to uppercase for clarity. I’m also planning React state and endpoints to show usage summaries, budget limits, and warnings in the UI, with thoughtful handling for session vs. monthly totals and budget notifications. On the backend, I’m outlining a UsageTracker class schema and logic to sanitize and store usage data safely and meaningfully.
exec
/bin/zsh -lc "sed -n '1,200p' src/AI/Model.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 68ms:
<?php
/**
 * OpenAI model abstraction.
 *
 * @package AgentWP
 */

namespace AgentWP\AI;

class Model {
	const GPT_4O = 'gpt-4o';
	const GPT_4O_MINI = 'gpt-4o-mini';

	/**
	 * List supported models.
	 *
	 * @return string[]
	 */
	public static function all() {
		return array(

thinking
**Designing usage tracking and cost calculation**

I’m working through normalizing model names for pricing, defining cost constants, and outlining methods to calculate token costs and aggregate usage data by day, model, and intent. I plan to adjust the plugin to log detailed usage with intent and integrate usage summaries into the API responses, handling date ranges and ensuring data coverage even on zero-usage days. This involves SQL queries, PHP aggregation, and careful plugin lifecycle management to keep usage tracking accurate and comprehensive.
exec
/bin/zsh -lc "rg -n \"get_meta\\(|meta\" src -S" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 59ms:
src/Rest/IntentController.php:61:		$metadata = isset( $validation['metadata'] ) && is_array( $validation['metadata'] )
src/Rest/IntentController.php:62:			? $validation['metadata']
src/Rest/IntentController.php:66:		$response = $engine->handle( $prompt, $context, $metadata );
src/Rest/IntentController.php:99:				'metadata' => array(
src/Plugin.php:228:		$meta_key = class_exists( 'AgentWP\\API\\ThemeController' )
src/Plugin.php:229:			? API\ThemeController::THEME_META_KEY
src/Plugin.php:231:		$theme    = get_user_meta( $user_id, $meta_key, true );
src/Plugin.php:443:					"DELETE FROM {$wpdb->sitemeta} WHERE meta_key LIKE %s OR meta_key LIKE %s",
src/AI/Response.php:34:	private $meta;
src/AI/Response.php:41:	 * @param array  $meta Metadata payload.
src/AI/Response.php:43:	public function __construct( $success, $status, $message, array $data, array $meta = array() ) {
src/AI/Response.php:48:		$this->meta    = $meta;
src/AI/Response.php:55:	 * @param array $meta Metadata.
src/AI/Response.php:58:	public static function success( array $data, array $meta = array() ) {
src/AI/Response.php:59:		return new self( true, 200, '', $data, $meta );
src/AI/Response.php:67:	 * @param array  $meta Metadata.
src/AI/Response.php:70:	public static function error( $message, $status = 500, array $meta = array() ) {
src/AI/Response.php:71:		return new self( false, $status, $message, array(), $meta );
src/AI/Response.php:105:	public function get_meta() {
src/AI/Response.php:106:		return $this->meta;

thinking
**Evaluating session cost tracking and asset build considerations**

I'm thinking through how to track session token usage and cost, leaning toward computing session usage as the difference between monthly totals and a session baseline stored in memory or sessionStorage. Also, I'm weighing whether to update React source only or built assets like `agentwp-admin.js`, concluding it's safer to update source and note that a build step will be needed to reflect changes fully.
exec
/bin/zsh -lc 'wc -c assets/agentwp-admin.js' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 65ms:
   16746 assets/agentwp-admin.js

thinking
**Inspecting file header**
exec
/bin/zsh -lc 'head -n 5 assets/agentwp-admin.js' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 69ms:
(function () {
	'use strict';

	if (!window.wp || !wp.element || !wp.components || !wp.apiFetch) {
		return;

thinking
**Assessing plugin asset update challenges**
exec
/bin/zsh -lc "sed -n '1,200p' assets/agentwp-admin.js" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 71ms:
(function () {
	'use strict';

	if (!window.wp || !wp.element || !wp.components || !wp.apiFetch) {
		return;
	}

	var apiFetch = wp.apiFetch;
	var config = window.agentwpSettings || {};

	if (config.nonce && apiFetch.createNonceMiddleware) {
		apiFetch.use(apiFetch.createNonceMiddleware(config.nonce));
	}

	if (config.root && apiFetch.createRootURLMiddleware) {
		apiFetch.use(apiFetch.createRootURLMiddleware(config.root));
	}

	var el = wp.element.createElement;
	var render = wp.element.render;

thinking
**Distinguishing between two front-end apps**
exec
/bin/zsh -lc 'head -n 20 assets/agentwp-admin.css' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 59ms:
.agentwp-admin {
	margin-top: 16px;
	padding: 16px;
	background: #fff;
	border: 1px solid #dcdcde;
	border-radius: 4px;
}

.agentwp-settings {
	max-width: 1080px;
}

.agentwp-settings__header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 16px;
	margin: 8px 0 16px;
}


thinking
**Clarifying UI components and context**
exec
/bin/zsh -lc "sed -n '1,120p' README.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 44ms:
# agentwp

thinking
**Evaluating UI locations for status bar**
exec
/bin/zsh -lc 'rg -n "Usage" -n assets/agentwp-admin.js' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 72ms:
64:	function normalizeUsage(usage) {
135:		var setUsage = _useState6[1];
159:		var setUsageLoading = _useState12[1];
194:			async function fetchUsage() {
195:				setUsageLoading(true);
199:						setUsage(normalizeUsage(response.data.usage));
210:						setUsageLoading(false);
215:			Promise.all([fetchSettings(), fetchUsage()]).finally(function () {
404:		function refreshUsage() {
405:			setUsageLoading(true);
409:						setUsage(normalizeUsage(response.data.usage));
419:					setUsageLoading(false);
563:					el(CardHeader, null, el('h2', null, __('Usage Statistics', 'agentwp'))),
596:									onClick: refreshUsage,
exec
/bin/zsh -lc "sed -n '520,660p' assets/agentwp-admin.js" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 83ms:
						CardBody,
						null,
						el(SelectControl, {
							label: __('Model', 'agentwp'),
							value: settings.model,
							options: [
								{ label: __('gpt-4o (recommended)', 'agentwp'), value: 'gpt-4o' },
								{ label: __('gpt-4o-mini (budget)', 'agentwp'), value: 'gpt-4o-mini' },
							],
							onChange: function (value) {
								updateSetting('model', value);
							},
							help: __('Choose the default model for AgentWP requests.', 'agentwp'),
						})
					)
				),
				el(
					Card,
					null,
					el(CardHeader, null, el('h2', null, __('Interface Preferences', 'agentwp'))),

thinking
**Planning admin UI updates**

I’m mapping out how to enhance the admin settings page to include usage tracking, a status bar showing session tokens and costs, and a budget limit input with warnings. This involves updating the usage data fetching to match a new API response, adding new UI components like notices and text inputs, adjusting styles, and extending settings state to handle the budget limit properly. I'll review existing asset code to integrate these changes smoothly.
exec
/bin/zsh -lc 'rg -n "updateSetting|settings" assets/agentwp-admin.js' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 34ms:
50:	function normalizeSettings(settings) {
51:		var merged = Object.assign({}, DEFAULT_SETTINGS, settings || {});
114:		var settings = _useState[0];
166:					var response = await apiFetch({ path: '/agentwp/v1/settings' });
172:						var nextSettings = normalizeSettings(response.data.settings);
180:							message: __('Unable to load settings.', 'agentwp'),
189:						message: getErrorMessage(error, __('Unable to load settings.', 'agentwp')),
226:		function updateSetting(key, value) {
247:				message: __('Saving settings...', 'agentwp'),
251:				path: '/agentwp/v1/settings',
257:						var saved = normalizeSettings(response.data.settings);
271:								: __('Unable to save settings.', 'agentwp'),
280:						message: getErrorMessage(error, __('Unable to save settings.', 'agentwp')),
289:			saveSettings(settings);
317:					path: '/agentwp/v1/settings/api-key',
357:				model: settings.model,
358:				hotkey: settings.hotkey,
359:				theme: settings.theme,
360:				dark_mode: settings.theme === 'dark',
369:			link.download = 'agentwp-settings.json';

thinking
**Examining updateSetting function**
exec
/bin/zsh -lc "sed -n '200,340p' assets/agentwp-admin.js" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 31ms:
					}
				} catch (error) {
					if (isMounted) {
						setNotice({
							status: 'error',
							message: getErrorMessage(error, __('Unable to load usage stats.', 'agentwp')),
						});
					}
				} finally {
					if (isMounted) {
						setUsageLoading(false);
					}
				}
			}

			Promise.all([fetchSettings(), fetchUsage()]).finally(function () {
				if (isMounted) {
					setLoading(false);
				}
			});

thinking
**Planning settings update**
exec
/bin/zsh -lc "sed -n '340,460p' assets/agentwp-admin.js" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 61ms:
				})
				.catch(function (error) {
					setValidationNotice({
						status: 'error',
						message: getErrorMessage(error, __('API key validation failed.', 'agentwp')),
					});
				})
				.finally(function () {
					if (timeoutId) {
						clearTimeout(timeoutId);
					}
					setApiKeyBusy(false);
				});
		}

		function handleExport() {
			var exportData = {
				model: settings.model,
				hotkey: settings.hotkey,
				theme: settings.theme,

thinking
**Designing usage and budget UI updates**

I'm mapping out how to update the settings app to show detailed usage stats with tokens, costs, session calculation via baseline, and budget limit input with warnings, coordinating API changes, state handling, and UI components including a new status bar and notices, plus thoughtfully handling data parsing, rendering logic, and CSS styling.
exec
/bin/zsh -lc "sed -n '1,200p' assets/agentwp-admin.css" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 71ms:
.agentwp-admin {
	margin-top: 16px;
	padding: 16px;
	background: #fff;
	border: 1px solid #dcdcde;
	border-radius: 4px;
}

.agentwp-settings {
	max-width: 1080px;
}

.agentwp-settings__header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 16px;
	margin: 8px 0 16px;
}



thinking
**Designing and implementing usage tracking feature**

I’m planning new CSS classes for a usage stats status bar and budget progress bar with different states (warning, limit). I’ll update backend plugin methods related to usage stats, deciding to keep and update default usage stats for compatibility while moving to a DB approach. I’m designing a UsageTracker class that logs usage into the DB, purges old data, and aggregates stats with cost calculations and daily trends. I’ll update the OpenAI client to log usage data after each API call, allowing an intent type. On the frontend side, I’ll add new React states and utility functions to handle usage normalization, display budget limits, warnings, and session usage stats with new UI elements styled by the added CSS. This involves careful integration of backend usage tracking and frontend display with updated settings import/export and saving flows. Next, I'll implement the UsageTracker PHP class and adjust all related parts consistently.
thinking
**Outlining UsageTracker class and integration plan**

I’m drafting the UsageTracker PHP class with methods for activation, table management, usage logging, summarization, and cleanup, carefully using WordPress functions like dbDelta and update_option. I’m planning to integrate usage logging into the OpenAI client by adding an intent_type property and calling UsageTracker on successful responses. Also, I’ll update the SettingsController to use UsageTracker for usage summaries and ensure the usage table exists on plugin init. I’m considering safe checks for WordPress context and careful version tracking. Finally, I’m thinking about frontend updates and whether React or assets need changes for the new status bar UI.
exec
/bin/zsh -lc 'rg -n "Command Deck|status" docs -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 59ms:
docs/branch-protection.md:6:- Require status checks to pass before merging:
docs/openapi.json:233:            "description": "Health status",
docs/openapi.json:331:              "api_key_status": {
docs/openapi.json:469:              "status": {
docs/openapi.json:488:              "status": {
docs/agentwp-prd.md:50:The first **90 days are critical**—initial review momentum determines long-term visibility. Envato's commission structure (37.5% for new authors, dropping to 12.5% at Elite status with $75,000+ sales) makes external marketing essential. Research indicates **50%+ of top seller traffic** originates from authors' own marketing channels, not marketplace discovery.
docs/ARCHITECTURE.md:5:AgentWP is a WordPress plugin that provides a React-powered admin UI (Command Deck) and a PHP backend that integrates with WooCommerce and the OpenAI API. The plugin exposes REST endpoints under `/wp-json/agentwp/v1` and uses standard WooCommerce tables plus `wp_options` for settings and encrypted BYOK storage.
docs/ARCHITECTURE.md:21:    React[React Command Deck]
docs/ARCHITECTURE.md:40:- `assets/`: Built JS/CSS for the Command Deck.
docs/ARCHITECTURE.md:41:- `react/`: React source for the Command Deck UI.
docs/ARCHITECTURE.md:54:    string post_status
docs/ARCHITECTURE.md:86:    string status
docs/ARCHITECTURE.md:168:      "type": "refund|status_update|stock_update|bulk_action",
docs/ARCHITECTURE.md:264:    "status": "ok|degraded|down",
docs/ARCHITECTURE.md:300:    "type": "refund|status_update|stock_update|bulk_action",
docs/ARCHITECTURE.md:308:Confirms a draft action (refund, status update, stock update, bulk action).
docs/ARCHITECTURE.md:431:## 6) React Command Deck Component Hierarchy
docs/ARCHITECTURE.md:458:1) Admin invokes Command Deck (hotkey or admin bar).

thinking
**Analyzing asset source mismatch**
exec
/bin/zsh -lc "sed -n '400,520p' docs/ARCHITECTURE.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
  REST->>DraftStore: Delete draft
  REST->>CommandDeck: Success response
```

```mermaid
flowchart LR
  Intent[Intent received] --> Draft[Create draft]
  Draft --> Store[Store transient (TTL)]
  Store --> Preview[Return draft_id + preview]
  Preview --> Decision{User decision}
  Decision -->|Confirm| Execute[Execute action]
  Decision -->|Cancel| Cancel[Discard draft]
  Execute --> Result[Return result]
  Cancel --> Result
```

### Draft Payload Example
```json
{
  "id": "draft_123",

thinking
**Analyzing React structure and assets**
exec
/bin/zsh -lc "sed -n '1,120p' react/src/main.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 58ms:
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App.jsx';
import './index.css';
import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';

const initialPreference = getInitialThemePreference();
const resolvedTheme = resolveTheme(initialPreference, getSystemTheme() === 'dark');
applyTheme(resolvedTheme);

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

thinking
**Analyzing plugin UI architecture and integration points**
exec
/bin/zsh -lc 'rg -n "formatCurrency" react/src/App.jsx -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 61ms:
142:const formatCurrencyValue = (value) => {
1599:          formatCurrencyValue(periodData.current[index]),
1600:          formatCurrencyValue(periodData.previous[index]),
1614:          formatCurrencyValue(periodData.metrics.current[index]),
1615:          formatCurrencyValue(periodData.metrics.previous[index]),
1627:        cells: [label, formatCurrencyValue(periodData.categories.values[index])],
2136:                    metric={formatCurrencyValue(totalRevenue)}
2150:                    valueFormatter={formatCurrencyValue}
2168:                    valueFormatter={formatCurrencyValue}
2186:                    valueFormatter={formatCurrencyValue}
exec
/bin/zsh -lc "sed -n '120,180p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 69ms:
    <path
      d="M15.5 4.5c-4 0-7.2 3.2-7.2 7.2 0 3.7 2.8 6.8 6.5 7.2 3.4.3 6.6-1.6 7.9-4.7-1.1.4-2.4.5-3.6.3-3.6-.5-6.4-3.7-6.4-7.3 0-1 .2-2 .6-2.9"
      fill="none"
      stroke="currentColor"
      strokeWidth="1.6"
      strokeLinecap="round"
      strokeLinejoin="round"
    />
  </svg>
);
const getEmptySearchResults = () =>
  SEARCH_TYPES.reduce((accumulator, type) => {
    accumulator[type] = [];
    return accumulator;
  }, {});

const currencyFormatter = new Intl.NumberFormat('en-US', {
  style: 'currency',
  currency: 'USD',
  maximumFractionDigits: 0,

thinking
**Designing usage tracking and budget features**

I'm planning comprehensive usage tracking with new currency and token formatters, React state for usage and budget, fetches from REST endpoints, and UI updates for budget warnings. On the backend, I’m implementing a PHP UsageTracker class for logging and summarizing usage with token and cost calculations, retention policies, and integration with existing plugin activation and settings. This setup will provide detailed usage stats, monthly budgeting, and reactive UI feedback, all built step-by-step for clarity and maintainability.
file update
A /Users/ahmedyounis/Documents/Projects/agentwp/src/Billing/UsageTracker.php
<?php
/**
 * Track OpenAI usage and costs.
 *
 * @package AgentWP
 */

namespace AgentWP\Billing;

use AgentWP\AI\Model;
use DateInterval;
use DateTimeImmutable;
use DateTimeZone;

class UsageTracker {
	const TABLE          = 'agentwp_usage';
	const VERSION        = '1.0';
	const VERSION_OPTION = 'agentwp_usage_version';
	const RETENTION_DAYS = 90;
	const TOKEN_SCALE    = 1000000;

	/**
	 * Register hooks.
	 *
	 * @return void
	 */
	public static function init() {
		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
	}

	/**
	 * Activation handler.
	 *
	 * @return void
	 */
	public static function activate() {
		self::ensure_table();
		update_option( self::VERSION_OPTION, self::VERSION, false );
	}

	/**
	 * Record a usage entry.
	 *
	 * @param string $model Model name.
	 * @param int    $input_tokens Input tokens.
	 * @param int    $output_tokens Output tokens.
	 * @param string $intent_type Intent identifier.
	 * @param string $timestamp Optional timestamp (UTC).
	 * @return void
	 */
	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
		global $wpdb;
		if ( ! $wpdb ) {
			return;
		}

		self::ensure_table();

		$input_tokens  = max( 0, (int) $input_tokens );
		$output_tokens = max( 0, (int) $output_tokens );
		$total_tokens  = $input_tokens + $output_tokens;
		$model         = self::normalize_model( $model );
		$intent_type   = self::normalize_intent( $intent_type );

		if ( '' === $timestamp ) {
			$timestamp = gmdate( 'Y-m-d H:i:s' );
		}

		self::purge_old_rows();

		$table = self::get_table_name();
		$wpdb->insert(
			$table,
			array(
				'intent_type'  => $intent_type,
				'model'        => $model,
				'input_tokens' => $input_tokens,
				'output_tokens' => $output_tokens,
				'total_tokens' => $total_tokens,
				'created_at'   => $timestamp,
			),
			array( '%s', '%s', '%d', '%d', '%d', '%s' )
		);
	}

	/**
	 * Get usage stats for a period.
	 *
	 * @param string $period day|week|month.
	 * @return array
	 */
	public static function get_usage_summary( $period ) {
		global $wpdb;

		self::ensure_table();
		self::purge_old_rows();

		list( $start, $end ) = self::get_period_range( $period );

		$summary = array(
			'period'              => $period,
			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
			'total_tokens'        => 0,
			'total_cost_usd'      => 0,
			'breakdown_by_intent' => array(),
			'daily_trend'         => array(),
		);

		if ( ! $wpdb ) {
			return $summary;
		}

		$table = self::get_table_name();
		$rows  = $wpdb->get_results(
			$wpdb->prepare(
				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
				$summary['period_start'],
				$summary['period_end']
			),
			ARRAY_A
		);

		$daily = array();
		$cursor = $start;
		while ( $cursor <= $end ) {
			$key           = $cursor->format( 'Y-m-d' );
			$daily[ $key ] = array(
				'date'           => $key,
				'total_tokens'   => 0,
				'total_cost_usd' => 0,
			);
			$cursor = $cursor->modify( '+1 day' );
		}

		$breakdown = array();
		foreach ( $rows as $row ) {
			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
			$total_tokens  = $input_tokens + $output_tokens;
			$model         = isset( $row['model'] ) ? $row['model'] : '';
			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );

			$summary['total_tokens'] += $total_tokens;
			$summary['total_cost_usd'] += $cost;

			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
			if ( ! isset( $breakdown[ $intent ] ) ) {
				$breakdown[ $intent ] = array(
					'intent_type'    => $intent,
					'total_tokens'   => 0,
					'total_cost_usd' => 0,
				);
			}
			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
			$breakdown[ $intent ]['total_cost_usd'] += $cost;

			$date_key = '';
			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
				$date_key = substr( $row['created_at'], 0, 10 );
			}
			if ( isset( $daily[ $date_key ] ) ) {
				$daily[ $date_key ]['total_tokens'] += $total_tokens;
				$daily[ $date_key ]['total_cost_usd'] += $cost;
			}
		}

		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );

		$breakdown_list = array_values( $breakdown );
		foreach ( $breakdown_list as &$item ) {
			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
		}
		unset( $item );

		usort(
			$breakdown_list,
			function ( $a, $b ) {
				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
			}
		);

		foreach ( $daily as &$day ) {
			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
		}
		unset( $day );

		$summary['breakdown_by_intent'] = $breakdown_list;
		$summary['daily_trend']         = array_values( $daily );

		return $summary;
	}

	/**
	 * Ensure the usage table exists.
	 *
	 * @return void
	 */
	public static function ensure_table() {
		global $wpdb;
		if ( ! $wpdb ) {
			return;
		}

		$installed_version = get_option( self::VERSION_OPTION, '' );
		$table             = self::get_table_name();

		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
			return;
		}

		require_once ABSPATH . 'wp-admin/includes/upgrade.php';

		$charset_collate = $wpdb->get_charset_collate();
		$sql             = "CREATE TABLE {$table} (
			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
			intent_type varchar(64) NOT NULL,
			model varchar(64) NOT NULL,
			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
			created_at datetime NOT NULL,
			PRIMARY KEY  (id),
			KEY created_at_idx (created_at),
			KEY intent_idx (intent_type),
			KEY model_idx (model)
		) {$charset_collate};";

		dbDelta( $sql );
		update_option( self::VERSION_OPTION, self::VERSION, false );
	}

	/**
	 * @return string
	 */
	private static function get_table_name() {
		global $wpdb;
		return $wpdb->prefix . self::TABLE;
	}

	/**
	 * @param string $table Table name.
	 * @return bool
	 */
	private static function table_exists( $table ) {
		global $wpdb;

		$like = $wpdb->esc_like( $table );
		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
	}

	/**
	 * @param string $model Model identifier.
	 * @return string
	 */
	private static function normalize_model( $model ) {
		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
		if ( '' === $model ) {
			return Model::GPT_4O_MINI;
		}

		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
			return Model::GPT_4O_MINI;
		}

		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
			return Model::GPT_4O;
		}

		return Model::normalize( $model );
	}

	/**
	 * @param string $intent Intent identifier.
	 * @return string
	 */
	private static function normalize_intent( $intent ) {
		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
		$intent = strtoupper( trim( $intent ) );

		return '' !== $intent ? $intent : 'UNKNOWN';
	}

	/**
	 * @param string $model Model identifier.
	 * @param int    $input_tokens Input tokens.
	 * @param int    $output_tokens Output tokens.
	 * @return float
	 */
	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
		$model = self::normalize_model( $model );

		$pricing = array(
			Model::GPT_4O      => array(
				'input'  => 5,
				'output' => 15,
			),
			Model::GPT_4O_MINI => array(
				'input'  => 0.15,
				'output' => 0.6,
			),
		);

		if ( ! isset( $pricing[ $model ] ) ) {
			return 0;
		}

		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];

		return (float) ( $input_cost + $output_cost );
	}

	/**
	 * @param string $period day|week|month.
	 * @return array{DateTimeImmutable, DateTimeImmutable}
	 */
	private static function get_period_range( $period ) {
		$period = is_string( $period ) ? strtolower( $period ) : 'month';
		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );

		switch ( $period ) {
			case 'day':
				$start = $now->setTime( 0, 0, 0 );
				break;
			case 'week':
				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
				break;
			case 'month':
			default:
				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
				break;
		}

		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
		if ( $start < $cutoff ) {
			$start = $cutoff->setTime( 0, 0, 0 );
		}

		return array( $start, $now );
	}

	/**
	 * Remove entries older than retention window.
	 *
	 * @return void
	 */
	private static function purge_old_rows() {
		global $wpdb;
		if ( ! $wpdb ) {
			return;
		}

		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
			->format( 'Y-m-d H:i:s' );

		$table = self::get_table_name();
		$wpdb->query(
			$wpdb->prepare(
				"DELETE FROM {$table} WHERE created_at < %s",
				$cutoff
			)
		);
	}
}
apply_patch(auto_approved=true) exited 0 in 19ms:
Success. Updated the following files:
A src/Billing/UsageTracker.php
file update:
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}

file update:
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}


thinking
**Adding usage logging to OpenAIClient**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/AI/OpenAIClient.php
@@ -10,2 +10,3 @@
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
@@ -65,2 +66,7 @@
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
@@ -84,2 +90,3 @@
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
@@ -163,2 +170,11 @@
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
apply_patch(auto_approved=true) exited 0 in 23ms:
Success. Updated the following files:
M src/AI/OpenAIClient.php
file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}

file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}


thinking
**Updating EmailDraftHandler to include intent_type**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/Handlers/EmailDraftHandler.php
@@ -13,2 +13,3 @@
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
@@ -338,3 +339,9 @@
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
apply_patch(auto_approved=true) exited 0 in 43ms:
Success. Updated the following files:
M src/Handlers/EmailDraftHandler.php
file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );

file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );


thinking
**Updating SettingsController to use UsageTracker**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/Rest/SettingsController.php
@@ -10,2 +10,3 @@
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
@@ -185,9 +186,5 @@
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
@@ -195,4 +192,9 @@
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
apply_patch(auto_approved=true) exited 0 in 50ms:
Success. Updated the following files:
M src/Rest/SettingsController.php
file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Updating Plugin initialization and activation**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/Plugin.php
@@ -57,2 +57,6 @@
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
@@ -82,2 +86,6 @@
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
@@ -400,5 +408,8 @@
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
apply_patch(auto_approved=true) exited 0 in 61ms:
Success. Updated the following files:
M src/Plugin.php
file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Preparing asset file updates**
exec
/bin/zsh -lc "sed -n '30,120p' assets/agentwp-admin.js" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 51ms:
	var FlexItem = wp.components.FlexItem;
	var FormFileUpload = wp.components.FormFileUpload;
	var Notice = wp.components.Notice;
	var SelectControl = wp.components.SelectControl;
	var Spinner = wp.components.Spinner;
	var TextControl = wp.components.TextControl;
	var ToggleControl = wp.components.ToggleControl;

	var DEFAULT_SETTINGS = {
		model: 'gpt-4o-mini',
		hotkey: 'Cmd+K / Ctrl+K',
		theme: 'light',
	};

	var DEFAULT_USAGE = {
		total_commands_month: 0,
		estimated_cost: 0,
		last_sync: '',
	};

file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Preparing patch for defaults and utilities**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/assets/agentwp-admin.js
@@ -39,2 +39,3 @@
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
@@ -44,5 +45,9 @@
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
@@ -60,2 +65,6 @@
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
@@ -65,4 +74,10 @@
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
@@ -82,2 +97,13 @@
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
apply_patch(auto_approved=true) exited 0 in 55ms:
Success. Updated the following files:
M assets/agentwp-admin.js
file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..73b2b674f9da6a397b4d43b1ee3bdd090ea716f5
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..73b2b674f9da6a397b4d43b1ee3bdd090ea716f5
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Inserting new useState for usageBaseline**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/assets/agentwp-admin.js
@@ -186,2 +186,6 @@
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
apply_patch(auto_approved=true) exited 0 in 72ms:
Success. Updated the following files:
M assets/agentwp-admin.js
file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..fab096906e711faf04a8d4880996abda05c40076
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..fab096906e711faf04a8d4880996abda05c40076
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Updating usage fetch and baseline setting**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/assets/agentwp-admin.js
@@ -228,3 +228,14 @@
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
apply_patch(auto_approved=true) exited 0 in 49ms:
Success. Updated the following files:
M assets/agentwp-admin.js
file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..5eb97ca27684ab72166259c1b2c92eeff3c0c3f8
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..5eb97ca27684ab72166259c1b2c92eeff3c0c3f8
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Updating saveSettings payload**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/assets/agentwp-admin.js
@@ -277,2 +277,3 @@
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
apply_patch(auto_approved=true) exited 0 in 90ms:
Success. Updated the following files:
M assets/agentwp-admin.js
file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..842ab469f9212c76db659fce01815d8587562fb3
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..842ab469f9212c76db659fce01815d8587562fb3
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Updating import and export handlers**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/assets/agentwp-admin.js
@@ -399,2 +399,3 @@
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
@@ -429,2 +430,5 @@
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
apply_patch(auto_approved=true) exited 0 in 58ms:
Success. Updated the following files:
M assets/agentwp-admin.js
file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..6b2a84e404ad3f8d4555dbcf344ab9217a9a9a11
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..6b2a84e404ad3f8d4555dbcf344ab9217a9a9a11
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Updating refreshUsage function**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/assets/agentwp-admin.js
@@ -454,3 +454,14 @@
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
apply_patch(auto_approved=true) exited 0 in 79ms:
Success. Updated the following files:
M assets/agentwp-admin.js
file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..5a72f0f96a954be682858ef447c535f517c2ba8b
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..5a72f0f96a954be682858ef447c535f517c2ba8b
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Preparing to insert session usage and budget calculations**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/assets/agentwp-admin.js
@@ -492,2 +492,39 @@
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
apply_patch(auto_approved=true) exited 0 in 77ms:
Success. Updated the following files:
M assets/agentwp-admin.js
file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..450be906341c6d3f0aff65ac747d9ec30fda4b6b
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..450be906341c6d3f0aff65ac747d9ec30fda4b6b
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Planning budgetNotice insertion point**
exec
/bin/zsh -lc "sed -n '430,520p' assets/agentwp-admin.js" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 65ms:
						model: parsed.model || settings.model,
						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
							? parseFloat(parsed.budget_limit)
							: settings.budget_limit,
						hotkey: parsed.hotkey || settings.hotkey,
						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
					});

					saveSettings(nextSettings, __('Settings imported and saved.', 'agentwp'));
				} catch (error) {
					setNotice({
						status: 'error',
						message: __('Imported JSON is invalid.', 'agentwp'),
					});
				}
			};
			reader.readAsText(file);
			event.target.value = '';
		}

file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..450be906341c6d3f0aff65ac747d9ec30fda4b6b
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Seeking insertion point for budget notice**
exec
/bin/zsh -lc "sed -n '520,620p' assets/agentwp-admin.js" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 68ms:
				status: 'error',
				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
			};
		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
			budgetNotice = {
				status: 'warning',
				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
			};
		}

		return el(
			'div',
			{ className: 'agentwp-settings' },
			el(
				'div',
				{ className: 'agentwp-settings__header' },
				el('h1', null, __('AgentWP Settings', 'agentwp')),
				el(
					'div',
					{ className: 'agentwp-settings__actions' },
file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..450be906341c6d3f0aff65ac747d9ec30fda4b6b
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Inserting budget notice element**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/assets/agentwp-admin.js
@@ -556,2 +556,16 @@
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: true,
+							onRemove: function () {
+								setNotice(null);
+							},
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
apply_patch(auto_approved=true) exited 0 in 118ms:
Success. Updated the following files:
M assets/agentwp-admin.js
file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..4556c8dee03c8a400a9500c429097880c0304d22
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,20 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: true,
+							onRemove: function () {
+								setNotice(null);
+							},
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..4556c8dee03c8a400a9500c429097880c0304d22
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,20 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: true,
+							onRemove: function () {
+								setNotice(null);
+							},
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Adjusting budget notice dismiss behavior**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/assets/agentwp-admin.js
@@ -561,6 +561,3 @@
 							status: budgetNotice.status,
-							isDismissible: true,
-							onRemove: function () {
-								setNotice(null);
-							},
+							isDismissible: false,
 							className: 'agentwp-settings__notice',
apply_patch(auto_approved=true) exited 0 in 82ms:
Success. Updated the following files:
M assets/agentwp-admin.js
file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..e86daf8ddf99e3e14a77d84245199e28315b0ce3
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..e86daf8ddf99e3e14a77d84245199e28315b0ce3
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Updating usage stats card layout**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/assets/agentwp-admin.js
@@ -673,2 +673,25 @@
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
@@ -677,4 +700,4 @@
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
@@ -683,4 +706,4 @@
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
@@ -689,4 +712,4 @@
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
@@ -695,2 +718,47 @@
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
apply_patch(auto_approved=true) exited 0 in 85ms:
Success. Updated the following files:
M assets/agentwp-admin.js
file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Integrating budget and usage updates**
exec
/bin/zsh -lc "rg -n \"usage\\.\" assets/agentwp-admin.js" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
494:			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
497:			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
501:		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
691:								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
692:								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
702:								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
708:								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
714:								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
750:											formatCurrency(usage.total_cost_usd) +
file update:
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Updating CSS for new classes**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/assets/agentwp-admin.css
@@ -54,2 +54,47 @@
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
@@ -80,2 +125,36 @@
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
apply_patch(auto_approved=true) exited 0 in 69ms:
Success. Updated the following files:
M assets/agentwp-admin.css
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Preparing React app updates**
exec
/bin/zsh -lc "sed -n '1,120p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 69ms:
import { useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState } from 'react';
import html2canvas from 'html2canvas';
import ReactMarkdown from 'react-markdown';
import HistoryPanel from '../components/HistoryPanel.jsx';
import { ChartCard } from '../components/cards';
import {
  applyTheme,
  getInitialThemePreference,
  getServerTheme,
  resolveTheme,
  THEME_STORAGE_KEY,
} from './theme.js';

const OPEN_STATE_KEY = 'agentwp-command-deck-open';
const DRAFT_HISTORY_KEY = 'agentwp-draft-history';
const MAX_DRAFT_HISTORY = 10;
const COMMAND_HISTORY_KEY = 'agentwp-command-history';
const COMMAND_FAVORITES_KEY = 'agentwp-command-favorites';
const COMMAND_USAGE_KEY = 'agentwp-command-usage';
const MAX_COMMAND_HISTORY = 50;
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Adding usage and settings integration**

I'm adding constants for usage and settings API paths, plus helper functions to build their endpoints. Then I'll create formatters and normalization helpers for usage data. I'll update the App component state with usage-related states, add effects and callbacks to fetch usage and settings on mount, handle refreshing usage after commands, and integrate usage and budget info into the UI with formatting and status indicators.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -30,2 +30,4 @@
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
apply_patch(auto_approved=true) exited 0 in 72ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..fcdce28bba587a0641e3f6928f486ea4d375b85d
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..fcdce28bba587a0641e3f6928f486ea4d375b85d
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Adding usage summary helpers**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -142,2 +142,9 @@
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
@@ -150,2 +157,35 @@
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
apply_patch(auto_approved=true) exited 0 in 82ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..8e1d5021ed86255278dabcc529d594781271c4b6
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..8e1d5021ed86255278dabcc529d594781271c4b6
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Adding new endpoint functions**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -337,2 +337,24 @@
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
apply_patch(auto_approved=true) exited 0 in 96ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..d790e5c9b53281499d24d35e3fc9703915b633e0
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..d790e5c9b53281499d24d35e3fc9703915b633e0
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Adding new state variables in App component**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -673,2 +673,6 @@
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
apply_patch(auto_approved=true) exited 0 in 92ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..aa1160b795e296db139e2a30d096b512b4573a30
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..aa1160b795e296db139e2a30d096b512b4573a30
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Adding usage and budget tracking hooks**

I’m planning to add new async hooks to fetch usage data and budget limits, placing them carefully after existing theme preference effects to keep the code organized. I’ll create useCallback functions for refreshing usage and fetching budget, trigger them in a useEffect on mount, and then compute session usage and budget status with useMemo. Finally, I’ll update the submitCommand to refresh usage after commands run. It’s a neat setup to keep usage info up to date and show budget warnings!
exec
/bin/zsh -lc "rg -n \"persistThemePreference|useEffect\\(\\(\\) => \\{\\n    if \\(themePreference\" -n react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp exited 2 in 69ms:
rg: the literal "\n" is not allowed in a regex

Consider enabling multiline mode with the --multiline flag (or -U for short).
When multiline mode is enabled, new line characters can be matched.
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..aa1160b795e296db139e2a30d096b512b4573a30
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Opening file near line 700**
exec
/bin/zsh -lc "sed -n '720,860p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 71ms:
      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
      return { type, items };
    });
  }, [searchResults]);
  const hasSuggestions = flatSuggestions.length > 0;

  useLayoutEffect(() => {
    if (typeof document === 'undefined') {
      return undefined;
    }
    const root = document.documentElement;
    if (hasAppliedThemeRef.current) {
      root.classList.add('awp-theme-transition');
      if (themeTransitionRef.current) {
        window.clearTimeout(themeTransitionRef.current);
      }
      themeTransitionRef.current = window.setTimeout(() => {
        root.classList.remove('awp-theme-transition');
      }, THEME_TRANSITION_MS);
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..aa1160b795e296db139e2a30d096b512b4573a30
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Inserting fetch hooks between useEffects**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -803,2 +803,74 @@
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
   const abortActiveRequest = useCallback(() => {
apply_patch(auto_approved=true) exited 0 in 92ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..87647be595025676ccc19b510653fd2c773690fb
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,78 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..87647be595025676ccc19b510653fd2c773690fb
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,78 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Adding computed session usage and budget**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -875,2 +875,26 @@
 
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
apply_patch(auto_approved=true) exited 0 in 64ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..5a0c87dd58262d079f8b6bcfb0c437d08c6c69af
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..5a0c87dd58262d079f8b6bcfb0c437d08c6c69af
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Updating submitCommand to integrate usage refresh**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1483,2 +1483,3 @@
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
@@ -1543,2 +1544,3 @@
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
@@ -1560,5 +1562,8 @@
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
apply_patch(auto_approved=true) exited 0 in 94ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..c73fc828ea0924be79dd78a3dd6b9505e91e47fc
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..c73fc828ea0924be79dd78a3dd6b9505e91e47fc
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Adding status bar UI and computed styles**

I'll locate where to insert new computed variables near existing chart constants around line 1640, then define UI classes and messages based on budget status to update the modal’s status bar including handling loading and budget limit states.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1859,2 +1859,21 @@
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
apply_patch(auto_approved=true) exited 0 in 91ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..7d2b498f4b52c07d15ee3fe8644f3cf466e26637
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,25 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..7d2b498f4b52c07d15ee3fe8644f3cf466e26637
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,25 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Adding usage and budget display in modal**

I'm planning to insert a new status section near the bottom of the modal, just above the existing latency and token cost info. This new UI will show session tokens, session cost, and an account-wide monthly total with dynamic text colors reflecting usage warnings and limits. If there's a budget limit, I'll add a progress bar with color-coded statuses and messages, all styled with Tailwind classes. I'll keep the layout consistent and handle loading states gracefully as I patch the JSX.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1877,2 +1877,3 @@
         : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
   const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
apply_patch(auto_approved=true) exited 0 in 91ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..6dacfe28f08113244297d27ae95e1c9569936448
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,26 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..6dacfe28f08113244297d27ae95e1c9569936448
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,26 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Locating modal end to insert JSX**
exec
/bin/zsh -lc 'rg -n "Latency:" react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 72ms:
2412:                  Latency: {metrics.latencyMs !== null ? `${metrics.latencyMs} ms` : '--'}
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..6dacfe28f08113244297d27ae95e1c9569936448
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,26 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

exec
/bin/zsh -lc "sed -n '2350,2445p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
                      <>
                        <span>Totals</span>
                        <span>{periodData.label}</span>
                      </>
                    }
                    table={comparisonTable}
                    exportFilename={`agentwp-comparison-${selectedPeriod}.png`}
                    valueFormatter={formatCurrencyValue}
                    height={200}
                  />
                  <ChartCard
                    title="Category breakdown"
                    subtitle="Revenue by product category"
                    theme={resolvedTheme}
                    type="doughnut"
                    data={categoryChartData}
                    options={categoryChartOptions}
                    meta={
                      <>
                        <span>Revenue mix</span>
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..6dacfe28f08113244297d27ae95e1c9569936448
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,26 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Adding status bar JSX block**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -2409,2 +2409,51 @@
 
+              <div className={`rounded-2xl border px-4 py-4 ${usageTone}`}>
+                <div className="grid gap-4 sm:grid-cols-3">
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session tokens
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatTokenCount(sessionUsage.tokens)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session cost
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatUsageCost(sessionUsage.cost)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Monthly total
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">{monthlyUsageLabel}</p>
+                    <p className="text-xs text-slate-500">
+                      {formatTokenCount(usageSummary.totalTokens)} tokens
+                    </p>
+                  </div>
+                </div>
+                {budgetLimit > 0 ? (
+                  <div className="mt-4">
+                    <div className="flex items-center justify-between text-xs text-slate-400">
+                      <span>Budget usage</span>
+                      <span>
+                        {budgetStatus.percent}% of {formatUsageCost(budgetLimit)}
+                      </span>
+                    </div>
+                    <div className="mt-2 h-2 overflow-hidden rounded-full bg-slate-900/60">
+                      <div
+                        className={`h-full ${budgetFillTone}`}
+                        style={{ width: `${Math.min(100, budgetStatus.percent)}%` }}
+                      />
+                    </div>
+                    {budgetMessage ? (
+                      <p className={`mt-3 text-xs ${budgetMessageTone}`}>{budgetMessage}</p>
+                    ) : null}
+                  </div>
+                ) : null}
+              </div>
+
               <div className="flex items-center justify-between text-xs text-slate-400">
apply_patch(auto_approved=true) exited 0 in 133ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..2b4d52541af2db08b3efee299c48eee8a119d85f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,26 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
@@ -2218,6 +2407,55 @@
                 </div>
               </details>
 
+              <div className={`rounded-2xl border px-4 py-4 ${usageTone}`}>
+                <div className="grid gap-4 sm:grid-cols-3">
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session tokens
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatTokenCount(sessionUsage.tokens)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session cost
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatUsageCost(sessionUsage.cost)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Monthly total
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">{monthlyUsageLabel}</p>
+                    <p className="text-xs text-slate-500">
+                      {formatTokenCount(usageSummary.totalTokens)} tokens
+                    </p>
+                  </div>
+                </div>
+                {budgetLimit > 0 ? (
+                  <div className="mt-4">
+                    <div className="flex items-center justify-between text-xs text-slate-400">
+                      <span>Budget usage</span>
+                      <span>
+                        {budgetStatus.percent}% of {formatUsageCost(budgetLimit)}
+                      </span>
+                    </div>
+                    <div className="mt-2 h-2 overflow-hidden rounded-full bg-slate-900/60">
+                      <div
+                        className={`h-full ${budgetFillTone}`}
+                        style={{ width: `${Math.min(100, budgetStatus.percent)}%` }}
+                      />
+                    </div>
+                    {budgetMessage ? (
+                      <p className={`mt-3 text-xs ${budgetMessageTone}`}>{budgetMessage}</p>
+                    ) : null}
+                  </div>
+                ) : null}
+              </div>
+
               <div className="flex items-center justify-between text-xs text-slate-400">
                 <span>
                   Latency: {metrics.latencyMs !== null ? `${metrics.latencyMs} ms` : '--'}
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..2b4d52541af2db08b3efee299c48eee8a119d85f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,26 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
@@ -2218,6 +2407,55 @@
                 </div>
               </details>
 
+              <div className={`rounded-2xl border px-4 py-4 ${usageTone}`}>
+                <div className="grid gap-4 sm:grid-cols-3">
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session tokens
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatTokenCount(sessionUsage.tokens)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session cost
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatUsageCost(sessionUsage.cost)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Monthly total
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">{monthlyUsageLabel}</p>
+                    <p className="text-xs text-slate-500">
+                      {formatTokenCount(usageSummary.totalTokens)} tokens
+                    </p>
+                  </div>
+                </div>
+                {budgetLimit > 0 ? (
+                  <div className="mt-4">
+                    <div className="flex items-center justify-between text-xs text-slate-400">
+                      <span>Budget usage</span>
+                      <span>
+                        {budgetStatus.percent}% of {formatUsageCost(budgetLimit)}
+                      </span>
+                    </div>
+                    <div className="mt-2 h-2 overflow-hidden rounded-full bg-slate-900/60">
+                      <div
+                        className={`h-full ${budgetFillTone}`}
+                        style={{ width: `${Math.min(100, budgetStatus.percent)}%` }}
+                      />
+                    </div>
+                    {budgetMessage ? (
+                      <p className={`mt-3 text-xs ${budgetMessageTone}`}>{budgetMessage}</p>
+                    ) : null}
+                  </div>
+                ) : null}
+              </div>
+
               <div className="flex items-center justify-between text-xs text-slate-400">
                 <span>
                   Latency: {metrics.latencyMs !== null ? `${metrics.latencyMs} ms` : '--'}
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Verifying and integrating usage tracking updates**
exec
/bin/zsh -lc 'rg -n "budget_limit" assets/agentwp-admin.js' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 72ms:
40:		budget_limit: 0,
66:		merged.budget_limit = parseFloat(merged.budget_limit);
67:		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
68:			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
278:				budget_limit: nextSettings.budget_limit,
400:				budget_limit: settings.budget_limit,
431:						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
432:							? parseFloat(parsed.budget_limit)
433:							: settings.budget_limit,
500:		var budgetLimit = settings.budget_limit || 0;
725:								value: settings.budget_limit,
731:									updateSetting('budget_limit', nextValue);
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..2b4d52541af2db08b3efee299c48eee8a119d85f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,26 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
@@ -2218,6 +2407,55 @@
                 </div>
               </details>
 
+              <div className={`rounded-2xl border px-4 py-4 ${usageTone}`}>
+                <div className="grid gap-4 sm:grid-cols-3">
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session tokens
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatTokenCount(sessionUsage.tokens)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session cost
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatUsageCost(sessionUsage.cost)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Monthly total
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">{monthlyUsageLabel}</p>
+                    <p className="text-xs text-slate-500">
+                      {formatTokenCount(usageSummary.totalTokens)} tokens
+                    </p>
+                  </div>
+                </div>
+                {budgetLimit > 0 ? (
+                  <div className="mt-4">
+                    <div className="flex items-center justify-between text-xs text-slate-400">
+                      <span>Budget usage</span>
+                      <span>
+                        {budgetStatus.percent}% of {formatUsageCost(budgetLimit)}
+                      </span>
+                    </div>
+                    <div className="mt-2 h-2 overflow-hidden rounded-full bg-slate-900/60">
+                      <div
+                        className={`h-full ${budgetFillTone}`}
+                        style={{ width: `${Math.min(100, budgetStatus.percent)}%` }}
+                      />
+                    </div>
+                    {budgetMessage ? (
+                      <p className={`mt-3 text-xs ${budgetMessageTone}`}>{budgetMessage}</p>
+                    ) : null}
+                  </div>
+                ) : null}
+              </div>
+
               <div className="flex items-center justify-between text-xs text-slate-400">
                 <span>
                   Latency: {metrics.latencyMs !== null ? `${metrics.latencyMs} ms` : '--'}
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Reviewing and synchronizing usage and budget updates**
exec
/bin/zsh -lc 'rg -n "total_commands_month|estimated_cost|last_sync" -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 81ms:
docs/openapi.json:410:          "total_commands_month": {
docs/openapi.json:413:          "estimated_cost": {
docs/openapi.json:416:          "last_sync": {
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..2b4d52541af2db08b3efee299c48eee8a119d85f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,26 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
@@ -2218,6 +2407,55 @@
                 </div>
               </details>
 
+              <div className={`rounded-2xl border px-4 py-4 ${usageTone}`}>
+                <div className="grid gap-4 sm:grid-cols-3">
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session tokens
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatTokenCount(sessionUsage.tokens)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session cost
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatUsageCost(sessionUsage.cost)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Monthly total
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">{monthlyUsageLabel}</p>
+                    <p className="text-xs text-slate-500">
+                      {formatTokenCount(usageSummary.totalTokens)} tokens
+                    </p>
+                  </div>
+                </div>
+                {budgetLimit > 0 ? (
+                  <div className="mt-4">
+                    <div className="flex items-center justify-between text-xs text-slate-400">
+                      <span>Budget usage</span>
+                      <span>
+                        {budgetStatus.percent}% of {formatUsageCost(budgetLimit)}
+                      </span>
+                    </div>
+                    <div className="mt-2 h-2 overflow-hidden rounded-full bg-slate-900/60">
+                      <div
+                        className={`h-full ${budgetFillTone}`}
+                        style={{ width: `${Math.min(100, budgetStatus.percent)}%` }}
+                      />
+                    </div>
+                    {budgetMessage ? (
+                      <p className={`mt-3 text-xs ${budgetMessageTone}`}>{budgetMessage}</p>
+                    ) : null}
+                  </div>
+                ) : null}
+              </div>
+
               <div className="flex items-center justify-between text-xs text-slate-400">
                 <span>
                   Latency: {metrics.latencyMs !== null ? `${metrics.latencyMs} ms` : '--'}
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Reviewing budget and usage updates**
exec
/bin/zsh -lc 'rg -n "usageLoading" react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
676:  const [usageLoading, setUsageLoading] = useState(false);
1879:  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..2b4d52541af2db08b3efee299c48eee8a119d85f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,26 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
@@ -2218,6 +2407,55 @@
                 </div>
               </details>
 
+              <div className={`rounded-2xl border px-4 py-4 ${usageTone}`}>
+                <div className="grid gap-4 sm:grid-cols-3">
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session tokens
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatTokenCount(sessionUsage.tokens)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session cost
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatUsageCost(sessionUsage.cost)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Monthly total
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">{monthlyUsageLabel}</p>
+                    <p className="text-xs text-slate-500">
+                      {formatTokenCount(usageSummary.totalTokens)} tokens
+                    </p>
+                  </div>
+                </div>
+                {budgetLimit > 0 ? (
+                  <div className="mt-4">
+                    <div className="flex items-center justify-between text-xs text-slate-400">
+                      <span>Budget usage</span>
+                      <span>
+                        {budgetStatus.percent}% of {formatUsageCost(budgetLimit)}
+                      </span>
+                    </div>
+                    <div className="mt-2 h-2 overflow-hidden rounded-full bg-slate-900/60">
+                      <div
+                        className={`h-full ${budgetFillTone}`}
+                        style={{ width: `${Math.min(100, budgetStatus.percent)}%` }}
+                      />
+                    </div>
+                    {budgetMessage ? (
+                      <p className={`mt-3 text-xs ${budgetMessageTone}`}>{budgetMessage}</p>
+                    ) : null}
+                  </div>
+                ) : null}
+              </div>
+
               <div className="flex items-center justify-between text-xs text-slate-400">
                 <span>
                   Latency: {metrics.latencyMs !== null ? `${metrics.latencyMs} ms` : '--'}
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Reviewing usage and budget integration**
exec
/bin/zsh -lc 'cat uninstall.php' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 72ms:
<?php
/**
 * Plugin uninstall cleanup.
 *
 * @package AgentWP
 */

if ( ! defined( 'WP_UNINSTALL_PLUGIN' ) ) {
	exit;
}

global $wpdb;

delete_option( 'agentwp_settings' );
delete_option( 'agentwp_api_key' );
delete_option( 'agentwp_api_key_last4' );
delete_option( 'agentwp_budget_limit' );
delete_option( 'agentwp_draft_ttl_minutes' );
delete_option( 'agentwp_usage_stats' );

file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..2b4d52541af2db08b3efee299c48eee8a119d85f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,26 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
@@ -2218,6 +2407,55 @@
                 </div>
               </details>
 
+              <div className={`rounded-2xl border px-4 py-4 ${usageTone}`}>
+                <div className="grid gap-4 sm:grid-cols-3">
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session tokens
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatTokenCount(sessionUsage.tokens)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session cost
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatUsageCost(sessionUsage.cost)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Monthly total
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">{monthlyUsageLabel}</p>
+                    <p className="text-xs text-slate-500">
+                      {formatTokenCount(usageSummary.totalTokens)} tokens
+                    </p>
+                  </div>
+                </div>
+                {budgetLimit > 0 ? (
+                  <div className="mt-4">
+                    <div className="flex items-center justify-between text-xs text-slate-400">
+                      <span>Budget usage</span>
+                      <span>
+                        {budgetStatus.percent}% of {formatUsageCost(budgetLimit)}
+                      </span>
+                    </div>
+                    <div className="mt-2 h-2 overflow-hidden rounded-full bg-slate-900/60">
+                      <div
+                        className={`h-full ${budgetFillTone}`}
+                        style={{ width: `${Math.min(100, budgetStatus.percent)}%` }}
+                      />
+                    </div>
+                    {budgetMessage ? (
+                      <p className={`mt-3 text-xs ${budgetMessageTone}`}>{budgetMessage}</p>
+                    ) : null}
+                  </div>
+                ) : null}
+              </div>
+
               <div className="flex items-center justify-between text-xs text-slate-400">
                 <span>
                   Latency: {metrics.latencyMs !== null ? `${metrics.latencyMs} ms` : '--'}
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}


thinking
**Reviewing uninstall behavior and UI updates**
exec
/bin/zsh -lc "sed -n '660,780p' assets/agentwp-admin.js" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
								updateSetting('theme', value ? 'dark' : 'light');
							},
						})
					)
				),
				el(
					Card,
					null,
					el(CardHeader, null, el('h2', null, __('Usage Statistics', 'agentwp'))),
					el(
						CardBody,
						null,
						el(
							'div',
							{ className: statusClassName },
							el(
								'div',
								{ className: 'agentwp-settings__status-item' },
								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..2b4d52541af2db08b3efee299c48eee8a119d85f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,26 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
@@ -2218,6 +2407,55 @@
                 </div>
               </details>
 
+              <div className={`rounded-2xl border px-4 py-4 ${usageTone}`}>
+                <div className="grid gap-4 sm:grid-cols-3">
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session tokens
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatTokenCount(sessionUsage.tokens)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session cost
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatUsageCost(sessionUsage.cost)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Monthly total
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">{monthlyUsageLabel}</p>
+                    <p className="text-xs text-slate-500">
+                      {formatTokenCount(usageSummary.totalTokens)} tokens
+                    </p>
+                  </div>
+                </div>
+                {budgetLimit > 0 ? (
+                  <div className="mt-4">
+                    <div className="flex items-center justify-between text-xs text-slate-400">
+                      <span>Budget usage</span>
+                      <span>
+                        {budgetStatus.percent}% of {formatUsageCost(budgetLimit)}
+                      </span>
+                    </div>
+                    <div className="mt-2 h-2 overflow-hidden rounded-full bg-slate-900/60">
+                      <div
+                        className={`h-full ${budgetFillTone}`}
+                        style={{ width: `${Math.min(100, budgetStatus.percent)}%` }}
+                      />
+                    </div>
+                    {budgetMessage ? (
+                      <p className={`mt-3 text-xs ${budgetMessageTone}`}>{budgetMessage}</p>
+                    ) : null}
+                  </div>
+                ) : null}
+              </div>
+
               <div className="flex items-center justify-between text-xs text-slate-400">
                 <span>
                   Latency: {metrics.latencyMs !== null ? `${metrics.latencyMs} ms` : '--'}
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}



thinking
**Summarizing extensive feature and UI updates**

I’m consolidating many code changes spanning CSS, React components, PHP controllers, and database tracking to fully integrate a usage and budget tracking system. The updates include UI warnings, data formatting, controlling usage periods, and ensuring usage is logged and displayed consistently across components. I’m verifying schema updates, API calls, token cost calculations, and reactive state management to ensure coherent behavior everywhere. There is a lot here, so I’m wrapping all these incremental improvements into a cohesive whole before finalizing.
thinking
**Reviewing usage period handling and UI integration**

I’m confirming the handling of usage periods and date formats across components, ensuring the UsageTracker and SettingsController align on period data. I’m also double-checking UI elements like budget notices, token formatting, and status bars for consistency. Alongside React state updates and notices adjustments, I’m making sure autoloading and class dependencies like UsageTracker and Intent work properly and preparing for final syntax reviews in key React areas.
exec
/bin/zsh -lc "sed -n '820,980p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 46ms:
      });
      const payload = await response.json().catch(() => null);
      if (!response.ok || payload?.success === false) {
        return;
      }
      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
      setUsageSummary(nextUsage);
      setUsageBaseline((previous) => {
        if (!previous || previous.periodStart !== nextUsage.periodStart) {
          return {
            totalTokens: nextUsage.totalTokens,
            totalCostUsd: nextUsage.totalCostUsd,
            periodStart: nextUsage.periodStart,
          };
        }
        return previous;
      });
    } catch (error) {
      // Usage fetch failures should not block the command deck.
    } finally {
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..2b4d52541af2db08b3efee299c48eee8a119d85f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,26 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
@@ -2218,6 +2407,55 @@
                 </div>
               </details>
 
+              <div className={`rounded-2xl border px-4 py-4 ${usageTone}`}>
+                <div className="grid gap-4 sm:grid-cols-3">
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session tokens
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatTokenCount(sessionUsage.tokens)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session cost
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatUsageCost(sessionUsage.cost)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Monthly total
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">{monthlyUsageLabel}</p>
+                    <p className="text-xs text-slate-500">
+                      {formatTokenCount(usageSummary.totalTokens)} tokens
+                    </p>
+                  </div>
+                </div>
+                {budgetLimit > 0 ? (
+                  <div className="mt-4">
+                    <div className="flex items-center justify-between text-xs text-slate-400">
+                      <span>Budget usage</span>
+                      <span>
+                        {budgetStatus.percent}% of {formatUsageCost(budgetLimit)}
+                      </span>
+                    </div>
+                    <div className="mt-2 h-2 overflow-hidden rounded-full bg-slate-900/60">
+                      <div
+                        className={`h-full ${budgetFillTone}`}
+                        style={{ width: `${Math.min(100, budgetStatus.percent)}%` }}
+                      />
+                    </div>
+                    {budgetMessage ? (
+                      <p className={`mt-3 text-xs ${budgetMessageTone}`}>{budgetMessage}</p>
+                    ) : null}
+                  </div>
+                ) : null}
+              </div>
+
               <div className="flex items-center justify-between text-xs text-slate-400">
                 <span>
                   Latency: {metrics.latencyMs !== null ? `${metrics.latencyMs} ms` : '--'}
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}



thinking
**Summarizing completion and verification steps**

I've reviewed all code updates carefully—mostly usage tracking, budget display, and UI tweaks—with no unexpected changes found. Now I’m preparing a final summary including status, list of changes, verification commands, and notes on risks and follow-ups like potential asset rebuilds and the need for tests since none were run yet.
thinking
**Finalizing verification and follow-up details**

I’m tying up the final response with clear notes that no automated verification commands were provided, highlighting key file changes, and pointing out follow-ups like rebuilding assets if React builds are used and ensuring usage tracking covers all LLM calls. I’m also mentioning the risk that usage logs only OpenAIClient calls and reminding about tests not being run yet.
codex
Status: DONE

Summary of changes:
- Implemented OpenAI usage tracking with the new `src/Billing/UsageTracker.php`, hooked logging into `src/AI/OpenAIClient.php`, and updated the `/usage` REST response in `src/Rest/SettingsController.php`.
- Added budget-limit settings and refreshed usage UI in `assets/agentwp-admin.js` with supporting styles in `assets/agentwp-admin.css`.
- Added a Command Deck status bar (session tokens, session cost, monthly total, budget warnings) plus usage/settings fetches in `react/src/App.jsx`.

How to verify (exact commands):
- No automated verification commands were provided.

Risks / follow-ups:
- If `assets/` is expected to be generated from `react/`, rebuild to keep `assets/agentwp-admin.js` and `assets/agentwp-admin.css` in sync with `react/src/App.jsx`.
- Usage tracking only records OpenAI calls that go through `OpenAIClient` and supply an `intent_type`; any future LLM paths should use that client to keep analytics complete.
file update:
diff --git a/assets/agentwp-admin.css b/assets/agentwp-admin.css
index ec5d67961f03ede8355b5856972cb358bb0d5819..549ea8e98ae6b0f4ff3d3f209bed916cc703f8ae
--- a/assets/agentwp-admin.css
+++ b/assets/agentwp-admin.css
@@ -52,6 +52,51 @@
 	gap: 12px;
 }
 
+.agentwp-settings__status-bar {
+	display: flex;
+	flex-wrap: wrap;
+	gap: 12px;
+	padding: 12px;
+	border: 1px solid #d0d7de;
+	background: #f8fafc;
+	border-radius: 8px;
+	margin-bottom: 12px;
+}
+
+.agentwp-settings__status-bar--warning {
+	border-color: #f59e0b;
+	background: #fff7ed;
+}
+
+.agentwp-settings__status-bar--limit {
+	border-color: #ef4444;
+	background: #fef2f2;
+}
+
+.agentwp-settings__status-item {
+	flex: 1 1 180px;
+}
+
+.agentwp-settings__status-label {
+	margin: 0 0 4px;
+	color: #64748b;
+	font-size: 11px;
+	text-transform: uppercase;
+	letter-spacing: 0.03em;
+}
+
+.agentwp-settings__status-value {
+	margin: 0;
+	font-size: 18px;
+	font-weight: 600;
+}
+
+.agentwp-settings__status-sub {
+	margin: 4px 0 0;
+	color: #64748b;
+	font-size: 12px;
+}
+
 .agentwp-settings__stat {
 	border: 1px solid #dcdcde;
 	background: #f6f7f7;
@@ -78,6 +123,40 @@
 	margin-top: 12px;
 }
 
+.agentwp-settings__budget {
+	margin-top: 16px;
+}
+
+.agentwp-settings__budget-bar {
+	height: 8px;
+	border-radius: 999px;
+	background: #e2e8f0;
+	overflow: hidden;
+	margin-top: 8px;
+}
+
+.agentwp-settings__budget-fill {
+	height: 100%;
+	width: 0;
+	background: #38bdf8;
+	border-radius: inherit;
+	transition: width 200ms ease;
+}
+
+.agentwp-settings__budget-fill--warning {
+	background: #f59e0b;
+}
+
+.agentwp-settings__budget-fill--limit {
+	background: #ef4444;
+}
+
+.agentwp-settings__budget-meta {
+	margin: 6px 0 0;
+	color: #475569;
+	font-size: 12px;
+}
+
 .agentwp-settings__import-export {
 	gap: 12px;
 }
diff --git a/assets/agentwp-admin.js b/assets/agentwp-admin.js
index 156279da225c6844c24fddab530379512e1d8a7b..8835ca8da2d4ed8f29a5d52421ef94d1a0f4c200
--- a/assets/agentwp-admin.js
+++ b/assets/agentwp-admin.js
@@ -37,14 +37,19 @@
 
 	var DEFAULT_SETTINGS = {
 		model: 'gpt-4o-mini',
+		budget_limit: 0,
 		hotkey: 'Cmd+K / Ctrl+K',
 		theme: 'light',
 	};
 
 	var DEFAULT_USAGE = {
-		total_commands_month: 0,
-		estimated_cost: 0,
-		last_sync: '',
+		period: 'month',
+		total_tokens: 0,
+		total_cost_usd: 0,
+		breakdown_by_intent: [],
+		daily_trend: [],
+		period_start: '',
+		period_end: '',
 	};
 
 	function normalizeSettings(settings) {
@@ -58,13 +63,23 @@
 		if (merged.model !== 'gpt-4o' && merged.model !== 'gpt-4o-mini') {
 			merged.model = DEFAULT_SETTINGS.model;
 		}
+		merged.budget_limit = parseFloat(merged.budget_limit);
+		if (!Number.isFinite(merged.budget_limit) || merged.budget_limit < 0) {
+			merged.budget_limit = DEFAULT_SETTINGS.budget_limit;
+		}
 		return merged;
 	}
 
 	function normalizeUsage(usage) {
 		var parsed = Object.assign({}, DEFAULT_USAGE, usage || {});
-		parsed.total_commands_month = parseInt(parsed.total_commands_month, 10) || 0;
-		parsed.estimated_cost = parseFloat(parsed.estimated_cost) || 0;
+		parsed.total_tokens = parseInt(parsed.total_tokens, 10) || 0;
+		parsed.total_cost_usd = parseFloat(parsed.total_cost_usd) || 0;
+		parsed.breakdown_by_intent = Array.isArray(parsed.breakdown_by_intent)
+			? parsed.breakdown_by_intent
+			: [];
+		parsed.daily_trend = Array.isArray(parsed.daily_trend) ? parsed.daily_trend : [];
+		parsed.period_start = parsed.period_start || '';
+		parsed.period_end = parsed.period_end || '';
 		return parsed;
 	}
 
@@ -80,6 +95,17 @@
 		return '$' + (value || 0).toFixed(2);
 	}
 
+	function formatNumber(value) {
+		var parsed = typeof value === 'number' ? value : parseFloat(value);
+		if (!Number.isFinite(parsed)) {
+			return '0';
+		}
+		if (window.Intl && Intl.NumberFormat) {
+			return new Intl.NumberFormat().format(parsed);
+		}
+		return String(parsed);
+	}
+
 	function formatDate(value) {
 		if (!value) {
 			return __('Not synced yet', 'agentwp');
@@ -158,6 +184,10 @@
 		var usageLoading = _useState12[0];
 		var setUsageLoading = _useState12[1];
 
+		var _useState13 = useState(null);
+		var usageBaseline = _useState13[0];
+		var setUsageBaseline = _useState13[1];
+
 		useEffect(function () {
 			var isMounted = true;
 
@@ -196,7 +226,18 @@
 				try {
 					var response = await apiFetch({ path: '/agentwp/v1/usage?period=month' });
 					if (isMounted && response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				} catch (error) {
 					if (isMounted) {
@@ -234,6 +275,7 @@
 		function saveSettings(nextSettings, successMessage) {
 			var payload = {
 				model: nextSettings.model,
+				budget_limit: nextSettings.budget_limit,
 				hotkey: nextSettings.hotkey,
 				theme: nextSettings.theme,
 			};
@@ -355,6 +397,7 @@
 		function handleExport() {
 			var exportData = {
 				model: settings.model,
+				budget_limit: settings.budget_limit,
 				hotkey: settings.hotkey,
 				theme: settings.theme,
 				dark_mode: settings.theme === 'dark',
@@ -385,6 +428,9 @@
 					var parsed = JSON.parse(loadEvent.target.result);
 					var nextSettings = normalizeSettings({
 						model: parsed.model || settings.model,
+						budget_limit: Number.isFinite(parseFloat(parsed.budget_limit))
+							? parseFloat(parsed.budget_limit)
+							: settings.budget_limit,
 						hotkey: parsed.hotkey || settings.hotkey,
 						theme: parsed.theme || (parsed.dark_mode ? 'dark' : settings.theme),
 					});
@@ -406,7 +452,18 @@
 			apiFetch({ path: '/agentwp/v1/usage?period=month' })
 				.then(function (response) {
 					if (response && response.success) {
-						setUsage(normalizeUsage(response.data.usage));
+						var nextUsage = normalizeUsage(response.data);
+						setUsage(nextUsage);
+						setUsageBaseline(function (previous) {
+							if (!previous || previous.period_start !== nextUsage.period_start) {
+								return {
+									total_tokens: nextUsage.total_tokens,
+									total_cost_usd: nextUsage.total_cost_usd,
+									period_start: nextUsage.period_start,
+								};
+							}
+							return previous;
+						});
 					}
 				})
 				.catch(function (error) {
@@ -433,6 +490,43 @@
 			? __('Stored key ending in ****', 'agentwp') + apiKeyLast4
 			: __('No API key stored.', 'agentwp');
 
+		var sessionTokens = usageBaseline
+			? Math.max(0, usage.total_tokens - usageBaseline.total_tokens)
+			: 0;
+		var sessionCost = usageBaseline
+			? Math.max(0, usage.total_cost_usd - usageBaseline.total_cost_usd)
+			: 0;
+
+		var budgetLimit = settings.budget_limit || 0;
+		var budgetRatio = budgetLimit > 0 ? usage.total_cost_usd / budgetLimit : 0;
+		var budgetPercent = Math.min(100, Math.round(budgetRatio * 100));
+		var statusClassName = 'agentwp-settings__status-bar';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			statusClassName += ' agentwp-settings__status-bar--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			statusClassName += ' agentwp-settings__status-bar--warning';
+		}
+
+		var budgetFillClass = 'agentwp-settings__budget-fill';
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetFillClass += ' agentwp-settings__budget-fill--limit';
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetFillClass += ' agentwp-settings__budget-fill--warning';
+		}
+
+		var budgetNotice = null;
+		if (budgetLimit > 0 && budgetRatio >= 1) {
+			budgetNotice = {
+				status: 'error',
+				message: __('Monthly budget limit reached. Consider lowering usage or raising the limit.', 'agentwp'),
+			};
+		} else if (budgetLimit > 0 && budgetRatio >= 0.8) {
+			budgetNotice = {
+				status: 'warning',
+				message: __('Approaching monthly budget limit. Usage is above 80%.', 'agentwp'),
+			};
+		}
+
 		return el(
 			'div',
 			{ className: 'agentwp-settings' },
@@ -460,6 +554,17 @@
 						notice.message
 				  )
 				: null,
+			budgetNotice
+				? el(
+						Notice,
+						{
+							status: budgetNotice.status,
+							isDismissible: false,
+							className: 'agentwp-settings__notice',
+						},
+						budgetNotice.message
+				  )
+				: null,
 			el(
 				'div',
 				{ className: 'agentwp-settings__grid' },
@@ -566,28 +671,96 @@
 						null,
 						el(
 							'div',
+							{ className: statusClassName },
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session tokens used', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatNumber(sessionTokens))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Session cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(sessionCost))
+							),
+							el(
+								'div',
+								{ className: 'agentwp-settings__status-item' },
+								el('p', { className: 'agentwp-settings__status-label' }, __('Account-wide monthly total', 'agentwp')),
+								el('p', { className: 'agentwp-settings__status-value' }, formatCurrency(usage.total_cost_usd)),
+								el('p', { className: 'agentwp-settings__status-sub' }, formatNumber(usage.total_tokens) + ' ' + __('tokens', 'agentwp'))
+							)
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__stats' },
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Total commands this month', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, usage.total_commands_month)
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly tokens', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatNumber(usage.total_tokens))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Estimated cost', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.estimated_cost))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Monthly cost', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatCurrency(usage.total_cost_usd))
 							),
 							el(
 								'div',
 								{ className: 'agentwp-settings__stat' },
-								el('p', { className: 'agentwp-settings__stat-label' }, __('Last sync time', 'agentwp')),
-								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.last_sync))
+								el('p', { className: 'agentwp-settings__stat-label' }, __('Last updated', 'agentwp')),
+								el('p', { className: 'agentwp-settings__stat-value' }, formatDate(usage.period_end))
 							)
 						),
 						el(
 							'div',
+							{ className: 'agentwp-settings__budget' },
+							el(TextControl, {
+								label: __('Monthly budget limit (USD)', 'agentwp'),
+								type: 'number',
+								min: 0,
+								step: '0.01',
+								value: settings.budget_limit,
+								onChange: function (value) {
+									var nextValue = parseFloat(value);
+									if (!Number.isFinite(nextValue) || nextValue < 0) {
+										nextValue = 0;
+									}
+									updateSetting('budget_limit', nextValue);
+								},
+								help: __('Set a monthly budget to trigger usage warnings at 80% and 100%.', 'agentwp'),
+							}),
+							budgetLimit > 0
+								? el(
+										'div',
+										null,
+										el(
+											'div',
+											{ className: 'agentwp-settings__budget-bar' },
+											el('div', {
+												className: budgetFillClass,
+												style: { width: budgetPercent + '%' },
+											})
+										),
+										el(
+											'p',
+											{ className: 'agentwp-settings__budget-meta' },
+											formatCurrency(usage.total_cost_usd) +
+												' ' +
+												__('of', 'agentwp') +
+												' ' +
+												formatCurrency(budgetLimit) +
+												' (' +
+												budgetPercent +
+												'%)'
+										)
+								  )
+								: null
+						),
+						el(
+							'div',
 							{ className: 'agentwp-settings__usage-actions' },
 							el(
 								Button,
diff --git a/react/src/App.jsx b/react/src/App.jsx
index aa7ecafb9cd5022ff0cea2a329967e7aaf7b2afa..2b4d52541af2db08b3efee299c48eee8a119d85f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -28,6 +28,8 @@
 ];
 const REST_PATH = '/agentwp/v1/intent';
 const SEARCH_PATH = '/agentwp/v1/search';
+const USAGE_PATH = '/agentwp/v1/usage';
+const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
@@ -138,6 +140,13 @@
   currency: 'USD',
   maximumFractionDigits: 0,
 });
+const usageCurrencyFormatter = new Intl.NumberFormat('en-US', {
+  style: 'currency',
+  currency: 'USD',
+  minimumFractionDigits: 2,
+  maximumFractionDigits: 2,
+});
+const numberFormatter = new Intl.NumberFormat('en-US');
 
 const formatCurrencyValue = (value) => {
   if (typeof value !== 'number' || Number.isNaN(value)) {
@@ -146,6 +155,39 @@
   return currencyFormatter.format(value);
 };
 
+const formatUsageCost = (value) => {
+  if (typeof value !== 'number' || Number.isNaN(value)) {
+    return usageCurrencyFormatter.format(0);
+  }
+  return usageCurrencyFormatter.format(value);
+};
+
+const formatTokenCount = (value) => {
+  const parsed = typeof value === 'number' ? value : Number.parseInt(value ?? 0, 10);
+  if (Number.isNaN(parsed)) {
+    return numberFormatter.format(0);
+  }
+  return numberFormatter.format(parsed);
+};
+
+const DEFAULT_USAGE_SUMMARY = {
+  totalTokens: 0,
+  totalCostUsd: 0,
+  breakdownByIntent: [],
+  dailyTrend: [],
+  periodStart: '',
+  periodEnd: '',
+};
+
+const normalizeUsageSummary = (payload) => ({
+  totalTokens: Number.parseInt(payload?.total_tokens ?? 0, 10) || 0,
+  totalCostUsd: Number.parseFloat(payload?.total_cost_usd ?? 0) || 0,
+  breakdownByIntent: Array.isArray(payload?.breakdown_by_intent) ? payload.breakdown_by_intent : [],
+  dailyTrend: Array.isArray(payload?.daily_trend) ? payload.daily_trend : [],
+  periodStart: payload?.period_start ?? '',
+  periodEnd: payload?.period_end ?? '',
+});
+
 const buildDayLabels = (days, prefix = 'Day') =>
   Array.from({ length: days }, (_, index) => `${prefix} ${index + 1}`);
 
@@ -293,6 +335,28 @@
   return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
 };
 
+const getUsageEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return USAGE_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return USAGE_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${USAGE_PATH}`;
+};
+
+const getSettingsEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SETTINGS_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SETTINGS_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SETTINGS_PATH}`;
+};
+
 const getThemeEndpoint = () => {
   if (typeof window === 'undefined') {
     return THEME_PATH;
@@ -607,6 +671,10 @@
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
+  const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
+  const [usageBaseline, setUsageBaseline] = useState(null);
+  const [usageLoading, setUsageLoading] = useState(false);
+  const [budgetLimit, setBudgetLimit] = useState(0);
   const [draftSubject, setDraftSubject] = useState('');
   const [draftBody, setDraftBody] = useState('');
   const [draftHistory, setDraftHistory] = useState([]);
@@ -733,6 +801,102 @@
     });
   }, [persistThemePreference, themePreference]);
 
+  const refreshUsage = useCallback(async () => {
+    const endpoint = getUsageEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    setUsageLoading(true);
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(`${endpoint}?period=month`, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextUsage = normalizeUsageSummary(payload?.data ?? {});
+      setUsageSummary(nextUsage);
+      setUsageBaseline((previous) => {
+        if (!previous || previous.periodStart !== nextUsage.periodStart) {
+          return {
+            totalTokens: nextUsage.totalTokens,
+            totalCostUsd: nextUsage.totalCostUsd,
+            periodStart: nextUsage.periodStart,
+          };
+        }
+        return previous;
+      });
+    } catch (error) {
+      // Usage fetch failures should not block the command deck.
+    } finally {
+      setUsageLoading(false);
+    }
+  }, []);
+
+  const fetchBudgetLimit = useCallback(async () => {
+    const endpoint = getSettingsEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    const restNonce = getRestNonce();
+    try {
+      const headers = {};
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+      });
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        return;
+      }
+      const nextLimit = Number.parseFloat(payload?.data?.settings?.budget_limit ?? 0);
+      setBudgetLimit(Number.isFinite(nextLimit) && nextLimit >= 0 ? nextLimit : 0);
+    } catch (error) {
+      // Ignore settings fetch failures.
+    }
+  }, []);
+
+  useEffect(() => {
+    refreshUsage();
+    fetchBudgetLimit();
+  }, [fetchBudgetLimit, refreshUsage]);
+
+  const sessionUsage = useMemo(() => {
+    if (!usageBaseline) {
+      return { tokens: 0, cost: 0 };
+    }
+    return {
+      tokens: Math.max(0, usageSummary.totalTokens - usageBaseline.totalTokens),
+      cost: Math.max(0, usageSummary.totalCostUsd - usageBaseline.totalCostUsd),
+    };
+  }, [usageBaseline, usageSummary.totalCostUsd, usageSummary.totalTokens]);
+
+  const budgetStatus = useMemo(() => {
+    if (!budgetLimit) {
+      return { ratio: 0, percent: 0, level: 'ok' };
+    }
+    const ratio = usageSummary.totalCostUsd / budgetLimit;
+    if (ratio >= 1) {
+      return { ratio, percent: Math.min(100, Math.round(ratio * 100)), level: 'limit' };
+    }
+    if (ratio >= 0.8) {
+      return { ratio, percent: Math.round(ratio * 100), level: 'warning' };
+    }
+    return { ratio, percent: Math.round(ratio * 100), level: 'ok' };
+  }, [budgetLimit, usageSummary.totalCostUsd]);
+
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
       requestControllerRef.current.abort();
@@ -1317,6 +1481,7 @@
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
+      let shouldRefreshUsage = true;
 
       try {
         const headers = {
@@ -1377,6 +1542,7 @@
         recordCommandUsage(trimmedPrompt);
       } catch (error) {
         if (error?.name === 'AbortError') {
+          shouldRefreshUsage = false;
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
@@ -1394,9 +1560,12 @@
           requestControllerRef.current = null;
         }
         setLoading(false);
+        if (shouldRefreshUsage) {
+          refreshUsage();
+        }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage]
+    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
   );
 
   const handleSubmit = useCallback(
@@ -1688,6 +1857,26 @@
   const trendLabel = `${revenueDelta >= 0 ? '+' : ''}${(revenueDelta * 100).toFixed(1)}% vs last period`;
   const chartBars = [72, 98, 84, 124, 96, 112, 78];
   const chartLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
+  const usageTone =
+    budgetStatus.level === 'limit'
+      ? 'border-rose-500/70 bg-rose-500/10'
+      : budgetStatus.level === 'warning'
+        ? 'border-amber-400/70 bg-amber-400/10'
+        : 'border-slate-800/80 bg-slate-950/40';
+  const budgetFillTone =
+    budgetStatus.level === 'limit'
+      ? 'bg-rose-400'
+      : budgetStatus.level === 'warning'
+        ? 'bg-amber-400'
+        : 'bg-emerald-400';
+  const budgetMessage =
+    budgetLimit && budgetStatus.level === 'limit'
+      ? 'Monthly budget limit reached. Consider pausing drafts or raising the limit.'
+      : budgetLimit && budgetStatus.level === 'warning'
+        ? 'Approaching monthly budget limit. Usage is above 80%.'
+        : '';
+  const budgetMessageTone = budgetStatus.level === 'limit' ? 'text-rose-200' : 'text-amber-200';
+  const monthlyUsageLabel = usageLoading ? 'Updating...' : formatUsageCost(usageSummary.totalCostUsd);
 
   return (
     <div className="min-h-screen text-slate-100">
@@ -2218,6 +2407,55 @@
                 </div>
               </details>
 
+              <div className={`rounded-2xl border px-4 py-4 ${usageTone}`}>
+                <div className="grid gap-4 sm:grid-cols-3">
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session tokens
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatTokenCount(sessionUsage.tokens)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Session cost
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">
+                      {formatUsageCost(sessionUsage.cost)}
+                    </p>
+                  </div>
+                  <div>
+                    <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
+                      Monthly total
+                    </p>
+                    <p className="mt-2 text-lg font-semibold text-white">{monthlyUsageLabel}</p>
+                    <p className="text-xs text-slate-500">
+                      {formatTokenCount(usageSummary.totalTokens)} tokens
+                    </p>
+                  </div>
+                </div>
+                {budgetLimit > 0 ? (
+                  <div className="mt-4">
+                    <div className="flex items-center justify-between text-xs text-slate-400">
+                      <span>Budget usage</span>
+                      <span>
+                        {budgetStatus.percent}% of {formatUsageCost(budgetLimit)}
+                      </span>
+                    </div>
+                    <div className="mt-2 h-2 overflow-hidden rounded-full bg-slate-900/60">
+                      <div
+                        className={`h-full ${budgetFillTone}`}
+                        style={{ width: `${Math.min(100, budgetStatus.percent)}%` }}
+                      />
+                    </div>
+                    {budgetMessage ? (
+                      <p className={`mt-3 text-xs ${budgetMessageTone}`}>{budgetMessage}</p>
+                    ) : null}
+                  </div>
+                ) : null}
+              </div>
+
               <div className="flex items-center justify-between text-xs text-slate-400">
                 <span>
                   Latency: {metrics.latencyMs !== null ? `${metrics.latencyMs} ms` : '--'}
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 87964af401a38547acc6d97d9316c49af2051d9a..274e3f44b89925b3398ce89ce898c19512d2197b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -8,6 +8,7 @@
 namespace AgentWP\AI;
 
 use AgentWP\AI\Functions\FunctionSchema;
+use AgentWP\Billing\UsageTracker;
 
 class OpenAIClient {
 	const API_BASE = 'https://api.openai.com/v1';
@@ -63,6 +64,11 @@
 	private $base_url;
 
 	/**
+	 * @var string
+	 */
+	private $intent_type;
+
+	/**
 	 * @param string $api_key OpenAI API key.
 	 * @param string $model Model name.
 	 * @param array  $options Optional overrides.
@@ -82,6 +88,7 @@
 		$this->base_url      = isset( $options['base_url'] ) && is_string( $options['base_url'] )
 			? rtrim( $options['base_url'], '/' )
 			: self::API_BASE;
+		$this->intent_type   = isset( $options['intent_type'] ) ? sanitize_text_field( $options['intent_type'] ) : '';
 	}
 
 	/**
@@ -161,6 +168,15 @@
 			'stream'        => $this->stream,
 		);
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			UsageTracker::log_usage(
+				$meta['model'],
+				$meta['input_tokens'],
+				$meta['output_tokens'],
+				$this->intent_type
+			);
+		}
+
 		return Response::success(
 			array(
 				'content'    => $parsed['content'],
diff --git a/src/Billing/UsageTracker.php b/src/Billing/UsageTracker.php
new file mode 100644
index 0000000000000000000000000000000000000000..911bcbb663e57e2f00b7d68c8af62aa2aec0d221
--- /dev/null
+++ b/src/Billing/UsageTracker.php
@@ -0,0 +1,366 @@
+<?php
+/**
+ * Track OpenAI usage and costs.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Billing;
+
+use AgentWP\AI\Model;
+use DateInterval;
+use DateTimeImmutable;
+use DateTimeZone;
+
+class UsageTracker {
+	const TABLE          = 'agentwp_usage';
+	const VERSION        = '1.0';
+	const VERSION_OPTION = 'agentwp_usage_version';
+	const RETENTION_DAYS = 90;
+	const TOKEN_SCALE    = 1000000;
+
+	/**
+	 * Register hooks.
+	 *
+	 * @return void
+	 */
+	public static function init() {
+		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
+	}
+
+	/**
+	 * Activation handler.
+	 *
+	 * @return void
+	 */
+	public static function activate() {
+		self::ensure_table();
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * Record a usage entry.
+	 *
+	 * @param string $model Model name.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @param string $intent_type Intent identifier.
+	 * @param string $timestamp Optional timestamp (UTC).
+	 * @return void
+	 */
+	public static function log_usage( $model, $input_tokens, $output_tokens, $intent_type, $timestamp = '' ) {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		self::ensure_table();
+
+		$input_tokens  = max( 0, (int) $input_tokens );
+		$output_tokens = max( 0, (int) $output_tokens );
+		$total_tokens  = $input_tokens + $output_tokens;
+		$model         = self::normalize_model( $model );
+		$intent_type   = self::normalize_intent( $intent_type );
+
+		if ( '' === $timestamp ) {
+			$timestamp = gmdate( 'Y-m-d H:i:s' );
+		}
+
+		self::purge_old_rows();
+
+		$table = self::get_table_name();
+		$wpdb->insert(
+			$table,
+			array(
+				'intent_type'  => $intent_type,
+				'model'        => $model,
+				'input_tokens' => $input_tokens,
+				'output_tokens' => $output_tokens,
+				'total_tokens' => $total_tokens,
+				'created_at'   => $timestamp,
+			),
+			array( '%s', '%s', '%d', '%d', '%d', '%s' )
+		);
+	}
+
+	/**
+	 * Get usage stats for a period.
+	 *
+	 * @param string $period day|week|month.
+	 * @return array
+	 */
+	public static function get_usage_summary( $period ) {
+		global $wpdb;
+
+		self::ensure_table();
+		self::purge_old_rows();
+
+		list( $start, $end ) = self::get_period_range( $period );
+
+		$summary = array(
+			'period'              => $period,
+			'period_start'        => $start->format( 'Y-m-d H:i:s' ),
+			'period_end'          => $end->format( 'Y-m-d H:i:s' ),
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+		);
+
+		if ( ! $wpdb ) {
+			return $summary;
+		}
+
+		$table = self::get_table_name();
+		$rows  = $wpdb->get_results(
+			$wpdb->prepare(
+				"SELECT intent_type, model, input_tokens, output_tokens, created_at FROM {$table} WHERE created_at >= %s AND created_at <= %s ORDER BY created_at ASC",
+				$summary['period_start'],
+				$summary['period_end']
+			),
+			ARRAY_A
+		);
+
+		$daily = array();
+		$cursor = $start;
+		while ( $cursor <= $end ) {
+			$key           = $cursor->format( 'Y-m-d' );
+			$daily[ $key ] = array(
+				'date'           => $key,
+				'total_tokens'   => 0,
+				'total_cost_usd' => 0,
+			);
+			$cursor = $cursor->modify( '+1 day' );
+		}
+
+		$breakdown = array();
+		foreach ( $rows as $row ) {
+			$input_tokens  = isset( $row['input_tokens'] ) ? (int) $row['input_tokens'] : 0;
+			$output_tokens = isset( $row['output_tokens'] ) ? (int) $row['output_tokens'] : 0;
+			$total_tokens  = $input_tokens + $output_tokens;
+			$model         = isset( $row['model'] ) ? $row['model'] : '';
+			$cost          = self::calculate_cost( $model, $input_tokens, $output_tokens );
+
+			$summary['total_tokens'] += $total_tokens;
+			$summary['total_cost_usd'] += $cost;
+
+			$intent = self::normalize_intent( isset( $row['intent_type'] ) ? $row['intent_type'] : '' );
+			if ( ! isset( $breakdown[ $intent ] ) ) {
+				$breakdown[ $intent ] = array(
+					'intent_type'    => $intent,
+					'total_tokens'   => 0,
+					'total_cost_usd' => 0,
+				);
+			}
+			$breakdown[ $intent ]['total_tokens'] += $total_tokens;
+			$breakdown[ $intent ]['total_cost_usd'] += $cost;
+
+			$date_key = '';
+			if ( isset( $row['created_at'] ) && is_string( $row['created_at'] ) ) {
+				$date_key = substr( $row['created_at'], 0, 10 );
+			}
+			if ( isset( $daily[ $date_key ] ) ) {
+				$daily[ $date_key ]['total_tokens'] += $total_tokens;
+				$daily[ $date_key ]['total_cost_usd'] += $cost;
+			}
+		}
+
+		$summary['total_cost_usd'] = round( $summary['total_cost_usd'], 6 );
+
+		$breakdown_list = array_values( $breakdown );
+		foreach ( $breakdown_list as &$item ) {
+			$item['total_cost_usd'] = round( $item['total_cost_usd'], 6 );
+		}
+		unset( $item );
+
+		usort(
+			$breakdown_list,
+			function ( $a, $b ) {
+				return ( $b['total_tokens'] ?? 0 ) <=> ( $a['total_tokens'] ?? 0 );
+			}
+		);
+
+		foreach ( $daily as &$day ) {
+			$day['total_cost_usd'] = round( $day['total_cost_usd'], 6 );
+		}
+		unset( $day );
+
+		$summary['breakdown_by_intent'] = $breakdown_list;
+		$summary['daily_trend']         = array_values( $daily );
+
+		return $summary;
+	}
+
+	/**
+	 * Ensure the usage table exists.
+	 *
+	 * @return void
+	 */
+	public static function ensure_table() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$installed_version = get_option( self::VERSION_OPTION, '' );
+		$table             = self::get_table_name();
+
+		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
+			return;
+		}
+
+		require_once ABSPATH . 'wp-admin/includes/upgrade.php';
+
+		$charset_collate = $wpdb->get_charset_collate();
+		$sql             = "CREATE TABLE {$table} (
+			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
+			intent_type varchar(64) NOT NULL,
+			model varchar(64) NOT NULL,
+			input_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			output_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			total_tokens bigint(20) unsigned NOT NULL DEFAULT 0,
+			created_at datetime NOT NULL,
+			PRIMARY KEY  (id),
+			KEY created_at_idx (created_at),
+			KEY intent_idx (intent_type),
+			KEY model_idx (model)
+		) {$charset_collate};";
+
+		dbDelta( $sql );
+		update_option( self::VERSION_OPTION, self::VERSION, false );
+	}
+
+	/**
+	 * @return string
+	 */
+	private static function get_table_name() {
+		global $wpdb;
+		return $wpdb->prefix . self::TABLE;
+	}
+
+	/**
+	 * @param string $table Table name.
+	 * @return bool
+	 */
+	private static function table_exists( $table ) {
+		global $wpdb;
+
+		$like = $wpdb->esc_like( $table );
+		return (bool) $wpdb->get_var( $wpdb->prepare( 'SHOW TABLES LIKE %s', $like ) );
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @return string
+	 */
+	private static function normalize_model( $model ) {
+		$model = is_string( $model ) ? strtolower( trim( $model ) ) : '';
+		if ( '' === $model ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o-mini' ) ) {
+			return Model::GPT_4O_MINI;
+		}
+
+		if ( 0 === strpos( $model, 'gpt-4o' ) ) {
+			return Model::GPT_4O;
+		}
+
+		return Model::normalize( $model );
+	}
+
+	/**
+	 * @param string $intent Intent identifier.
+	 * @return string
+	 */
+	private static function normalize_intent( $intent ) {
+		$intent = is_string( $intent ) ? sanitize_text_field( $intent ) : '';
+		$intent = strtoupper( trim( $intent ) );
+
+		return '' !== $intent ? $intent : 'UNKNOWN';
+	}
+
+	/**
+	 * @param string $model Model identifier.
+	 * @param int    $input_tokens Input tokens.
+	 * @param int    $output_tokens Output tokens.
+	 * @return float
+	 */
+	private static function calculate_cost( $model, $input_tokens, $output_tokens ) {
+		$model = self::normalize_model( $model );
+
+		$pricing = array(
+			Model::GPT_4O      => array(
+				'input'  => 5,
+				'output' => 15,
+			),
+			Model::GPT_4O_MINI => array(
+				'input'  => 0.15,
+				'output' => 0.6,
+			),
+		);
+
+		if ( ! isset( $pricing[ $model ] ) ) {
+			return 0;
+		}
+
+		$input_cost  = ( $input_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['input'];
+		$output_cost = ( $output_tokens / self::TOKEN_SCALE ) * $pricing[ $model ]['output'];
+
+		return (float) ( $input_cost + $output_cost );
+	}
+
+	/**
+	 * @param string $period day|week|month.
+	 * @return array{DateTimeImmutable, DateTimeImmutable}
+	 */
+	private static function get_period_range( $period ) {
+		$period = is_string( $period ) ? strtolower( $period ) : 'month';
+		$now    = new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) );
+
+		switch ( $period ) {
+			case 'day':
+				$start = $now->setTime( 0, 0, 0 );
+				break;
+			case 'week':
+				$start = $now->sub( new DateInterval( 'P6D' ) )->setTime( 0, 0, 0 );
+				break;
+			case 'month':
+			default:
+				$start = $now->modify( 'first day of this month' )->setTime( 0, 0, 0 );
+				break;
+		}
+
+		$cutoff = $now->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) );
+		if ( $start < $cutoff ) {
+			$start = $cutoff->setTime( 0, 0, 0 );
+		}
+
+		return array( $start, $now );
+	}
+
+	/**
+	 * Remove entries older than retention window.
+	 *
+	 * @return void
+	 */
+	private static function purge_old_rows() {
+		global $wpdb;
+		if ( ! $wpdb ) {
+			return;
+		}
+
+		$cutoff = ( new DateTimeImmutable( 'now', new DateTimeZone( 'UTC' ) ) )
+			->sub( new DateInterval( 'P' . self::RETENTION_DAYS . 'D' ) )
+			->format( 'Y-m-d H:i:s' );
+
+		$table = self::get_table_name();
+		$wpdb->query(
+			$wpdb->prepare(
+				"DELETE FROM {$table} WHERE created_at < %s",
+				$cutoff
+			)
+		);
+	}
+}
diff --git a/src/Handlers/EmailDraftHandler.php b/src/Handlers/EmailDraftHandler.php
index 9fb5b76413274aa15e402cff2fc40954bd4d7aa3..b5cc3eff545f6a701d756c77af84e071cbbb11f0
--- a/src/Handlers/EmailDraftHandler.php
+++ b/src/Handlers/EmailDraftHandler.php
@@ -11,6 +11,7 @@
 use AgentWP\AI\OpenAIClient;
 use AgentWP\AI\Response;
 use AgentWP\Context\EmailContextBuilder;
+use AgentWP\Intent\Intent;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 
@@ -336,7 +337,13 @@
 		}
 
 		$model    = $this->get_model();
-		$client   = new OpenAIClient( $api_key, $model );
+		$client   = new OpenAIClient(
+			$api_key,
+			$model,
+			array(
+				'intent_type' => Intent::EMAIL_DRAFT,
+			)
+		);
 		$messages = $this->build_prompt_messages( $context, $intent, $tone, $custom_instructions, $template_variables );
 
 		$result = $client->chat( $messages, array() );
diff --git a/src/Plugin.php b/src/Plugin.php
index 1512c34e305ea0fde453652c319cf6b5e15eede5..e67cf4cee35533e6ec4730ba88b578abbc0cfe46
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -55,6 +55,10 @@
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::activate();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::activate();
 		}
@@ -80,6 +84,10 @@
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
 
+		if ( class_exists( 'AgentWP\\Billing\\UsageTracker' ) ) {
+			Billing\UsageTracker::init();
+		}
+
 		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
 			Search\Index::init();
 		}
@@ -398,9 +406,12 @@
 	 */
 	public static function get_default_usage_stats() {
 		return array(
-			'total_commands_month' => 0,
-			'estimated_cost'       => 0,
-			'last_sync'            => '',
+			'total_tokens'        => 0,
+			'total_cost_usd'      => 0,
+			'breakdown_by_intent' => array(),
+			'daily_trend'         => array(),
+			'period_start'        => '',
+			'period_end'          => '',
 		);
 	}
 
diff --git a/src/Rest/SettingsController.php b/src/Rest/SettingsController.php
index 5568099e4d147ab04844a6d3a7253f0a90c7a97a..005d22031b45dc27a5cb6e43a038290b7e81c956
--- a/src/Rest/SettingsController.php
+++ b/src/Rest/SettingsController.php
@@ -8,6 +8,7 @@
 namespace AgentWP\Rest;
 
 use AgentWP\API\RestController;
+use AgentWP\Billing\UsageTracker;
 use AgentWP\Plugin;
 use AgentWP\Security\Encryption;
 use WP_Error;
@@ -183,18 +184,19 @@
 			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
 		}
 
-		$defaults = Plugin::get_default_usage_stats();
-		$usage    = get_option( Plugin::OPTION_USAGE_STATS, array() );
-		$usage    = is_array( $usage ) ? $usage : array();
-		$usage    = wp_parse_args( $usage, $defaults );
-
-		$usage['last_sync'] = gmdate( 'c' );
-		update_option( Plugin::OPTION_USAGE_STATS, $usage, false );
+		$usage = class_exists( 'AgentWP\\Billing\\UsageTracker' )
+			? UsageTracker::get_usage_summary( $period )
+			: Plugin::get_default_usage_stats();
 
 		return $this->response_success(
 			array(
-				'period' => $period,
-				'usage'  => $usage,
+				'period'              => $period,
+				'total_tokens'        => isset( $usage['total_tokens'] ) ? $usage['total_tokens'] : 0,
+				'total_cost_usd'      => isset( $usage['total_cost_usd'] ) ? $usage['total_cost_usd'] : 0,
+				'breakdown_by_intent' => isset( $usage['breakdown_by_intent'] ) ? $usage['breakdown_by_intent'] : array(),
+				'daily_trend'         => isset( $usage['daily_trend'] ) ? $usage['daily_trend'] : array(),
+				'period_start'        => isset( $usage['period_start'] ) ? $usage['period_start'] : '',
+				'period_end'          => isset( $usage['period_end'] ) ? $usage['period_end'] : '',
 			)
 		);
 	}

tokens used
194,563
