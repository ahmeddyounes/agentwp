---

## Status: DONE

## Summary of Changes

Refactored React hooks/stores/features to use shared API types from `types/index.ts`, eliminating duplicated type definitions:

### 1. **Consolidated `ErrorState` and `ErrorType` types**
   - Added `ErrorType` and `ErrorState` interfaces to `react/src/types/index.ts` as the canonical source
   - Updated `react/src/utils/error.ts` to import and re-export types from shared types (backwards compatible)
   - Updated `react/src/stores/useModalStore.ts` to import `ErrorState` from shared types (removed local interface)
   - Updated `react/src/features/command-deck/CommandDeck.tsx` to use full `ErrorState` from `buildErrorState()` instead of creating partial objects

### 2. **Consolidated `AnalyticsData` type**
   - Updated `react/src/features/landing/LandingPage.tsx` to import and use `AnalyticsData` from shared types (removed local `AnalyticsChartData` interface)
   - Updated `react/src/utils/analytics-data.ts` to import and use `AnalyticsData` and `Period` from shared types (removed duplicate `AnalyticsPeriodData` interface)

### Files Modified
- `react/src/types/index.ts` - Added `ErrorType` and `ErrorState` as shared types
- `react/src/stores/useModalStore.ts` - Imports `ErrorState` from shared types
- `react/src/utils/error.ts` - Imports and re-exports `ErrorState`/`ErrorType` from shared types
- `react/src/features/command-deck/CommandDeck.tsx` - Uses full `ErrorState` from `buildErrorState()`
- `react/src/features/landing/LandingPage.tsx` - Uses `AnalyticsData` from shared types
- `react/src/utils/analytics-data.ts` - Uses `AnalyticsData` and `Period` from shared types

## How to Verify

```bash
cd react
npx tsc --noEmit                       # TypeScript compilation check
npx eslint src --ext .ts,.tsx --quiet  # ESLint check
```

## Risks / Follow-ups

- **Low risk**: All changes maintain backwards compatibility. The `utils/error.ts` re-exports types so existing imports from that file continue to work.
- **Follow-up consideration**: The analytics endpoint is noted in `useAnalytics.ts` as "not yet in OpenAPI spec" - once added to the spec, the `AnalyticsData` type could be replaced with the generated schema type from `types/api.ts`.
