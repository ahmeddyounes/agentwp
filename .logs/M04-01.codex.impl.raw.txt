Status: DONE

Summary of changes
- Added a searchable index with incremental backfill, save hooks, and a new `/agentwp/v1/search` REST endpoint for products, orders, and customers. (`src/Search/Index.php`, `src/Rest/SearchController.php`, `src/Plugin.php`)
- Implemented a debounced typeahead dropdown in the Command Deck input with icons, keyboard navigation, highlighting, and structured query insertion. (`react/src/App.jsx`)

How to verify (exact commands)
- No verification commands provided.

Risks / follow-ups
- Index backfill runs incrementally on admin page loads; very large catalogs may rely on fallback queries until backfill completes.
- Fulltext indexing depends on DB support; fallback `LIKE` queries may be slower on extremely large datasets.

OpenAI Codex v0.77.0 (research preview)
--------
workdir: /Users/ahmedyounis/Documents/Projects/agentwp
model: gpt-5.2-codex
provider: openai
approval: never
sandbox: workspace-write [workdir, /tmp, $TMPDIR]
reasoning effort: high
reasoning summaries: auto
session id: 019b9718-de0b-7493-94ec-96f5e8440304
--------
user
You are implementing task M04-01 in this git repository.

1) Read the spec: .plans/M04-01.md
2) Read handoff/context: .t2/handoff/M04-01.md

Implement the spec fully.

Verification commands (run if non-empty):
- format: 
- lint: 
- test: 

In your final response, include:
- Status: DONE or NEEDS-REVIEW
- Summary of changes
- How to verify (exact commands)
- Risks / follow-ups

mcp startup: no servers

thinking
**Starting with instructions search**
exec
/bin/zsh -lc ls in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 57ms:
agentwp.php
assets
composer.json
docker
docker-compose.yml
docs
includes
languages
react
README.md
scripts
setup.sh
src
tasks.csv
uninstall.php

thinking
**Reviewing specification document**
exec
/bin/zsh -lc 'cat .plans/M04-01.md' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 67ms:
# M04-01 — Typeahead Search System

Build real-time search suggestions: 1) Create searchable index in PHP: AgentWP\Search\Index class. 2) Index sources: products (name, SKU), orders (ID, customer name, email), customers (name, email). 3) REST endpoint GET /agentwp/v1/search?q={query}&types={products,orders,customers}. 4) Return top 5 results per type within 200ms. 5) React Typeahead component: debounce input (150ms), dropdown with categorized results, keyboard navigation (up/down arrows, Enter to select). 6) Show result type icon, primary text (name/ID), secondary text (SKU/email/status). 7) Clicking suggestion populates Omnibox with structured query. 8) Index updates on product/order save hooks. Acceptance Criteria: Results appear within 200ms of typing pause, handles 50k+ products without performance degradation, keyboard navigation intuitive, search terms highlighted in results.

thinking
**Reviewing handoff details**
exec
/bin/zsh -lc 'cat .t2/handoff/M04-01.md' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 66ms:
# Handoff: M04-01

Created: 2026-01-07T06:15:47.925398Z

Spec: .plans/M04-01.md

thinking
**Locating existing search implementation**
exec
/bin/zsh -lc 'rg -n "search" src includes react' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
src/Intent/IntentClassifier.php:36:			Intent::ORDER_SEARCH    => $this->score_search( $text ),
src/Intent/IntentClassifier.php:171:	private function score_search( $text ) {
src/Intent/IntentClassifier.php:176:				'search',
src/Intent/Intent.php:40:			self::ORDER_SEARCH    => 'Order search',
src/Intent/Handlers/OrderSearchHandler.php:3: * Handle order search intents.
src/Intent/Handlers/OrderSearchHandler.php:27:		$search = new OrderSearchService();
src/Intent/Handlers/OrderSearchHandler.php:28:		$result = $search->handle(
src/AI/Functions/SearchOrders.php:3: * Function schema for order search.
src/AI/Functions/SearchOrders.php:12:		return 'search_orders';
src/Handlers/StockHandler.php:3: * Handle product stock searches and updates.
src/Handlers/StockHandler.php:25:			return $this->search_products( $args );
src/Handlers/StockHandler.php:41:	public function search_products( array $args ): Response {
src/Handlers/StockHandler.php:43:			return Response::error( 'WooCommerce is required to search products.', 400 );
src/Handlers/StockHandler.php:50:			return Response::error( 'Missing product search query.', 400 );
src/Handlers/StockHandler.php:246:	 * @param string $sku SKU search.
src/AI/Functions/SearchProduct.php:3: * Function schema for product search.
src/AI/Functions/SearchProduct.php:12:		return 'search_product';
src/Intent/Handlers/ProductStockHandler.php:32:		$search = new StockHandler();
src/Intent/Handlers/ProductStockHandler.php:33:		$result = $search->handle(
src/Intent/Engine.php:176:			Intent::ORDER_SEARCH    => array( 'search_orders', 'select_orders' ),

thinking
**Planning new search index and endpoint**
exec
/bin/zsh -lc 'ls src' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 58ms:
AI
API
Context
Handlers
index.php
Intent
Plugin.php
Rest
Security

thinking
**Checking REST**
exec
/bin/zsh -lc 'ls src/Rest' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 71ms:
HealthController.php
IntentController.php
SettingsController.php

thinking
**Considering adding SearchController**
exec
/bin/zsh -lc 'cat src/Rest/HealthController.php' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 64ms:
<?php
/**
 * Health REST controller.
 *
 * @package AgentWP
 */

namespace AgentWP\Rest;

use AgentWP\API\RestController;
use WP_REST_Server;

class HealthController extends RestController {
	/**
	 * Register REST routes.
	 *
	 * @return void
	 */
	public function register_routes() {
		register_rest_route(

thinking
**Considering RestController usage**
exec
/bin/zsh -lc 'cat src/API/RestController.php' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 62ms:
<?php
/**
 * Base REST controller.
 *
 * @package AgentWP
 */

namespace AgentWP\API;

use AgentWP\Plugin;
use WP_Error;
use WP_REST_Controller;
use WP_REST_Response;

abstract class RestController extends WP_REST_Controller {
	const REST_NAMESPACE = 'agentwp/v1';
	const RATE_LIMIT     = 60;
	const RATE_WINDOW    = 60;
	const LOG_LIMIT      = 50;


thinking
**Searching for PHP search index class**
exec
/bin/zsh -lc 'rg -n "Index" src includes' in /Users/ahmedyounis/Documents/Projects/agentwp exited 1 in 78ms:


thinking
**Reviewing plugin source file**
exec
/bin/zsh -lc 'cat src/Plugin.php' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 66ms:
<?php
/**
 * Core plugin bootstrap.
 *
 * @package AgentWP
 */

namespace AgentWP;

class Plugin {
	const OPTION_SETTINGS     = 'agentwp_settings';
	const OPTION_API_KEY      = 'agentwp_api_key';
	const OPTION_API_KEY_LAST4 = 'agentwp_api_key_last4';
	const OPTION_BUDGET_LIMIT = 'agentwp_budget_limit';
	const OPTION_DRAFT_TTL    = 'agentwp_draft_ttl_minutes';
	const OPTION_USAGE_STATS  = 'agentwp_usage_stats';
	const TRANSIENT_PREFIX    = 'agentwp_';

	/**
	 * @var Plugin|null

thinking
**Adding REST controller and React component**
exec
/bin/zsh -lc 'ls react' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 68ms:
components
index.html
package.json
postcss.config.js
src
tailwind.config.js
vite.config.js

thinking
**Searching for Omnibox in react/src**
exec
/bin/zsh -lc 'rg -n "Omnibox|typeahead|search" react/src' in /Users/ahmedyounis/Documents/Projects/agentwp exited 1 in 65ms:


thinking
**Listing potential components**
exec
/bin/zsh -lc 'ls react/src' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 35ms:
App.jsx
index.css
main.jsx

thinking
**Opening App.jsx file**
exec
/bin/zsh -lc 'cat react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
import { useCallback, useEffect, useMemo, useRef, useState } from 'react';
import html2canvas from 'html2canvas';
import ReactMarkdown from 'react-markdown';
import { ChartCard } from '../components/cards';

const OPEN_STATE_KEY = 'agentwp-command-deck-open';
const DRAFT_HISTORY_KEY = 'agentwp-draft-history';
const MAX_DRAFT_HISTORY = 10;
const COPY_FEEDBACK_MS = 2000;
const EXPORT_FEEDBACK_MS = 2000;
const ADMIN_TRIGGER_SELECTORS = [
  '#wp-admin-bar-agentwp',
  '[data-agentwp-command-deck]',
  '#agentwp-command-deck',
];
const REST_PATH = '/agentwp/v1/intent';
const FOCUSABLE_SELECTORS = [
  'a[href]',
  'button:not([disabled])',
  'textarea:not([disabled])',

thinking
**Planning typeahead integration**
exec
/bin/zsh -lc 'ls react/components' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 63ms:
cards

thinking
**Planning new Typeahead component location**
exec
/bin/zsh -lc 'ls react/components/cards' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 63ms:
BaseCard.jsx
cards.css
ChartCard.jsx
DangerousActionCard.jsx
DataTableCard.jsx
ErrorCard.jsx
index.js
InfoCard.jsx
SuccessCard.jsx

thinking
**Planning new component and backend integration**
exec
/bin/zsh -lc 'cat composer.json' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 65ms:
{
  "name": "agentwp/agentwp",
  "description": "AgentWP WordPress plugin.",
  "type": "wordpress-plugin",
  "license": "GPL-2.0-or-later",
  "autoload": {
    "psr-4": {
      "AgentWP\\": "src/"
    }
  },
  "require": {
    "php": ">=7.4",
    "yethee/tiktoken": "^0.1.2"
  }
}

thinking
**Designing a searchable index system**

I'm working through how to build a PHP `AgentWP\Search\Index` class that indexes products, orders, and customers efficiently, considering a large dataset (50k+ items) and performance needs like 200ms typeahead responses. I'm exploring custom database tables with full-text or prefix-indexed columns, update hooks on saves for products/orders/customers, and designing a REST endpoint with search suggestions including icons and structured queries for the frontend. This involves balancing WordPress native querying with custom indexing for speed and usability.
exec
/bin/zsh -lc 'rg -n "structured|omnibox|query" src react' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 71ms:
react/src/App.jsx:198:  return Array.from(container.querySelectorAll(FOCUSABLE_SELECTORS.join(','))).filter(
src/Rest/SettingsController.php:174:		$validation = $this->validate_request( $request, $this->get_usage_schema(), 'query' );
src/Rest/SettingsController.php:387:	 * Schema for usage query params.
src/Handlers/AnalyticsHandler.php:104:		$totals = $this->query_totals( $range, $statuses );
src/Handlers/AnalyticsHandler.php:135:			'top_products'       => $this->query_top_products( $range, $statuses ),
src/Handlers/AnalyticsHandler.php:136:			'top_categories'     => $this->query_top_categories( $range, $statuses ),
src/Handlers/AnalyticsHandler.php:145:	private function query_totals( array $range, array $statuses ) {
src/Handlers/AnalyticsHandler.php:182:			$row['items_sold'] = $this->query_items_sold( $range, $statuses );
src/Handlers/AnalyticsHandler.php:193:	private function query_items_sold( array $range, array $statuses ) {
src/Handlers/AnalyticsHandler.php:227:	private function query_top_products( array $range, array $statuses ) {
src/Handlers/AnalyticsHandler.php:295:	private function query_top_categories( array $range, array $statuses ) {
src/Handlers/CustomerHandler.php:83:				$this->query_order_ids(
src/Handlers/CustomerHandler.php:95:				$this->query_order_ids(
src/Handlers/CustomerHandler.php:112:	 * @param array $query_args Query arguments.
src/Handlers/CustomerHandler.php:115:	private function query_order_ids( array $query_args ) {
src/Handlers/CustomerHandler.php:122:				$query_args,
src/Handlers/OrderSearchHandler.php:41:					'query'  => $this->public_query_summary( $normalized ),
src/Handlers/OrderSearchHandler.php:46:		$orders = $this->run_query( $normalized );
src/Handlers/OrderSearchHandler.php:54:				'query'  => $this->public_query_summary( $normalized ),
src/Handlers/OrderSearchHandler.php:65:			'query'      => isset( $args['query'] ) ? sanitize_text_field( $args['query'] ) : '',

thinking
**Planning search feature implementation**
exec
/bin/zsh -lc 'cat agentwp.php' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 73ms:
<?php
/**
 * Plugin Name: AgentWP
 * Plugin URI: https://agentwp.example
 * Description: React-powered admin UI for WooCommerce automation.
 * Version: 0.1.0
 * Requires at least: 6.4
 * Requires PHP: 7.4
 * WC requires at least: 8.0
 * Author: AgentWP
 * Text Domain: agentwp
 * Domain Path: /languages
 */

if ( ! defined( 'ABSPATH' ) ) {
	exit;
}

define( 'AGENTWP_VERSION', '0.1.0' );
define( 'AGENTWP_PLUGIN_FILE', __FILE__ );


thinking
**Designing a searchable index system**

I'm planning a robust `AgentWP\Search\Index` class that creates and manages a custom database table to index products, orders, and customers for fast searching. I'll handle WooCommerce's absence gracefully, build and update the index on save hooks, and implement efficient incremental indexing with batch processing to support large datasets without performance hits. The design includes fulltext indexing fallback, caching, and mechanisms to gradually backfill existing data while ensuring the search stays responsive.
thinking
**Planning incremental index backfilling**

I’m outlining a method to backfill the search index in chunks by fetching IDs directly and indexing each item, tracking progress per type to avoid blocking admin or front-end. If indexing isn’t complete, search falls back on direct queries to ensure users still get results early. I’m also defining how results will be structured to fit the UI, including fields for type, ID, and descriptive text.
exec
/bin/zsh -lc 'rg -n "order:" src react' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 71ms:
react/src/index.css:67:  border: 1px solid rgba(148, 163, 184, 0.2);
react/components/cards/cards.css:4:  --card-border: rgba(148, 163, 184, 0.25);
react/components/cards/cards.css:12:  --card-button-border: rgba(148, 163, 184, 0.35);
react/components/cards/cards.css:22:  border: 1px solid var(--card-border);
react/components/cards/cards.css:37:  border: 0;
react/components/cards/cards.css:43:  --card-border: rgba(148, 163, 184, 0.55);
react/components/cards/cards.css:51:  --card-button-border: rgba(148, 163, 184, 0.6);
react/components/cards/cards.css:85:  --card-border: rgba(248, 113, 113, 0.45);
react/components/cards/cards.css:90:  --card-button-border: rgba(248, 113, 113, 0.65);
react/components/cards/cards.css:99:  --card-border: rgba(239, 68, 68, 0.45);
react/components/cards/cards.css:136:  border: 1px solid var(--card-border);
react/components/cards/cards.css:182:  border: 1px solid var(--card-button-border);
react/components/cards/cards.css:228:  border: none;
react/components/cards/cards.css:330:  border: none;
react/components/cards/cards.css:366:  border: 1px solid var(--card-button-border);
react/components/cards/ChartCard.jsx:116:      tooltipBorder: 'rgba(148, 163, 184, 0.6)',
react/components/cards/ChartCard.jsx:126:    tooltipBorder: 'rgba(148, 163, 184, 0.4)',

thinking
**Designing search with structured queries and UI**

I’m piecing together a search feature that returns categorized results (products, orders, customers) with structured queries embedded for easy selection. I’m considering how to safely highlight matched terms in the UI, handle keyboard navigation, debounce input, and create a REST endpoint integrating with a new search index using optimized SQL queries, fulltext when supported. I’m planning to hook this into plugin initialization and activation while thinking about indexing strategies for each type and when to use the plan tool for this moderate complexity task.
Plan update
Implementing new search index + REST endpoint + React typeahead requires coordinated backend/frontend updates.
  ✓ Review existing REST and React patterns; locate integration points for new search index and controller.
  → Add PHP search index class with storage/backfill and hook updates; register REST search controller and plugin hooks.
  • Build React typeahead component with debounced fetch, categorized dropdown, keyboard navigation, and omnibox population.

thinking
**Designing search index class and methods**

I'm laying out a detailed plan for the new Index class in `src/Search/Index.php` with WordPress hooks to track and index products, orders, and users. I’ll define database schema using `dbDelta`, implement text normalization to lowercase and clean input, and plan search functions that use fulltext indexing with fallbacks to direct WooCommerce queries. I want to balance efficient indexing with fallback queries and ensure proper handling of search types and limits. There is a lot here! I'll move toward drafting the code now.
exec
/bin/zsh -lc "sed -n '200,280p' src/Handlers/OrderSearchHandler.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 60ms:
		}

		set_transient( $cache_key, $orders, self::CACHE_TTL );
	}

	/**
	 * @param array $normalized Search parameters.
	 * @return array
	 */
	private function run_query( array $normalized ) {
		if ( ! function_exists( 'wc_get_order' ) || ! function_exists( 'wc_get_orders' ) ) {
			return array();
		}

		if ( $normalized['order_id'] > 0 ) {
			$order = wc_get_order( $normalized['order_id'] );
			if ( $order ) {
				return array( $this->format_order( $order ) );
			}


thinking
**Designing incremental search indexing and fallback**

I’m mapping out a strategy to build a background index for products, orders, and customers with incremental backfilling on admin init and search requests to avoid heavy upfront work. For fallback searches before index completion, I’m considering targeted queries based on query type—like numeric ID lookups or email/name meta queries for orders—to still return results. I’ll implement safe time-limited batch indexing, track progress with a state option, and selectively index only relevant post statuses and user roles. This should balance responsiveness and indexing completeness nicely!
exec
/bin/zsh -lc "sed -n '1,120p' src/Rest/SettingsController.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 60ms:
<?php
/**
 * Settings REST controller.
 *
 * @package AgentWP
 */

namespace AgentWP\Rest;

use AgentWP\API\RestController;
use AgentWP\Plugin;
use AgentWP\Security\Encryption;
use WP_Error;
use WP_REST_Server;

class SettingsController extends RestController {

	/**
	 * Register REST routes.
	 *

thinking
**Planning SearchController and Index integration**
exec
/bin/zsh -lc 'mkdir -p src/Search' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 66ms:


thinking
**Creating new file using cat**
exec
/bin/zsh -lc "cat <<'EOF' > src/Search/Index.php
<?php
/**
 * Search index management.
 *
 * @package AgentWP
 */

namespace AgentWP\\Search;

use AgentWP\\Plugin;

class Index {
	const TABLE           = 'agentwp_search_index';
	const VERSION         = '1.0';
	const VERSION_OPTION  = 'agentwp_search_index_version';
	const STATE_OPTION    = 'agentwp_search_index_state';
	const DEFAULT_LIMIT   = 5;
	const BACKFILL_LIMIT  = 200;
	const BACKFILL_WINDOW = 0.35;

	/**
	 * Register hooks.
	 *
	 * @return void
	 */
	public static function init() {
		add_action( 'init', array( __CLASS__, 'ensure_table' ) );
		add_action( 'init', array( __CLASS__, 'maybe_backfill' ), 15 );

		add_action( 'save_post_product', array( __CLASS__, 'handle_product_save' ), 10, 3 );
		add_action( 'save_post_shop_order', array( __CLASS__, 'handle_order_save' ), 10, 3 );
		add_action( 'before_delete_post', array( __CLASS__, 'handle_post_delete' ) );
		add_action( 'user_register', array( __CLASS__, 'handle_user_register' ) );
		add_action( 'profile_update', array( __CLASS__, 'handle_user_update' ), 10, 2 );
	}

	/**
	 * Plugin activation handler for the search index.
	 *
	 * @return void
	 */
	public static function activate() {
		self::ensure_table();
		update_option( self::VERSION_OPTION, self::VERSION, false );
		self::maybe_reset_state();
	}

	/**
	 * Ensure search index table exists.
	 *
	 * @return void
	 */
	public static function ensure_table() {
		global "'$wpdb;

		$installed_version = get_option( self::VERSION_OPTION, '"'' );
		"'$table             = self::get_table_name();

		if ( $installed_version === self::VERSION && self::table_exists( $table ) ) {
			return;
		}

		require_once ABSPATH . '"'wp-admin/includes/upgrade.php';

		"'$charset_collate = $wpdb->get_charset_collate();
		$sql             = "CREATE TABLE {$table} (
			id bigint(20) unsigned NOT NULL AUTO_INCREMENT,
			type varchar(32) NOT NULL,
			object_id bigint(20) unsigned NOT NULL,
			primary_text varchar(255) NOT NULL,
			secondary_text varchar(255) NOT NULL DEFAULT '"'',
			search_text longtext NOT NULL,
			updated_at datetime NOT NULL,
			PRIMARY KEY  (id),
			UNIQUE KEY type_object (type, object_id),
			KEY type_idx (type),
			KEY object_idx (object_id),
			FULLTEXT KEY search_fulltext (search_text, primary_text, secondary_text)
		) {"'$charset_collate};";

		dbDelta( $sql );

		update_option( self::VERSION_OPTION, self::VERSION, false );
		self::maybe_reset_state();
	}

	/**
	 * Search indexed data.
	 *
	 * @param string $query Search query.
	 * @param array  $types Types to search.
	 * @param int    $limit Result limit.
	 * @return array
	 */
	public static function search( $query, array $types, $limit = self::DEFAULT_LIMIT ) {
		$limit  = max( 1, absint( $limit ) );
		$query  = sanitize_text_field( (string) $query );
		$query  = trim( $query );
		$types  = self::normalize_types( $types );
		$result = array();

		if ( '"'' === "'$query ) {
			foreach ( $types as $type ) {
				$result[ $type ] = array();
			}
			return $result;
		}

		self::ensure_table();
		self::maybe_backfill();

		foreach ( $types as $type ) {
			$result[ $type ] = self::search_type( $type, $query, $limit );
		}

		return $result;
	}

	/**
	 * Handle product save.
	 *
	 * @param int     $post_id Post ID.
	 * @param '"\\WP_Post "'$post Post instance.
	 * @param bool    $update Whether this is an existing post being updated.
	 * @return void
	 */
	public static function handle_product_save( $post_id, $post, $update ) {
		if ( ! self::should_handle_post_save( $post_id, $post ) ) {
			return;
		}

		self::index_product( $post_id );
	}

	/**
	 * Handle order save.
	 *
	 * @param int     $post_id Post ID.
	 * @param '"\\WP_Post "'$post Post instance.
	 * @param bool    $update Whether this is an existing post being updated.
	 * @return void
	 */
	public static function handle_order_save( $post_id, $post, $update ) {
		if ( ! self::should_handle_post_save( $post_id, $post ) ) {
			return;
		}

		self::index_order( $post_id );
	}

	/**
	 * Remove index entry when a post is deleted.
	 *
	 * @param int $post_id Post ID.
	 * @return void
	 */
	public static function handle_post_delete( $post_id ) {
		$post = get_post( $post_id );
		if ( ! $post ) {
			return;
		}

		$type = '"'';
		if ( 'product' === "'$post->post_type ) {
			$type = '"'products';
		} elseif ( 'shop_order' === "'$post->post_type ) {
			$type = '"'orders';
		}

		if ( '' === "'$type ) {
			return;
		}

		self::delete_index_entry( $type, $post_id );
	}

	/**
	 * Handle user registration.
	 *
	 * @param int $user_id User ID.
	 * @return void
	 */
	public static function handle_user_register( $user_id ) {
		self::index_customer( $user_id );
	}

	/**
	 * Handle user profile updates.
	 *
	 * @param int     $user_id User ID.
	 * @param '"\\WP_User "'$old_user_data Previous user data.
	 * @return void
	 */
	public static function handle_user_update( $user_id, $old_user_data ) {
		self::index_customer( $user_id );
	}

	/**
	 * Index a product.
	 *
	 * @param int $product_id Product ID.
	 * @return void
	 */
	public static function index_product( $product_id ) {
		if ( ! function_exists( '"'wc_get_product' ) ) {
			return;
		}

		"'$product = wc_get_product( $product_id );
		if ( ! $product || ! method_exists( $product, '"'get_id' ) ) {
			return;
		}

		"'$name = (string) $product->get_name();
		$sku  = (string) $product->get_sku();

		$primary   = $name ? $name : sprintf( '"'Product #%d', "'$product->get_id() );
		$secondary = $sku ? $sku : '"'';

		"'$search_text = self::normalize_text(
			implode(
				'"' ',
				array_filter(
					array(
						"'$name,
						$sku,
						(string) $product->get_id(),
					)
				)
			)
		);

		self::upsert_index_entry( '"'products', "'$product->get_id(), $primary, $secondary, $search_text );
	}

	/**
	 * Index an order.
	 *
	 * @param int $order_id Order ID.
	 * @return void
	 */
	public static function index_order( $order_id ) {
		if ( ! function_exists( '"'wc_get_order' ) ) {
			return;
		}

		"'$order = wc_get_order( $order_id );
		if ( ! $order || ! method_exists( $order, '"'get_id' ) ) {
			return;
		}

		"'$order_id     = $order->get_id();
		$customer     = trim( $order->get_formatted_billing_full_name() );
		$email        = (string) $order->get_billing_email();
		$status       = (string) $order->get_status();
		$status_label = function_exists( '"'wc_get_order_status_name' ) ? wc_get_order_status_name( "'$status ) : $status;

		$primary   = sprintf( '"'Order #%d', "'$order_id );
		$secondary = $status_label ? $status_label : '"'';

		"'$search_text = self::normalize_text(
			implode(
				'"' ',
				array_filter(
					array(
						(string) "'$order_id,
						$primary,
						$customer,
						$email,
						$status_label,
					)
				)
			)
		);

		self::upsert_index_entry( '"'orders', "'$order_id, $primary, $secondary, $search_text );
	}

	/**
	 * Index a customer.
	 *
	 * @param int $user_id User ID.
	 * @return void
	 */
	public static function index_customer( $user_id ) {
		$user = get_user_by( '"'id', "'$user_id );
		if ( ! $user ) {
			return;
		}

		if ( ! in_array( '"'customer', (array) "'$user->roles, true ) ) {
			self::delete_index_entry( '"'customers', "'$user_id );
			return;
		}

		$name = trim( $user->display_name );
		if ( '"'' === "'$name ) {
			$first = (string) get_user_meta( $user_id, '"'first_name', true );
			"'$last  = (string) get_user_meta( $user_id, '"'last_name', true );
			"'$name  = trim( $first . '"' ' . "'$last );
		}

		$primary   = $name ? $name : sprintf( '"'Customer #%d', "'$user_id );
		$secondary = (string) $user->user_email;

		$search_text = self::normalize_text(
			implode(
				'"' ',
				array_filter(
					array(
						(string) "'$user_id,
						$name,
						$user->user_email,
					)
				)
			)
		);

		self::upsert_index_entry( '"'customers', "'$user_id, $primary, $secondary, $search_text );
	}

	/**
	 * Query the index for a specific type.
	 *
	 * @param string $type Result type.
	 * @param string $query Search query.
	 * @param int    $limit Result limit.
	 * @return array
	 */
	private static function search_type( $type, $query, $limit ) {
		global $wpdb;

		$limit      = max( 1, absint( $limit ) );
		$table      = self::get_table_name();
		$normalized = self::normalize_text( $query );
		$rows       = array();

		if ( self::supports_fulltext() && strlen( $normalized ) >= 3 ) {
			$against = self::build_fulltext_query( $normalized );
			$sql     = $wpdb->prepare(
				"SELECT type, object_id, primary_text, secondary_text FROM {$table}
				WHERE type = %s AND MATCH(search_text, primary_text, secondary_text) AGAINST (%s IN BOOLEAN MODE)
				LIMIT %d",
				$type,
				$against,
				$limit
			);
			$rows    = $wpdb->get_results( $sql, ARRAY_A );
		} else {
			$like = '"'%' . "'$wpdb->esc_like( $normalized ) . '"'%';
			"'$sql  = $wpdb->prepare(
				"SELECT type, object_id, primary_text, secondary_text FROM {$table}
				WHERE type = %s AND search_text LIKE %s
				LIMIT %d",
				$type,
				$like,
				$limit
			);
			$rows = $wpdb->get_results( $sql, ARRAY_A );
		}

		if ( empty( $rows ) && ! self::is_backfill_complete( $type ) ) {
			$rows = self::search_source( $type, $query, $limit );
		}

		return self::format_results( $type, $rows );
	}

	/**
	 * Search data sources directly as a fallback.
	 *
	 * @param string $type Result type.
	 * @param string $query Search query.
	 * @param int    $limit Result limit.
	 * @return array
	 */
	private static function search_source( $type, $query, $limit ) {
		$results = array();

		if ( '"'products' === "'$type && function_exists( '"'wc_get_products' ) ) {
			"'$args = array(
				'"'limit'  => "'$limit,
				'"'status' => array( 'publish', 'private' ),
				's'      => "'$query,
			);

			$products = wc_get_products( $args );
			if ( is_array( $products ) ) {
				foreach ( $products as $product ) {
					if ( ! $product || ! method_exists( $product, '"'get_id' ) ) {
						continue;
					}
					"'$results[] = array(
						'"'type'           => 'products',
						'object_id'      => "'$product->get_id(),
						'"'primary_text'   => (string) "'$product->get_name(),
						'"'secondary_text' => (string) "'$product->get_sku(),
					);
					self::index_product( $product->get_id() );
				}
			}

			if ( count( $results ) < $limit ) {
				$sku_id = absint( wc_get_product_id_by_sku( $query ) );
				if ( $sku_id ) {
					self::index_product( $sku_id );
					$results[] = array(
						'"'type'           => 'products',
						'object_id'      => "'$sku_id,
						'"'primary_text'   => (string) get_the_title( "'$sku_id ),
						'"'secondary_text' => (string) get_post_meta( "'$sku_id, '"'_sku', true ),
					);
				}
			}
		}

		if ( 'orders' === "'$type && function_exists( '"'wc_get_order' ) && function_exists( 'wc_get_orders' ) ) {
			"'$order_id = absint( $query );
			if ( $order_id ) {
				$order = wc_get_order( $order_id );
				if ( $order ) {
					self::index_order( $order_id );
					$results[] = array(
						'"'type'           => 'orders',
						'object_id'      => "'$order_id,
						'"'primary_text'   => sprintf( 'Order #%d', "'$order_id ),
						'"'secondary_text' => function_exists( 'wc_get_order_status_name' ) ? wc_get_order_status_name( "'$order->get_status() ) : (string) $order->get_status(),
					);
				}
			}
		}

		if ( '"'customers' === "'$type ) {
			$users = get_users(
				array(
					'"'number'  => "'$limit,
					'"'search'  => '*' . "'$query . '"'*',
					'role'    => 'customer',
					'orderby' => 'display_name',
				)
			);
			if ( is_array( "'$users ) ) {
				foreach ( $users as $user ) {
					if ( ! $user ) {
						continue;
					}
					self::index_customer( $user->ID );
					$results[] = array(
						'"'type'           => 'customers',
						'object_id'      => "'$user->ID,
						'"'primary_text'   => (string) "'$user->display_name,
						'"'secondary_text' => (string) "'$user->user_email,
					);
				}
			}
		}

		return $results;
	}

	/**
	 * Format raw index rows for output.
	 *
	 * @param string $type Result type.
	 * @param array  $rows Raw rows.
	 * @return array
	 */
	private static function format_results( $type, array $rows ) {
		$results = array();

		foreach ( $rows as $row ) {
			$object_id = isset( $row['"'object_id'] ) ? absint( "'$row['"'object_id'] ) : 0;
			"'$primary   = isset( $row['"'primary_text'] ) ? (string) "'$row['"'primary_text'] : '';
			"'$secondary = isset( $row['"'secondary_text'] ) ? (string) "'$row['"'secondary_text'] : '';

			if ( "'! $object_id ) {
				continue;
			}

			$results[] = array(
				'"'id'        => "'$object_id,
				'"'type'      => "'$type,
				'"'primary'   => "'$primary,
				'"'secondary' => "'$secondary,
				'"'query'     => self::build_query_string( "'$type, $object_id, $primary, $secondary ),
			);
		}

		return $results;
	}

	/**
	 * Build a structured query string for an indexed item.
	 *
	 * @param string $type Type key.
	 * @param int    $object_id Object ID.
	 * @param string $primary Primary text.
	 * @param string $secondary Secondary text.
	 * @return string
	 */
	private static function build_query_string( $type, $object_id, $primary, $secondary ) {
		if ( '"'products' === "'$type ) {
			if ( '"'' "'!== $secondary ) {
				return sprintf( '"'product:%d sku:\"%s\"', "'$object_id, $secondary );
			}
			return sprintf( '"'product:%d \"%s\"', "'$object_id, $primary );
		}

		if ( '"'orders' === "'$type ) {
			return sprintf( '"'order:%d', "'$object_id );
		}

		if ( '"'customers' === "'$type ) {
			if ( '"'' "'!== $secondary ) {
				return sprintf( '"'customer:\"%s\"', "'$secondary );
			}
			return sprintf( '"'customer:%d', "'$object_id );
		}

		return (string) $object_id;
	}

	/**
	 * Remove an index entry.
	 *
	 * @param string $type Type key.
	 * @param int    $object_id Object ID.
	 * @return void
	 */
	private static function delete_index_entry( $type, $object_id ) {
		global $wpdb;

		$table = self::get_table_name();
		$wpdb->delete(
			$table,
			array(
				'"'type'      => "'$type,
				'"'object_id' => absint( "'$object_id ),
			),
			array( '"'%s', '%d' )
		);
	}

	/**
	 * Upsert an index entry.
	 *
	 * @param string "'$type Type key.
	 * @param int    $object_id Object ID.
	 * @param string $primary Primary label.
	 * @param string $secondary Secondary label.
	 * @param string $search_text Search text.
	 * @return void
	 */
	private static function upsert_index_entry( $type, $object_id, $primary, $secondary, $search_text ) {
		global $wpdb;

		$table = self::get_table_name();

		$wpdb->replace(
			$table,
			array(
				'"'type'           => "'$type,
				'"'object_id'      => absint( "'$object_id ),
				'"'primary_text'   => sanitize_text_field( "'$primary ),
				'"'secondary_text' => sanitize_text_field( "'$secondary ),
				'"'search_text'    => "'$search_text,
				'"'updated_at'     => gmdate( 'Y-m-d H:i:s' ),
			),
			array( '%s', '%d', '%s', '%s', '%s', '%s' )
		);
	}

	/**
	 * Determine if post save should be handled.
	 *
	 * @param int     "'$post_id Post ID.
	 * @param '"\\WP_Post "'$post Post instance.
	 * @return bool
	 */
	private static function should_handle_post_save( $post_id, $post ) {
		if ( ! $post || ! is_object( $post ) ) {
			return false;
		}

		if ( defined( '"'DOING_AUTOSAVE' ) && DOING_AUTOSAVE ) {
			return false;
		}

		if ( wp_is_post_autosave( "'$post_id ) || wp_is_post_revision( $post_id ) ) {
			return false;
		}

		return true;
	}

	/**
	 * Normalize type inputs.
	 *
	 * @param array $types Type inputs.
	 * @return array
	 */
	private static function normalize_types( array $types ) {
		$allowed = array( '"'products', 'orders', 'customers' );
		"'$types   = array_map( '"'sanitize_text_field', "'$types );
		$types   = array_filter( $types );
		$types   = array_values( array_intersect( $types, $allowed ) );

		if ( empty( $types ) ) {
			return $allowed;
		}

		return $types;
	}

	/**
	 * Normalize text for searching.
	 *
	 * @param string $text Raw text.
	 * @return string
	 */
	private static function normalize_text( $text ) {
		$text = wp_strip_all_tags( (string) $text );
		$text = remove_accents( $text );
		$text = strtolower( $text );
		$text = preg_replace( '"'/\\s+/', ' ', "'$text );

		return trim( $text );
	}

	/**
	 * Build fulltext query string.
	 *
	 * @param string $normalized Normalized query.
	 * @return string
	 */
	private static function build_fulltext_query( $normalized ) {
		$tokens = preg_split( '"'/\\s+/', "'$normalized );
		$tokens = array_filter( $tokens );

		if ( empty( $tokens ) ) {
			return $normalized;
		}

		$parts = array();
		foreach ( $tokens as $token ) {
			$token = preg_replace( '"'/["'^a-z0-9@._'"\\-]/', '', "'$token );
			if ( '"'' === "'$token ) {
				continue;
			}
			$parts[] = '"'+' . "'$token . '"'*';
		}

		return "'$parts ? implode( '"' ', "'$parts ) : $normalized;
	}

	/**
	 * Detect if fulltext index is available.
	 *
	 * @return bool
	 */
	private static function supports_fulltext() {
		static $supported = null;

		if ( null !== $supported ) {
			return $supported;
		}

		global $wpdb;

		$table = self::get_table_name();
		if ( ! self::table_exists( $table ) ) {
			$supported = false;
			return $supported;
		}

		$indexes = $wpdb->get_results( "SHOW INDEX FROM {$table} WHERE Index_type = '"'FULLTEXT'\", ARRAY_A );
		"'$supported = ! empty( $indexes );

		return $supported;
	}

	/**
	 * Backfill index incrementally.
	 *
	 * @return void
	 */
	public static function maybe_backfill() {
		if ( ! is_admin() ) {
			return;
		}

		$state = self::get_state();
		$start = microtime( true );

		foreach ( array( '"'products', 'orders', 'customers' ) as "'$type ) {
			if ( self::is_backfill_complete( $type, $state ) ) {
				continue;
			}

			$state = self::backfill_type( $type, $state );

			if ( microtime( true ) - $start >= self::BACKFILL_WINDOW ) {
				break;
			}
		}

		update_option( self::STATE_OPTION, $state, false );
	}

	/**
	 * Backfill entries for a single type.
	 *
	 * @param string $type Type key.
	 * @param array  $state Current state.
	 * @return array
	 */
	private static function backfill_type( $type, array $state ) {
		$cursor = isset( $state[ $type ] ) ? (int) $state[ $type ] : 0;
		$ids    = self::fetch_ids( $type, $cursor, self::BACKFILL_LIMIT );

		if ( empty( $ids ) ) {
			$state[ $type ] = -1;
			return $state;
		}

		foreach ( $ids as $id ) {
			if ( '"'products' === "'$type ) {
				self::index_product( $id );
			} elseif ( '"'orders' === "'$type ) {
				self::index_order( $id );
			} elseif ( '"'customers' === "'$type ) {
				self::index_customer( $id );
			}
		}

		$state[ $type ] = max( $ids );
		return $state;
	}

	/**
	 * Fetch IDs for backfill.
	 *
	 * @param string $type Type key.
	 * @param int    $after_id Start after ID.
	 * @param int    $limit Limit.
	 * @return array
	 */
	private static function fetch_ids( $type, $after_id, $limit ) {
		global $wpdb;

		$limit = max( 1, absint( $limit ) );

		if ( '"'products' === "'$type ) {
			return $wpdb->get_col(
				$wpdb->prepare(
					"SELECT ID FROM {$wpdb->posts}
					WHERE post_type = %s
					AND post_status IN ('"'publish', 'private', 'draft')
					AND ID > %d
					ORDER BY ID ASC
					LIMIT %d\",
					'product',
					"'$after_id,
					$limit
				)
			);
		}

		if ( '"'orders' === "'$type ) {
			return $wpdb->get_col(
				$wpdb->prepare(
					"SELECT ID FROM {$wpdb->posts}
					WHERE post_type = %s
					AND post_status NOT IN ('"'trash', 'auto-draft')
					AND ID > %d
					ORDER BY ID ASC
					LIMIT %d\",
					'shop_order',
					"'$after_id,
					$limit
				)
			);
		}

		if ( '"'customers' === "'$type ) {
			return $wpdb->get_col(
				$wpdb->prepare(
					"SELECT ID FROM {$wpdb->users}
					WHERE ID > %d
					ORDER BY ID ASC
					LIMIT %d",
					$after_id,
					$limit
				)
			);
		}

		return array();
	}

	/**
	 * Get index state from options.
	 *
	 * @return array
	 */
	private static function get_state() {
		$state = get_option( self::STATE_OPTION, array() );
		$state = is_array( $state ) ? $state : array();

		foreach ( array( '"'products', 'orders', 'customers' ) as "'$type ) {
			if ( ! isset( $state[ $type ] ) ) {
				$state[ $type ] = 0;
			}
		}

		return $state;
	}

	/**
	 * Reset state if missing.
	 *
	 * @return void
	 */
	private static function maybe_reset_state() {
		$state = get_option( self::STATE_OPTION, null );
		if ( null === $state ) {
			update_option(
				self::STATE_OPTION,
				array(
					'"'products'  => 0,
					'orders'    => 0,
					'customers' => 0,
				),
				false
			);
		}
	}

	/**
	 * Check if backfill is complete.
	 *
	 * @param string "'$type Type key.
	 * @param array  $state Optional state.
	 * @return bool
	 */
	private static function is_backfill_complete( $type, array $state = array() ) {
		if ( empty( $state ) ) {
			$state = self::get_state();
		}

		return isset( $state[ $type ] ) && intval( $state[ $type ] ) === -1;
	}

	/**
	 * Get table name with prefix.
	 *
	 * @return string
	 */
	private static function get_table_name() {
		global $wpdb;

		return $wpdb->prefix . self::TABLE;
	}

	/**
	 * Check if table exists.
	 *
	 * @param string $table Table name.
	 * @return bool
	 */
	private static function table_exists( $table ) {
		global $wpdb;

		$like = $wpdb->esc_like( $table );
		return (bool) $wpdb->get_var( $wpdb->prepare( '"'SHOW TABLES LIKE %s', "'$like ) );
	}
}
EOF' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 66ms:


thinking
**Adjusting Plugin class integration**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/Plugin.php
@@ -56,2 +56,6 @@
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
@@ -76,2 +80,6 @@
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
@@ -196,2 +204,7 @@
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
apply_patch(auto_approved=true) exited 0 in 28ms:
Success. Updated the following files:
M src/Plugin.php
file update:
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Creating SearchController class**
exec
/bin/zsh -lc "cat <<'EOF' > src/Rest/SearchController.php
<?php
/**
 * Search REST controller.
 *
 * @package AgentWP
 */

namespace AgentWP\\Rest;

use AgentWP\\API\\RestController;
use AgentWP\\Search\\Index;
use WP_REST_Server;

class SearchController extends RestController {
	/**
	 * Register REST routes.
	 *
	 * @return void
	 */
	public function register_routes() {
		register_rest_route(
			"'$this->namespace,
			'"'/search',
			array(
				'methods'             => WP_REST_Server::READABLE,
				'callback'            => array( "'$this, '"'search' ),
				'permission_callback' => array( "'$this, '"'permissions_check' ),
			)
		);
	}

	/**
	 * Handle search requests.
	 *
	 * @param \\WP_REST_Request "'$request Request instance.
	 * @return '"\\WP_REST_Response
	 */
	public function search( "'$request ) {
		$validation = $this->validate_request( $request, $this->get_search_schema(), '"'query' );
		if ( is_wp_error( "'$validation ) ) {
			return $this->response_error( '"'agentwp_invalid_request', "'$validation->get_error_message(), 400 );
		}

		$params = $request->get_query_params();
		$query  = isset( $params['"'q'] ) ? sanitize_text_field( (string) "'$params['"'q'] ) : '';
		"'$types  = array();

		if ( isset( $params['"'types'] ) ) {
			if ( is_array( "'$params['"'types'] ) ) {
				"'$types = $params['"'types'];
			} else {
				"'$types = explode( '"',', (string) "'$params['"'types'] );
			}
		}

		"'$types   = array_map( '"'trim', "'$types );
		$results = Index::search( $query, $types, Index::DEFAULT_LIMIT );

		return $this->response_success(
			array(
				'"'query'   => "'$query,
				'"'results' => "'$results,
			)
		);
	}

	/**
	 * Schema for search query params.
	 *
	 * @return array
	 */
	private function get_search_schema() {
		return array(
			'"'type'       => 'object',
			'properties' => array(
				'q'     => array(
					'type'      => 'string',
					'minLength' => 1,
				),
				'types' => array(
					'type' => array( 'string', 'array' ),
				),
			),
			'required'   => array( 'q' ),
		);
	}
}
EOF" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 69ms:

file update:
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Verifying schema compatibility and constants usage**

I'm double-checking if the REST schema allows 'type' as an array of types, which it probably does, so type validation can handle string or array inputs. I'm also confirming that constants like DEFAULT_LIMIT in the Index class are properly accessible and considering cleanup of unused imports. Additionally, I'm reviewing usages of WordPress and WooCommerce functions to ensure they exist before calling, to avoid errors. Once verified, I'll update step 2 of the plan to completed.
Plan update
  ✓ Review existing REST and React patterns; locate integration points for new search index and controller.
  ✓ Add PHP search index class with storage/backfill and hook updates; register REST search controller and plugin hooks.
  → Build React typeahead component with debounced fetch, categorized dropdown, keyboard navigation, and omnibox population.
file update:
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Designing typeahead integration in App.jsx**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -16,2 +16,3 @@
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
apply_patch(auto_approved=true) exited 0 in 35ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..a8d3d4c9ae01129576bb03f65bdc9c70f1212664
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..a8d3d4c9ae01129576bb03f65bdc9c70f1212664
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Adding helper function for search endpoint**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -180,2 +180,13 @@
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
apply_patch(auto_approved=true) exited 0 in 87ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..eb2096602f842e65e58784c0452286febce36fc0
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -177,6 +178,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..eb2096602f842e65e58784c0452286febce36fc0
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -177,6 +178,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Adding highlight utility functions**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -263,2 +263,40 @@
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
apply_patch(auto_approved=true) exited 0 in 56ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..2773abe27e523acc597a0761f201e97ca9229e0a
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -177,6 +178,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +261,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..2773abe27e523acc597a0761f201e97ca9229e0a
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -177,6 +178,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +261,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Defining typeahead config and icons**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -30,2 +30,62 @@
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
 
apply_patch(auto_approved=true) exited 0 in 54ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..f8188d5c1a66fd63bcbfbc5845478bf1e2428f92
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,66 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +238,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +321,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..f8188d5c1a66fd63bcbfbc5845478bf1e2428f92
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,66 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +238,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +321,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Adding typeahead states and helpers**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -90,2 +90,7 @@
 };
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
apply_patch(auto_approved=true) exited 0 in 56ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..6164c05d5ab9b60be79507cf82e44325d1e31fdb
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..6164c05d5ab9b60be79507cf82e44325d1e31fdb
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Adding state variables in App**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -503,2 +503,7 @@
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
apply_patch(auto_approved=true) exited 0 in 55ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..57ae1ab184826bf93ff0dbd7918dae96728db6d7
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..57ae1ab184826bf93ff0dbd7918dae96728db6d7
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Adding refs for search controller and timeouts**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -522,2 +522,5 @@
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
apply_patch(auto_approved=true) exited 0 in 54ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..744acc25a7a13ef6176e6364dda56a05ab4e279b
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,6 +520,9 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..744acc25a7a13ef6176e6364dda56a05ab4e279b
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,6 +520,9 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Adding cleanup for search timeout and prompt blur**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -536,2 +536,9 @@
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
   const addDraftToHistory = useCallback((draft) => {
apply_patch(auto_approved=true) exited 0 in 54ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..5161ef85b040389826c2af3ff2ef4b952373498e
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,6 +520,9 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
@@ -411,6 +534,13 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..5161ef85b040389826c2af3ff2ef4b952373498e
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,6 +520,9 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
@@ -411,6 +534,13 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Preparing to integrate abort logic in useEffect**
exec
/bin/zsh -lc 'rg -n "abortActiveRequest" -n react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 73ms:
530:  const abortActiveRequest = useCallback(() => {
575:    abortActiveRequest();
577:  }, [abortActiveRequest]);
584:      abortActiveRequest();
593:    [abortActiveRequest]
765:      abortActiveRequest();
767:  }, [abortActiveRequest]);
784:    abortActiveRequest();
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..5161ef85b040389826c2af3ff2ef4b952373498e
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,6 +520,9 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
@@ -411,6 +534,13 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Preparing to clean up code around line 740**
exec
/bin/zsh -lc "sed -n '740,820p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 69ms:
        event.preventDefault();
        if (event.shiftKey) {
          last.focus();
        } else {
          first.focus();
        }
        return;
      }
      if (event.shiftKey) {
        if (activeElement === first) {
          event.preventDefault();
          last.focus();
        }
      } else if (activeElement === last) {
        event.preventDefault();
        first.focus();
      }
    };

    document.addEventListener('keydown', handleKeydown);
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..5161ef85b040389826c2af3ff2ef4b952373498e
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,6 +520,9 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
@@ -411,6 +534,13 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Adding cleanup for search abort and timeouts**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -770,2 +770,14 @@
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
apply_patch(auto_approved=true) exited 0 in 56ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..5dc955542350cb560002d8854e45762deffa2777
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,6 +520,9 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
@@ -411,6 +534,13 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -638,6 +768,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..5dc955542350cb560002d8854e45762deffa2777
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,6 +520,9 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
@@ -411,6 +534,13 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -638,6 +768,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Implementing search fetching logic and typeahead management**

I'm working on adding debounced search fetching triggered by prompt changes and focus state, managing typeahead open/close states carefully to handle user interactions like selection and escaping. I'll organize new hooks and handlers—like resetting suggestions, navigating results, and selecting items—near the top of the app component, integrating with existing state and effects, to keep the user experience responsive and smooth.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -528,2 +528,13 @@
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
apply_patch(auto_approved=true) exited 0 in 53ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..267543c5ec474785fc0b69e0e9e975faa1c1851a
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,13 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -638,6 +779,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..267543c5ec474785fc0b69e0e9e975faa1c1851a
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,13 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -638,6 +779,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Adding input handlers with useCallback**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -554,2 +554,98 @@
 
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
apply_patch(auto_approved=true) exited 0 in 55ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..9855eb92a6deeb02cc42fa4fd28a726a7b3e901d
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -638,6 +875,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..9855eb92a6deeb02cc42fa4fd28a726a7b3e901d
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -638,6 +875,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Planning useEffect insertion for search fetch**
exec
/bin/zsh -lc "sed -n '620,720p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 68ms:
        setActiveSuggestionIndex((prev) => {
          const next = prev - 1;
          if (next < 0) {
            return flatSuggestions.length - 1;
          }
          return next;
        });
        return;
      }

      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
        event.preventDefault();
        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
        return;
      }

      if (event.key === 'Escape') {
        event.stopPropagation();
        setIsTypeaheadOpen(false);
        setActiveSuggestionIndex(-1);
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..9855eb92a6deeb02cc42fa4fd28a726a7b3e901d
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -638,6 +875,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Adding search useEffect with debounce and abort**

I'm planning to insert a new useEffect after handleRestoreDraft to manage search with a debounce and abort mechanism. I'll handle prompt trimming, avoid flicker by keeping old results during loading, abort previous requests on rapid changes, update loading states, and manage the open state of the typeahead based on focus and results. Error handling will ignore aborts and reset results on failures. This approach should keep the search responsive and smooth.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -703,2 +703,72 @@
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
apply_patch(auto_approved=true) exited 0 in 53ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..62a83434148f84170f844cb3041873c77de09cb6
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +701,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +945,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..62a83434148f84170f844cb3041873c77de09cb6
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +701,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +945,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Analyzing typeahead loading and input handling**
exec
/bin/zsh -lc 'rg -n "hasDraft" react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 68ms:
1071:  const hasDraft = Boolean(response && !errorMessage);
1073:  const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
1509:                      disabled={!hasDraft}
1518:                    disabled={!hasDraft}
1523:                    disabled={!hasDraft}
1533:                    disabled={!hasDraft}
1539:                      if (!hasDraft) {
1543:                    aria-disabled={!hasDraft}
1544:                    tabIndex={hasDraft ? 0 : -1}
1546:                      hasDraft
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..62a83434148f84170f844cb3041873c77de09cb6
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +701,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +945,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Checking computed variables around line 1050**
exec
/bin/zsh -lc "sed -n '1020,1100p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 71ms:
      setMetrics({ latencyMs, tokenCost });
      addDraftToHistory({
        prompt: trimmedPrompt,
        subject: subjectLine,
        markdown: message,
        plainText: plainTextDraft,
      });
    } catch (error) {
      if (error?.name === 'AbortError') {
        return;
      }
      const latencyMs = Math.round(getNow() - startTime);
      setErrorMessage(error?.message || 'Unable to reach AgentWP.');
      setMetrics((prev) => ({ ...prev, latencyMs }));
    } finally {
      if (requestControllerRef.current === controller) {
        requestControllerRef.current = null;
      }
      setLoading(false);
    }
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..62a83434148f84170f844cb3041873c77de09cb6
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +701,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +945,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Adding showTypeahead constant**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1073,2 +1073,7 @@
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
   const exportLabel =
apply_patch(auto_approved=true) exited 0 in 57ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..656137ea04a3a12aa8fe6b76e63be0a4a0270cde
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +701,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +945,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -752,6 +1071,11 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..656137ea04a3a12aa8fe6b76e63be0a4a0270cde
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +701,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +945,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -752,6 +1071,11 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Modifying input component for new handlers and dropdown**
exec
/bin/zsh -lc 'rg -n "agentwp-prompt" -n react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 72ms:
1434:                <label htmlFor="agentwp-prompt" className="sr-only">
1439:                    id="agentwp-prompt"
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..656137ea04a3a12aa8fe6b76e63be0a4a0270cde
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +701,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +945,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -752,6 +1071,11 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Scrolling through lines 1420-1480**
exec
/bin/zsh -lc "sed -n '1418,1490p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 66ms:
                <h2 id="agentwp-command-deck-title" className="text-lg font-semibold text-white">
                  Command Deck
                </h2>
              </div>
              <button
                type="button"
                onClick={closeModal}
                className="inline-flex h-9 w-9 items-center justify-center rounded-full border border-slate-700/70 text-slate-200 transition hover:border-slate-500/80 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400"
                aria-label="Close Command Deck"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div className="space-y-4 px-6 py-5">
              <form onSubmit={handleSubmit}>
                <label htmlFor="agentwp-prompt" className="sr-only">
                  Ask AgentWP anything
                </label>
                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..656137ea04a3a12aa8fe6b76e63be0a4a0270cde
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +701,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +945,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -752,6 +1071,11 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Updating dropdown structure and accessibility attributes**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1078,2 +1078,4 @@
     (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
apply_patch(auto_approved=true) exited 0 in 54ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..903fe79acbef37ca0d152dda652d335c7ca7f697
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +701,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +945,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -752,6 +1071,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..903fe79acbef37ca0d152dda652d335c7ca7f697
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,23 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +545,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +701,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +945,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -752,6 +1071,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Designing categorized dropdown suggestions**

I'm working on modifying the input block to render categorized search suggestions with headings and counts. To manage active selection indexing across groups, I plan to precompute grouped suggestions with cumulative indices using a `suggestionGroups` value memoized near `flatSuggestions`—this will simplify rendering and keyboard navigation handling.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -538,2 +538,10 @@
   }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
apply_patch(auto_approved=true) exited 0 in 53ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..28c29082be1775dc9f7869dd961a67a1cf77d158
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,31 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +553,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +709,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +953,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -752,6 +1079,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..28c29082be1775dc9f7869dd961a67a1cf77d158
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,31 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +553,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +709,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +953,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -752,6 +1079,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Implementing typeahead suggestion rendering**

I'm working on rendering the typeahead suggestions with proper grouping, highlighting the active suggestion using `activeSuggestionIndex`, and including icons and secondary text. I plan to add keyboard and mouse interaction handlers, a loading indicator at the top, and style the dropdown with scroll and spacing controls. I'll also update the input form container to accommodate the dropdown smoothly.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1446,19 +1446,88 @@
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
apply_patch(auto_approved=true) exited 0 in 54ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..7d32b2d3f05e46501c433aaa813f4efb8b661941
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,31 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +553,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +709,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +953,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -752,6 +1079,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1444,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..7d32b2d3f05e46501c433aaa813f4efb8b661941
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,31 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +553,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +709,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +953,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -752,6 +1079,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1444,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Reviewing and updating typeahead behavior**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -980,2 +980,4 @@
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
apply_patch(auto_approved=true) exited 0 in 53ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..7a0a1241afefab3773bc5f9b4456a9e1a8bea1f8
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,31 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +553,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +709,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +953,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +978,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1081,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1446,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..7a0a1241afefab3773bc5f9b4456a9e1a8bea1f8
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,31 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +553,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +709,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +953,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +978,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1081,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1446,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Managing suggestion fetch suppression after selection**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -525,2 +525,3 @@
   const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
apply_patch(auto_approved=true) exited 0 in 55ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..317147f1135a9376105739a27dda355292de78bc
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +710,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +954,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +979,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1082,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1447,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..317147f1135a9376105739a27dda355292de78bc
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,109 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +710,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +954,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +979,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1082,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1447,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Updating handleSuggestionSelect side effects**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -573,2 +573,3 @@
     }
+    suppressSearchRef.current = true;
     const nextValue = suggestion.query || suggestion.primary || '';
apply_patch(auto_approved=true) exited 0 in 55ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..118d6e734ba9f09dcaf97268b1e30f37989f7c5e
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,110 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    suppressSearchRef.current = true;
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +711,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +955,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +980,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1083,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1448,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..118d6e734ba9f09dcaf97268b1e30f37989f7c5e
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,110 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    suppressSearchRef.current = true;
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +711,76 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +955,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +980,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1083,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1448,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Updating search effect with suppress flag**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -715,2 +715,7 @@
 
+    if (suppressSearchRef.current) {
+      suppressSearchRef.current = false;
+      return;
+    }
+
     if (!trimmedPrompt || !isPromptFocused) {
apply_patch(auto_approved=true) exited 0 in 56ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..e0f57897cbbb352e644a1dd249fb87fe48ed852f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,110 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    suppressSearchRef.current = true;
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +711,81 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (suppressSearchRef.current) {
+      suppressSearchRef.current = false;
+      return;
+    }
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +960,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +985,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1088,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1453,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..e0f57897cbbb352e644a1dd249fb87fe48ed852f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,110 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    suppressSearchRef.current = true;
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +711,81 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (suppressSearchRef.current) {
+      suppressSearchRef.current = false;
+      return;
+    }
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +960,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +985,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1088,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1453,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Reviewing typeahead and prompt state logic**
Plan update
  ✓ Review existing REST and React patterns; locate integration points for new search index and controller.
  ✓ Add PHP search index class with storage/backfill and hook updates; register REST search controller and plugin hooks.
  ✓ Build React typeahead component with debounced fetch, categorized dropdown, keyboard navigation, and omnibox population.
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..e0f57897cbbb352e644a1dd249fb87fe48ed852f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,110 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    suppressSearchRef.current = true;
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +711,81 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (suppressSearchRef.current) {
+      suppressSearchRef.current = false;
+      return;
+    }
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +960,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +985,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1088,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1453,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**


thinking
**Cleaning unused import from Index file**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/Search/Index.php
@@ -9,4 +9,2 @@
 
-use AgentWP\Plugin;
-
 class Index {
apply_patch(auto_approved=true) exited 0 in 44ms:
Success. Updated the following files:
M src/Search/Index.php
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..e0f57897cbbb352e644a1dd249fb87fe48ed852f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,110 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    suppressSearchRef.current = true;
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +711,81 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (suppressSearchRef.current) {
+      suppressSearchRef.current = false;
+      return;
+    }
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +960,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +985,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1088,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1453,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**
diff --git a/src/Search/Index.php b/src/Search/Index.php
index ab1f891edcf4e36d7d2c0d6271bf122c2e58e383..39cce220cbf2c07bcdbdb3a7d740b40bdc6f6479
--- a/src/Search/Index.php
+++ b/src/Search/Index.php
@@ -7,8 +7,6 @@
 
 namespace AgentWP\Search;
 
-use AgentWP\Plugin;
-
 class Index {
 	const TABLE           = 'agentwp_search_index';
 	const VERSION         = '1.0';

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..e0f57897cbbb352e644a1dd249fb87fe48ed852f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,110 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback((suggestion) => {
+    if (!suggestion) {
+      return;
+    }
+    suppressSearchRef.current = true;
+    const nextValue = suggestion.query || suggestion.primary || '';
+    setPrompt(nextValue);
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +711,81 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (suppressSearchRef.current) {
+      suppressSearchRef.current = false;
+      return;
+    }
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +960,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +985,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1088,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1453,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**
diff --git a/src/Search/Index.php b/src/Search/Index.php
index ab1f891edcf4e36d7d2c0d6271bf122c2e58e383..39cce220cbf2c07bcdbdb3a7d740b40bdc6f6479
--- a/src/Search/Index.php
+++ b/src/Search/Index.php
@@ -7,8 +7,6 @@
 
 namespace AgentWP\Search;
 
-use AgentWP\Plugin;
-
 class Index {
 	const TABLE           = 'agentwp_search_index';
 	const VERSION         = '1.0';



thinking
**Reviewing code for edge cases and improvements**
thinking
**Analyzing event handling and async flow in search UI**

I’m digging into how focus and blur events interact with the search requests and loading states, checking that aborts happen properly and loading indicators clear especially after suggestion selection. I’m also verifying dependencies and effects to prevent stale state or unwanted UI flicker, planning to patch handleSuggestionSelect to abort pending searches and reset loading status.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -569,12 +569,17 @@
 
-  const handleSuggestionSelect = useCallback((suggestion) => {
-    if (!suggestion) {
-      return;
-    }
-    suppressSearchRef.current = true;
-    const nextValue = suggestion.query || suggestion.primary || '';
-    setPrompt(nextValue);
-    setIsTypeaheadOpen(false);
-    setActiveSuggestionIndex(-1);
-  }, []);
+  const handleSuggestionSelect = useCallback(
+    (suggestion) => {
+      if (!suggestion) {
+        return;
+      }
+      suppressSearchRef.current = true;
+      abortSearchRequest();
+      setIsTypeaheadLoading(false);
+      const nextValue = suggestion.query || suggestion.primary || '';
+      setPrompt(nextValue);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    },
+    [abortSearchRequest]
+  );
 
apply_patch(auto_approved=true) exited 0 in 38ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..8c24a50facbe785bbfcfb74d5b7c53603cdd304d
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,115 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback(
+    (suggestion) => {
+      if (!suggestion) {
+        return;
+      }
+      suppressSearchRef.current = true;
+      abortSearchRequest();
+      setIsTypeaheadLoading(false);
+      const nextValue = suggestion.query || suggestion.primary || '';
+      setPrompt(nextValue);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    },
+    [abortSearchRequest]
+  );
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +716,81 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (suppressSearchRef.current) {
+      suppressSearchRef.current = false;
+      return;
+    }
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +965,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +990,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1093,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1458,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**
diff --git a/src/Search/Index.php b/src/Search/Index.php
index ab1f891edcf4e36d7d2c0d6271bf122c2e58e383..39cce220cbf2c07bcdbdb3a7d740b40bdc6f6479
--- a/src/Search/Index.php
+++ b/src/Search/Index.php
@@ -7,8 +7,6 @@
 
 namespace AgentWP\Search;
 
-use AgentWP\Plugin;
-
 class Index {
 	const TABLE           = 'agentwp_search_index';
 	const VERSION         = '1.0';

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..8c24a50facbe785bbfcfb74d5b7c53603cdd304d
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,115 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback(
+    (suggestion) => {
+      if (!suggestion) {
+        return;
+      }
+      suppressSearchRef.current = true;
+      abortSearchRequest();
+      setIsTypeaheadLoading(false);
+      const nextValue = suggestion.query || suggestion.primary || '';
+      setPrompt(nextValue);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    },
+    [abortSearchRequest]
+  );
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +716,81 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (suppressSearchRef.current) {
+      suppressSearchRef.current = false;
+      return;
+    }
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +965,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +990,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1093,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1458,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**
diff --git a/src/Search/Index.php b/src/Search/Index.php
index ab1f891edcf4e36d7d2c0d6271bf122c2e58e383..39cce220cbf2c07bcdbdb3a7d740b40bdc6f6479
--- a/src/Search/Index.php
+++ b/src/Search/Index.php
@@ -7,8 +7,6 @@
 
 namespace AgentWP\Search;
 
-use AgentWP\Plugin;
-
 class Index {
 	const TABLE           = 'agentwp_search_index';
 	const VERSION         = '1.0';


thinking
**Improving search timeout cleanup**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -577,2 +577,5 @@
       setIsTypeaheadLoading(false);
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
       const nextValue = suggestion.query || suggestion.primary || '';
apply_patch(auto_approved=true) exited 0 in 61ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..9007e24a6b9a17f3b81e6025eafcd25777787b4f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,118 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback(
+    (suggestion) => {
+      if (!suggestion) {
+        return;
+      }
+      suppressSearchRef.current = true;
+      abortSearchRequest();
+      setIsTypeaheadLoading(false);
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      const nextValue = suggestion.query || suggestion.primary || '';
+      setPrompt(nextValue);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    },
+    [abortSearchRequest]
+  );
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +719,81 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (suppressSearchRef.current) {
+      suppressSearchRef.current = false;
+      return;
+    }
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +968,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +993,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1096,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1461,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**
diff --git a/src/Search/Index.php b/src/Search/Index.php
index ab1f891edcf4e36d7d2c0d6271bf122c2e58e383..39cce220cbf2c07bcdbdb3a7d740b40bdc6f6479
--- a/src/Search/Index.php
+++ b/src/Search/Index.php
@@ -7,8 +7,6 @@
 
 namespace AgentWP\Search;
 
-use AgentWP\Plugin;
-
 class Index {
 	const TABLE           = 'agentwp_search_index';
 	const VERSION         = '1.0';

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..9007e24a6b9a17f3b81e6025eafcd25777787b4f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,118 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback(
+    (suggestion) => {
+      if (!suggestion) {
+        return;
+      }
+      suppressSearchRef.current = true;
+      abortSearchRequest();
+      setIsTypeaheadLoading(false);
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      const nextValue = suggestion.query || suggestion.primary || '';
+      setPrompt(nextValue);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    },
+    [abortSearchRequest]
+  );
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +719,81 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (suppressSearchRef.current) {
+      suppressSearchRef.current = false;
+      return;
+    }
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +968,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +993,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1096,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1461,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**
diff --git a/src/Search/Index.php b/src/Search/Index.php
index ab1f891edcf4e36d7d2c0d6271bf122c2e58e383..39cce220cbf2c07bcdbdb3a7d740b40bdc6f6479
--- a/src/Search/Index.php
+++ b/src/Search/Index.php
@@ -7,8 +7,6 @@
 
 namespace AgentWP\Search;
 
-use AgentWP\Plugin;
-
 class Index {
 	const TABLE           = 'agentwp_search_index';
 	const VERSION         = '1.0';


thinking
**Reviewing search and suggestion updates**
exec
/bin/zsh -lc 'php -l src/Search/Index.php && php -l src/Rest/SearchController.php' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 141ms:
No syntax errors detected in src/Search/Index.php
No syntax errors detected in src/Rest/SearchController.php
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..9007e24a6b9a17f3b81e6025eafcd25777787b4f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,118 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback(
+    (suggestion) => {
+      if (!suggestion) {
+        return;
+      }
+      suppressSearchRef.current = true;
+      abortSearchRequest();
+      setIsTypeaheadLoading(false);
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      const nextValue = suggestion.query || suggestion.primary || '';
+      setPrompt(nextValue);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    },
+    [abortSearchRequest]
+  );
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +719,81 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (suppressSearchRef.current) {
+      suppressSearchRef.current = false;
+      return;
+    }
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +968,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +993,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1096,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1461,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**
diff --git a/src/Search/Index.php b/src/Search/Index.php
index ab1f891edcf4e36d7d2c0d6271bf122c2e58e383..39cce220cbf2c07bcdbdb3a7d740b40bdc6f6479
--- a/src/Search/Index.php
+++ b/src/Search/Index.php
@@ -7,8 +7,6 @@
 
 namespace AgentWP\Search;
 
-use AgentWP\Plugin;
-
 class Index {
 	const TABLE           = 'agentwp_search_index';
 	const VERSION         = '1.0';


thinking
**Preparing detailed final response**

I'm organizing a clear final message covering status, a concise summary referencing all changed files, how to verify noting no commands were provided, and risks/follow-ups about incremental backfill and search dependencies. I'll include mention of new REST endpoints and React UI updates, making sure the format is easy to follow and strictly aligned with instructions.
codex
Status: DONE

Summary of changes
- Added a searchable index with incremental backfill, save hooks, and a new `/agentwp/v1/search` REST endpoint for products, orders, and customers. (`src/Search/Index.php`, `src/Rest/SearchController.php`, `src/Plugin.php`)
- Implemented a debounced typeahead dropdown in the Command Deck input with icons, keyboard navigation, highlighting, and structured query insertion. (`react/src/App.jsx`)

How to verify (exact commands)
- No verification commands provided.

Risks / follow-ups
- Index backfill runs incrementally on admin page loads; very large catalogs may rely on fallback queries until backfill completes.
- Fulltext indexing depends on DB support; fallback `LIKE` queries may be slower on extremely large datasets.
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 09a5df1d73e52aee87d2a61ee4116eda042c8714..9007e24a6b9a17f3b81e6025eafcd25777787b4f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -14,6 +14,7 @@
   '#agentwp-command-deck',
 ];
 const REST_PATH = '/agentwp/v1/intent';
+const SEARCH_PATH = '/agentwp/v1/search';
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -27,6 +28,71 @@
   { value: '30d', label: 'Last 30 days' },
   { value: '90d', label: 'Last 90 days' },
 ];
+const SEARCH_TYPES = ['products', 'orders', 'customers'];
+const TYPEAHEAD_CONFIG = {
+  products: {
+    label: 'Products',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M4 5h9l7 7-8 8-8-8V5z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <circle cx="8.5" cy="9.5" r="1.3" fill="currentColor" />
+      </svg>
+    ),
+  },
+  orders: {
+    label: 'Orders',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <path
+          d="M7 4h10v16l-3-2-2 2-2-2-3 2z"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinejoin="round"
+        />
+        <path
+          d="M9 9h6M9 12h6"
+          stroke="currentColor"
+          strokeWidth="1.6"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+  customers: {
+    label: 'Customers',
+    icon: (
+      <svg viewBox="0 0 24 24" aria-hidden="true" className="h-4 w-4">
+        <circle
+          cx="12"
+          cy="8"
+          r="3.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+        />
+        <path
+          d="M4 20c1.8-3.6 5-5.4 8-5.4s6.2 1.8 8 5.4"
+          fill="none"
+          stroke="currentColor"
+          strokeWidth="1.7"
+          strokeLinecap="round"
+        />
+      </svg>
+    ),
+  },
+};
+const getEmptySearchResults = () =>
+  SEARCH_TYPES.reduce((accumulator, type) => {
+    accumulator[type] = [];
+    return accumulator;
+  }, {});
 
 const currencyFormatter = new Intl.NumberFormat('en-US', {
   style: 'currency',
@@ -177,6 +243,17 @@
   return `${root.replace(/\/$/, '')}${REST_PATH}`;
 };
 
+const getSearchEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return SEARCH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return SEARCH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${SEARCH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -249,6 +326,44 @@
   return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const escapeRegExp = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
+
+const getHighlightTokens = (query) => {
+  if (!query) {
+    return [];
+  }
+  return query
+    .trim()
+    .toLowerCase()
+    .split(/\s+/)
+    .filter(Boolean)
+    .slice(0, 6);
+};
+
+const renderHighlightedText = (text, query) => {
+  if (!text) {
+    return '';
+  }
+  const tokens = getHighlightTokens(query);
+  if (!tokens.length) {
+    return text;
+  }
+  const pattern = new RegExp(`(${tokens.map(escapeRegExp).join('|')})`, 'ig');
+  return text.split(pattern).map((part, index) => {
+    if (tokens.includes(part.toLowerCase())) {
+      return (
+        <mark
+          key={`${part}-${index}`}
+          className="rounded bg-sky-500/30 px-1 text-sky-100"
+        >
+          {part}
+        </mark>
+      );
+    }
+    return part;
+  });
+};
+
 const fallbackCopyToClipboard = ({ text, html }) => {
   if (typeof document === 'undefined') {
     return false;
@@ -386,6 +501,11 @@
 export default function App() {
   const [isOpen, setIsOpen] = useState(getInitialOpenState);
   const [prompt, setPrompt] = useState('');
+  const [searchResults, setSearchResults] = useState(getEmptySearchResults);
+  const [isTypeaheadOpen, setIsTypeaheadOpen] = useState(false);
+  const [isTypeaheadLoading, setIsTypeaheadLoading] = useState(false);
+  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);
+  const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
   const [errorMessage, setErrorMessage] = useState('');
@@ -400,9 +520,32 @@
   const responseHtmlRef = useRef(null);
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
+  const searchControllerRef = useRef(null);
+  const searchTimeoutRef = useRef(null);
+  const promptBlurTimeoutRef = useRef(null);
+  const suppressSearchRef = useRef(false);
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const prefersDark = usePrefersDark();
+  const flatSuggestions = useMemo(() => {
+    const items = [];
+    SEARCH_TYPES.forEach((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      list.forEach((item) => {
+        items.push({ ...item, type });
+      });
+    });
+    return items;
+  }, [searchResults]);
+  const suggestionGroups = useMemo(() => {
+    let cursor = 0;
+    return SEARCH_TYPES.map((type) => {
+      const list = Array.isArray(searchResults[type]) ? searchResults[type] : [];
+      const items = list.map((item) => ({ ...item, type, _index: cursor++ }));
+      return { type, items };
+    });
+  }, [searchResults]);
+  const hasSuggestions = flatSuggestions.length > 0;
 
   const abortActiveRequest = useCallback(() => {
     if (requestControllerRef.current) {
@@ -411,6 +554,118 @@
     }
   }, []);
 
+  const abortSearchRequest = useCallback(() => {
+    if (searchControllerRef.current) {
+      searchControllerRef.current.abort();
+      searchControllerRef.current = null;
+    }
+  }, []);
+
+  const resetTypeahead = useCallback(() => {
+    setSearchResults(getEmptySearchResults());
+    setIsTypeaheadLoading(false);
+    setActiveSuggestionIndex(-1);
+  }, []);
+
+  const handleSuggestionSelect = useCallback(
+    (suggestion) => {
+      if (!suggestion) {
+        return;
+      }
+      suppressSearchRef.current = true;
+      abortSearchRequest();
+      setIsTypeaheadLoading(false);
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      const nextValue = suggestion.query || suggestion.primary || '';
+      setPrompt(nextValue);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    },
+    [abortSearchRequest]
+  );
+
+  const handlePromptFocus = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    setIsPromptFocused(true);
+    if (prompt.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, [prompt]);
+
+  const handlePromptBlur = useCallback(() => {
+    if (promptBlurTimeoutRef.current) {
+      window.clearTimeout(promptBlurTimeoutRef.current);
+    }
+    promptBlurTimeoutRef.current = window.setTimeout(() => {
+      setIsPromptFocused(false);
+      setIsTypeaheadOpen(false);
+      setActiveSuggestionIndex(-1);
+    }, 120);
+  }, []);
+
+  const handlePromptChange = useCallback((event) => {
+    const nextValue = event.target.value;
+    setPrompt(nextValue);
+    if (nextValue.trim()) {
+      setIsTypeaheadOpen(true);
+    }
+  }, []);
+
+  const handlePromptKeyDown = useCallback(
+    (event) => {
+      if (!isTypeaheadOpen || !hasSuggestions) {
+        return;
+      }
+
+      if (event.key === 'ArrowDown') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev + 1;
+          if (next >= flatSuggestions.length) {
+            return 0;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'ArrowUp') {
+        event.preventDefault();
+        setActiveSuggestionIndex((prev) => {
+          const next = prev - 1;
+          if (next < 0) {
+            return flatSuggestions.length - 1;
+          }
+          return next;
+        });
+        return;
+      }
+
+      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
+        event.preventDefault();
+        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
+        return;
+      }
+
+      if (event.key === 'Escape') {
+        event.stopPropagation();
+        setIsTypeaheadOpen(false);
+        setActiveSuggestionIndex(-1);
+      }
+    },
+    [
+      activeSuggestionIndex,
+      flatSuggestions,
+      handleSuggestionSelect,
+      hasSuggestions,
+      isTypeaheadOpen,
+    ]
+  );
+
   const addDraftToHistory = useCallback((draft) => {
     if (!draft?.markdown) {
       return;
@@ -464,6 +719,81 @@
   );
 
   useEffect(() => {
+    const trimmedPrompt = prompt.trim();
+
+    if (suppressSearchRef.current) {
+      suppressSearchRef.current = false;
+      return;
+    }
+
+    if (!trimmedPrompt || !isPromptFocused) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
+    if (searchTimeoutRef.current) {
+      window.clearTimeout(searchTimeoutRef.current);
+    }
+
+    setIsTypeaheadLoading(true);
+    searchTimeoutRef.current = window.setTimeout(async () => {
+      abortSearchRequest();
+      const controller = new AbortController();
+      searchControllerRef.current = controller;
+
+      try {
+        const headers = {};
+        const restNonce = getRestNonce();
+        if (restNonce) {
+          headers['X-WP-Nonce'] = restNonce;
+        }
+
+        const endpoint = getSearchEndpoint();
+        const url = new URL(endpoint, window.location.origin);
+        url.searchParams.set('q', trimmedPrompt);
+        url.searchParams.set('types', SEARCH_TYPES.join(','));
+
+        const response = await fetch(url.toString(), {
+          method: 'GET',
+          headers,
+          credentials: 'same-origin',
+          signal: controller.signal,
+        });
+
+        const data = await response.json().catch(() => null);
+        if (!response.ok || data?.success === false) {
+          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
+        }
+
+        const payload = data?.data?.results || {};
+        const nextResults = getEmptySearchResults();
+        SEARCH_TYPES.forEach((type) => {
+          nextResults[type] = Array.isArray(payload[type]) ? payload[type] : [];
+        });
+
+        setSearchResults(nextResults);
+        setActiveSuggestionIndex(-1);
+        setIsTypeaheadOpen(true);
+      } catch (error) {
+        if (error?.name === 'AbortError') {
+          return;
+        }
+        setSearchResults(getEmptySearchResults());
+      } finally {
+        setIsTypeaheadLoading(false);
+      }
+    }, 150);
+
+    return () => {
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -638,6 +968,18 @@
 
   useEffect(() => {
     return () => {
+      abortSearchRequest();
+      if (searchTimeoutRef.current) {
+        window.clearTimeout(searchTimeoutRef.current);
+      }
+      if (promptBlurTimeoutRef.current) {
+        window.clearTimeout(promptBlurTimeoutRef.current);
+      }
+    };
+  }, [abortSearchRequest]);
+
+  useEffect(() => {
+    return () => {
       if (exportTimerRef.current) {
         window.clearTimeout(exportTimerRef.current);
       }
@@ -651,6 +993,8 @@
       return;
     }
 
+    setIsTypeaheadOpen(false);
+    setActiveSuggestionIndex(-1);
     abortActiveRequest();
     const controller = new AbortController();
     requestControllerRef.current = controller;
@@ -752,6 +1096,13 @@
   const hasDraft = Boolean(response && !errorMessage);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
+  const showTypeahead =
+    isTypeaheadOpen &&
+    isPromptFocused &&
+    prompt.trim().length > 0 &&
+    (isTypeaheadLoading || hasSuggestions);
+  const activeSuggestionId =
+    activeSuggestionIndex >= 0 ? `agentwp-suggestion-${activeSuggestionIndex}` : undefined;
   const exportLabel =
     exportStatus === 'exporting' ? 'Exporting...' : exportStatus === 'exported' ? 'Exported' : 'Export PNG';
   const periodData = useMemo(
@@ -1110,23 +1461,92 @@
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
                 </label>
-                <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
-                  <input
-                    id="agentwp-prompt"
-                    ref={inputRef}
-                    type="text"
-                    value={prompt}
-                    onChange={(event) => setPrompt(event.target.value)}
-                    placeholder="Ask AgentWP anything..."
-                    className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
-                  />
-                  <button
-                    type="submit"
-                    disabled={loading || !prompt.trim()}
-                    className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
-                  >
-                    {loading ? 'Sending' : 'Send'}
-                  </button>
+                <div className="relative">
+                  <div className="flex items-center gap-3 rounded-2xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 focus-within:border-sky-400/80">
+                    <input
+                      id="agentwp-prompt"
+                      ref={inputRef}
+                      type="text"
+                      value={prompt}
+                      onChange={handlePromptChange}
+                      onKeyDown={handlePromptKeyDown}
+                      onFocus={handlePromptFocus}
+                      onBlur={handlePromptBlur}
+                      aria-expanded={showTypeahead}
+                      aria-controls="agentwp-typeahead"
+                      aria-activedescendant={activeSuggestionId}
+                      placeholder="Ask AgentWP anything..."
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                    />
+                    <button
+                      type="submit"
+                      disabled={loading || !prompt.trim()}
+                      className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
+                    >
+                      {loading ? 'Sending' : 'Send'}
+                    </button>
+                  </div>
+
+                  {showTypeahead && (
+                    <div
+                      id="agentwp-typeahead"
+                      role="listbox"
+                      className="absolute left-0 right-0 z-30 mt-2 max-h-80 overflow-y-auto rounded-2xl border border-slate-700/70 bg-slate-950/95 p-3 shadow-xl backdrop-blur"
+                    >
+                      {isTypeaheadLoading && (
+                        <div className="px-2 pb-2 text-xs uppercase tracking-[0.3em] text-slate-500">
+                          Searching...
+                        </div>
+                      )}
+                      {suggestionGroups.map(({ type, items }) => {
+                        if (!items.length) {
+                          return null;
+                        }
+                        const config = TYPEAHEAD_CONFIG[type];
+                        return (
+                          <div key={type} className="pb-3 last:pb-0">
+                            <div className="flex items-center gap-2 px-2 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-500">
+                              <span className="text-slate-400">{config?.label || type}</span>
+                            </div>
+                            <div className="mt-2 space-y-1">
+                              {items.map((item) => {
+                                const isActive = item._index === activeSuggestionIndex;
+                                return (
+                                  <button
+                                    key={`${item.type}-${item.id}-${item._index}`}
+                                    id={`agentwp-suggestion-${item._index}`}
+                                    type="button"
+                                    role="option"
+                                    aria-selected={isActive}
+                                    onMouseDown={(event) => event.preventDefault()}
+                                    onMouseEnter={() => setActiveSuggestionIndex(item._index)}
+                                    onClick={() => handleSuggestionSelect(item)}
+                                    className={`flex w-full items-start gap-3 rounded-xl border px-3 py-2 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 ${
+                                      isActive
+                                        ? 'border-sky-400/70 bg-slate-900/80 text-white'
+                                        : 'border-transparent bg-slate-950/30 text-slate-200 hover:border-slate-600/60 hover:bg-slate-900/70'
+                                    }`}
+                                  >
+                                    <span className="mt-1 text-slate-400">{config?.icon}</span>
+                                    <span className="flex-1">
+                                      <span className="block text-sm font-semibold text-slate-100">
+                                        {renderHighlightedText(item.primary || '', prompt)}
+                                      </span>
+                                      {item.secondary ? (
+                                        <span className="block text-xs text-slate-400">
+                                          {renderHighlightedText(item.secondary, prompt)}
+                                        </span>
+                                      ) : null}
+                                    </span>
+                                  </button>
+                                );
+                              })}
+                            </div>
+                          </div>
+                        );
+                      })}
+                    </div>
+                  )}
                 </div>
               </form>
 
diff --git a/src/Plugin.php b/src/Plugin.php
index bd440acbba688b48814b89a88c4bca62856fc56b..7b6c18273f1ad41bddf30b6343d9e938df1c54c3
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -54,6 +54,10 @@
 		add_option( self::OPTION_DRAFT_TTL, 10, '', false );
 		add_option( self::OPTION_API_KEY, '', '', false );
 		add_option( self::OPTION_API_KEY_LAST4, '', '', false );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::activate();
+		}
 	}
 
 	/**
@@ -74,6 +78,10 @@
 		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_assets' ) );
 		add_action( 'rest_api_init', array( $this, 'register_rest_routes' ) );
 		add_filter( 'rest_post_dispatch', array( $this, 'format_rest_response' ), 10, 3 );
+
+		if ( class_exists( 'AgentWP\\Search\\Index' ) ) {
+			Search\Index::init();
+		}
 	}
 
 	/**
@@ -194,6 +202,11 @@
 			$controller = new Rest\HealthController();
 			$controller->register_routes();
 		}
+
+		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
+			$controller = new Rest\SearchController();
+			$controller->register_routes();
+		}
 	}
 
 	/**
diff --git a/src/Search/Index.php b/src/Search/Index.php
index ab1f891edcf4e36d7d2c0d6271bf122c2e58e383..39cce220cbf2c07bcdbdb3a7d740b40bdc6f6479
--- a/src/Search/Index.php
+++ b/src/Search/Index.php
@@ -7,8 +7,6 @@
 
 namespace AgentWP\Search;
 
-use AgentWP\Plugin;
-
 class Index {
 	const TABLE           = 'agentwp_search_index';
 	const VERSION         = '1.0';

tokens used
121,421
