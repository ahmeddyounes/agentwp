---

**Status: DONE**

## Summary of changes

Modified `.github/workflows/release.yml`:
- Removed the incorrect `rsync -a react/dist/ assets/` step from the "Build frontend assets" step
- The Vite build already outputs directly to `assets/build/` (as configured in `react/vite.config.ts` with `outDir: resolve(__dirname, '../assets/build')`)
- The existing rsync package step already includes the `assets/` directory in the release zip

The old workflow was copying from a non-existent or stale `react/dist/` directory to `assets/`, which was incorrect. The Vite config outputs build artifacts to `assets/build/`, and the `AssetManager` looks for the manifest at `assets/build/.vite/manifest.json`.

## How to verify

1. **Trigger a test release** (or test locally):
   ```bash
   cd /Users/ahmedyounis/Documents/Projects/agentwp
   # Build frontend
   npm ci --prefix react && npm --prefix react run build
   # Check assets are in correct location
   ls -la assets/build/.vite/manifest.json
   ls -la assets/build/assets/
   ```

2. **Create a test zip and verify contents**:
   ```bash
   mkdir -p /tmp/release-test/agentwp
   rsync -a --exclude '.git' --exclude '.github' --exclude 'react' --exclude 'node_modules' --exclude 'tests' ./ /tmp/release-test/agentwp/
   ls -la /tmp/release-test/agentwp/assets/build/.vite/
   ls -la /tmp/release-test/agentwp/assets/build/assets/
   ```

3. **Install plugin from zip** and verify it loads correctly in WordPress admin

## Risks / follow-ups

- **Low risk**: The stale `react/dist/` directory should be deleted from the repository to avoid confusion
- **Note**: The legacy fallback files (`assets/agentwp-admin.js`, `assets/agentwp-admin.css`) are still present for backwards compatibility if manifest is unavailable
