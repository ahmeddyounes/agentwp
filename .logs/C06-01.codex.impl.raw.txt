Status: DONE

Summary of changes
- Added `check:types` and a dedicated checker script to centralize OpenAPI type drift detection (`react/package.json`, `react/scripts/check-openapi-types.cjs`).
- Updated local validation and CI to use the shared check (`scripts/validate.sh`, `.github/workflows/ci.yml`).
- Documented the verification workflow in `docs/DEVELOPER.md`.

How to verify (exact commands)
- `cd react && npm run check:types`
- `./scripts/validate.sh --node`

Risks / follow-ups
- `npm run check:types` regenerates `react/src/types/api.ts`; commit the file if it changes.
- The check relies on `git diff`; ensure git is available in the environment.

OpenAI Codex v0.87.0 (research preview)
--------
workdir: /Users/ahmedyounis/Documents/Projects/agentwp
model: gpt-5.2-codex
provider: openai
approval: never
sandbox: workspace-write [workdir, /tmp, $TMPDIR]
reasoning effort: high
reasoning summaries: auto
session id: 019bd187-eb3e-7582-8f66-1b6d62f33cd5
--------
user
You are implementing task C06-01 in this git repository.

1) Read the spec: .plans/C06-01.md
2) Read handoff/context: .t2/handoff/C06-01.md

Implement the spec fully.

Verification commands (run if non-empty):
- format: 
- lint: 
- test: 

In your final response, include:
- Status: DONE or NEEDS-REVIEW
- Summary of changes
- How to verify (exact commands)
- Risks / follow-ups

mcp startup: no servers

thinking
**Preparing to inspect spec files**

I'm getting ready to read the specification or handoff documents using file listing and search to understand the requirements before making any plans.
exec
/bin/zsh -lc ls in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 63ms:
agentwp.php
assets
composer.json
composer.lock
docker
docker-compose.demo.yml
docker-compose.yml
docs
includes
languages
node_modules
package-lock.json
package.json
phpcs.xml
phpstan
phpstan.neon
phpunit.xml.dist
plan_tasks.csv
playwright.config.cjs
react

thinking
**Reading plan and handoff files**
exec
/bin/zsh -lc 'ls .plans' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 79ms:
C00-01.md
C00-02.md
C00-03.md
C01-01.md
C01-02.md
C01-03.md
C01-04.md
C01-05.md
C01-06.md
C01-07.md
C02-01.md
C02-02.md
C02-03.md
C02-04.md
C02-05.md
C02-06.md
C02-07.md
C02-08.md
C02-09.md
C03-01.md
exec
/bin/zsh -lc 'cat .plans/C06-01.md' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
# C06-01 — Automate OpenAPI → TypeScript generation verification

Ensure `react/src/types/api.ts` is generated from `docs/openapi.json` deterministically; add/verify a `react` script (e.g., `npm run generate:types`) and add a verification step (CI or local script) that fails when generated types are stale. Document in `docs/DEVELOPER.md`. Acceptance: type generation drift is caught automatically.

thinking
**Handing off task**
exec
/bin/zsh -lc 'cat .t2/handoff/C06-01.md' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 69ms:
# Handoff: C06-01

Created: 2026-01-17T19:37:21.813147Z

Spec: .plans/C06-01.md


## 2026-01-17T19:44:47.295356Z — claude — impl

Command:
```
claude -p --output-format json --model opus --permission-mode acceptEdits --dangerously-skip-permissions You are implementing task C06-01 in this git repository.

1) Read the spec: .plans/C06-01.md
2) Read handoff/context: .t2/handoff/C06-01.md

Implement the spec fully.

Verification commands (run if non-empty):
- format: 

thinking
**Identifying implementation target and scanning docs**

I'm focusing on implementing C06-01 and checking the repo state for existing scripts or guidance. I'll inspect docs/DEVELOPER.md and React package files for relevant info.
exec
/bin/zsh -lc 'rg -n "openapi|generate:types|api.ts" -S react package.json docs' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 36ms:
react/src/api/AgentWPClient.ts:447:   * Note: Analytics endpoint is not yet defined in the OpenAPI spec.
react/src/hooks/useAnalytics.ts:5:// Analytics endpoint response data (not yet in OpenAPI spec)
react/src/hooks/useAnalytics.ts:13:      // Cast to the expected type since analytics endpoint is not in OpenAPI spec
docs/openapi.json:2:  "openapi": "3.0.3",
docs/openapi.json:6:    "description": "OpenAPI specification for AgentWP REST endpoints. Updated for Phase 3 DTO refactoring."
react/package.json:18:    "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
react/package.json:54:    "openapi-typescript": "^7.10.1",
react/src/types/api.ts:2: * This file was auto-generated by openapi-typescript.
docs/API.md:7:For the full OpenAPI 3.0 specification, see [openapi.json](./openapi.json).
docs/ARCHITECTURE-IMPROVEMENT-PLAN.md:254:- Ensure `docs/API.md` + `docs/openapi.json` + generated TS types stay aligned (automation).
docs/DEVELOPER.md:226:- OpenAPI spec validation
docs/DEVELOPER.md:229:- OpenAPI types generation check
docs/DEVELOPER.md:744:3. **Add the OpenAPI annotation** to the controller method for spec sync:
docs/DEVELOPER.md:750: * @openapi GET /agentwp/v1/my-feature
docs/DEVELOPER.md:758:4. **Update `docs/openapi.json`** with the endpoint definition and run validation:
docs/DEVELOPER.md:761:composer run openapi:validate
docs/DEVELOPER.md:1062:## OpenAPI spec
docs/DEVELOPER.md:1064:The OpenAPI spec lives in `docs/openapi.json`. It documents the REST API and is kept in sync with controller annotations.
docs/DEVELOPER.md:1068:Each REST endpoint method should have an `@openapi` annotation in its PHPDoc:
docs/DEVELOPER.md:1074: * @openapi POST /agentwp/v1/intent

thinking
**Inspecting developer docs for type check**
exec
/bin/zsh -lc "sed -n '210,260p' docs/DEVELOPER.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 73ms:
This scans all `docs/**/*.md` files for relative markdown links and fails if any targets are missing or renamed. Run this after renaming or deleting documentation files to catch broken links.

### Local CI validation

To reproduce CI checks locally before pushing, run the validation script from the repository root:

```bash
./scripts/validate.sh
```

This single command runs all the checks that CI runs:

**PHP checks:**
- PHPCS (WordPress coding standards)
- PHPUnit tests
- PHPStan static analysis
- OpenAPI spec validation

**Node/React checks:**
- OpenAPI types generation check

thinking
**Reviewing validation script**

I'll examine scripts/validate.sh to understand how it verifies OpenAPI types generation.
exec
/bin/zsh -lc "sed -n '1,240p' scripts/validate.sh" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 62ms:
#!/usr/bin/env bash
#
# validate.sh — Run all CI checks locally
#
# This script runs the same PHP and React checks that CI runs, allowing
# contributors to reproduce CI locally with one command.
#
# Usage:
#   ./scripts/validate.sh          # Run all checks
#   ./scripts/validate.sh --php    # Run only PHP checks
#   ./scripts/validate.sh --node   # Run only Node/React checks
#   ./scripts/validate.sh --help   # Show help
#

set -euo pipefail

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
ROOT_DIR="$(cd "$SCRIPT_DIR/.." && pwd)"

# Colors for output
exec
/bin/zsh -lc "sed -n '240,480p' scripts/validate.sh" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 71ms:
    fi

    print_header "AgentWP Local Validation"
    echo "Replicating CI checks locally..."

    if $run_php; then
        run_php_checks
    fi

    if $run_node; then
        run_node_checks
    fi

    print_summary
}

main "$@"

thinking
**Confirming type generation and verification scripts**

The react package has a generate:types script, but no explicit verification step to fail on stale generated types. The DEVELOPER.md mentions generation but might lack details on verification and determinism enforcement, so I'll check the api.ts header for generation clues and consider adding a verification script if missing.
exec
/bin/zsh -lc "sed -n '1,120p' react/src/types/api.ts" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 72ms:
/**
 * This file was auto-generated by openapi-typescript.
 * Do not make direct changes to the file.
 */

export interface paths {
  '/agentwp/v1/intent': {
    parameters: {
      query?: never;
      header?: never;
      path?: never;
      cookie?: never;
    };
    get?: never;
    put?: never;
    /** Submit an intent */
    post: {
      parameters: {
        query?: never;
        header?: never;

thinking
**Checking for CI or validation scripts**

I'm searching for GitHub Actions or other CI setups to see if validation runs automatically beyond the local validate script.
exec
/bin/zsh -lc 'rg -n "validate.sh|generate:types|OpenAPI types" -S .github scripts react docs' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 82ms:
docs/DEVELOPER.md:217:./scripts/validate.sh
docs/DEVELOPER.md:229:- OpenAPI types generation check
docs/DEVELOPER.md:239:./scripts/validate.sh --php    # Run only PHP checks
docs/DEVELOPER.md:240:./scripts/validate.sh --node   # Run only Node/React checks
docs/DEVELOPER.md:241:./scripts/validate.sh --help   # Show help
docs/DEVELOPER.md:1126:npm run generate:types
docs/DEVELOPER.md:1134:2. Run `npm run generate:types` in the `react/` directory
react/package.json:18:    "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
scripts/validate.sh:3:# validate.sh — Run all CI checks locally
scripts/validate.sh:9:#   ./scripts/validate.sh          # Run all checks
scripts/validate.sh:10:#   ./scripts/validate.sh --php    # Run only PHP checks
scripts/validate.sh:11:#   ./scripts/validate.sh --node   # Run only Node/React checks
scripts/validate.sh:12:#   ./scripts/validate.sh --help   # Show help
scripts/validate.sh:160:    # Check OpenAPI types are up to date
scripts/validate.sh:161:    print_step "Checking OpenAPI types are up to date..."
scripts/validate.sh:162:    npm run generate:types
scripts/validate.sh:164:        print_success "OpenAPI types are up to date"
scripts/validate.sh:166:        print_error "OpenAPI types are out of date. Run 'npm run generate:types' and commit."
scripts/validate.sh:167:        FAILURES+=("OpenAPI types check")
.github/workflows/ci.yml:108:      - name: Check OpenAPI types are up to date

thinking
**Opening CI workflow file**
exec
/bin/zsh -lc "sed -n '80,150p' .github/workflows/ci.yml" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
          fi

  node:
    name: node
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: react
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: "20"
          cache: npm
          cache-dependency-path: react/package-lock.json

      - name: Install Node dependencies

thinking
**Reviewing openapi types generation docs**

I'm verifying if the docs cover how to check for stale openapi types generation, focusing on the developer docs section that mentions this check but may lack verification details.
exec
/bin/zsh -lc "sed -n '1110,1160p' docs/DEVELOPER.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 69ms:

### Adding a new endpoint

1. Create the controller method with `@openapi` annotation
2. Add the path and method to `docs/openapi.json` under `paths`
3. Define request/response schemas in `components/schemas` if needed
4. Run `composer run openapi:validate` to verify sync

### TypeScript type generation

The React frontend can generate TypeScript types from the OpenAPI spec to ensure type safety for API calls.

**Generating types:**

```bash
cd react
npm run generate:types
```

This generates `react/src/types/api.ts` from `docs/openapi.json` using [openapi-typescript](https://openapi-ts.dev/).


thinking
**Verifying CI check mention in docs**

The repo already has deterministic generation and a CI verification step to fail on stale types, but the docs lack explicit mention that CI enforces this; next, I'll clarify that in the developer documentation.
thinking
**Confirming docs update details**

The docs mention local CI checks but lack explicit instructions on the generate and verify scripts; next, I'll add clear references to the `generate:types` and verification scripts in the developer guide.
exec
/bin/zsh -lc 'git status --short' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 65ms:
 M .logs/C05-04.gitcommit.txt
 M .plans/C06-01.md
 M .t2/state.json


thinking
**Confirming spec completeness**

The spec implementation appears complete with openapi-typescript pinned and CI validation in place; next I'll verify if generation is fully deterministic or if adding explicit sorting or verification is still needed.
thinking
**Verifying existing type generation script**

The `react/package.json` already includes a `generate:types` script, indicating the spec for automating OpenAPI-to-TypeScript generation is met; next I'll confirm no modifications are necessary.
exec
/bin/zsh -lc 'cat react/package.json' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 65ms:
{
  "name": "agentwp-react",
  "private": true,
  "version": "0.1.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc --noEmit && vite build",
    "preview": "vite preview",
    "test": "vitest run --coverage",
    "test:watch": "vitest",
    "test:ui": "vitest --ui",
    "typecheck": "tsc --noEmit",
    "lint": "eslint .",
    "lint:fix": "eslint . --fix",
    "format": "prettier --write .",
    "format:check": "prettier --check .",
    "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
    "prepare": "cd .. && husky react/.husky"
  },


thinking
**Verifying generated types CI check and docs**

The existing CI and validation script already check for stale generated types, and docs mention this check but could be clarified with explicit commands like `npm run generate:types`. No changes seem strictly required since the spec is effectively satisfied.
thinking
**Considering adding a dedicated check-types script**

Current CI and validation scripts check for stale generated types via manual diff, but no centralized npm script enforces this; adding a dedicated `check:types` script running generation plus diff check could better meet spec clarity and maintainability.
exec
/bin/zsh -lc 'rg -n "check:types|types:check|openapi types" -S react scripts .github' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 71ms:
.github/workflows/ci.yml:108:      - name: Check OpenAPI types are up to date
.github/workflows/ci.yml:113:            echo "✓ OpenAPI types are up to date"
.github/workflows/ci.yml:115:            echo "✗ OpenAPI types are out of date. Run 'npm run generate:types' and commit."
scripts/validate.sh:160:    # Check OpenAPI types are up to date
scripts/validate.sh:161:    print_step "Checking OpenAPI types are up to date..."
scripts/validate.sh:164:        print_success "OpenAPI types are up to date"
scripts/validate.sh:166:        print_error "OpenAPI types are out of date. Run 'npm run generate:types' and commit."
scripts/validate.sh:167:        FAILURES+=("OpenAPI types check")


thinking
**Assessing OpenAPI types check documentation**

The existing docs mention OpenAPI type generation and CI validation but lack clear details on the automatic staleness check; I'll plan to add a concise note about the validation script or CI step to docs/DEVELOPER.md for completeness.
thinking
**Planning centralized OpenAPI types check script**

I'll add a new `check:types` npm script running generation plus a node-based diff check with clear messages, then update CI and validate.sh to call it, centralizing verification logic and improving feedback; this requires adding a small JS check script in `react/scripts`.
exec
/bin/zsh -lc 'ls react' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 61ms:
components
coverage
dist
eslint.config.js
index.html
node_modules
package-lock.json
package.json
postcss.config.js
src
tailwind.config.js
tests
tsconfig.json
vite.config.ts
vitest.config.ts


thinking
**Confirming node -e script module behavior**

I verified that `node -e` runs code as CommonJS by default even with `"type": "module"` in package.json, so using `require` inside the inline script for git diff checks should work without extra flags.
thinking
**Implementing dedicated OpenAPI type check script**

I'll create a CommonJS script for type diff checking to avoid Node ESM issues and call it from package.json, updating validate and CI to run it; documentation will note the check script regenerates types before diff and advises committing changes, using ASCII-only output in new files per spec.
file update
A /Users/ahmedyounis/Documents/Projects/agentwp/react/scripts/check-openapi-types.cjs
#!/usr/bin/env node

const { execSync } = require('child_process');

try {
  execSync('git diff --exit-code src/types/api.ts', { stdio: 'inherit' });
  console.log('OK: OpenAPI types are up to date');
} catch (error) {
  console.error("ERROR: OpenAPI types are out of date. Run 'npm run generate:types' and commit.");
  process.exit(1);
}
apply_patch(auto_approved=true) exited 0 in 42ms:
Success. Updated the following files:
A react/scripts/check-openapi-types.cjs
file update:
diff --git a/react/scripts/check-openapi-types.cjs b/react/scripts/check-openapi-types.cjs
new file mode 100644
index 0000000000000000000000000000000000000000..a3f93ffc41676b2c942bd36cd63463137fdb5772
--- /dev/null
+++ b/react/scripts/check-openapi-types.cjs
@@ -0,0 +1,11 @@
+#!/usr/bin/env node
+
+const { execSync } = require('child_process');
+
+try {
+  execSync('git diff --exit-code src/types/api.ts', { stdio: 'inherit' });
+  console.log('OK: OpenAPI types are up to date');
+} catch (error) {
+  console.error("ERROR: OpenAPI types are out of date. Run 'npm run generate:types' and commit.");
+  process.exit(1);
+}

file update:
diff --git a/react/scripts/check-openapi-types.cjs b/react/scripts/check-openapi-types.cjs
new file mode 100644
index 0000000000000000000000000000000000000000..a3f93ffc41676b2c942bd36cd63463137fdb5772
--- /dev/null
+++ b/react/scripts/check-openapi-types.cjs
@@ -0,0 +1,11 @@
+#!/usr/bin/env node
+
+const { execSync } = require('child_process');
+
+try {
+  execSync('git diff --exit-code src/types/api.ts', { stdio: 'inherit' });
+  console.log('OK: OpenAPI types are up to date');
+} catch (error) {
+  console.error("ERROR: OpenAPI types are out of date. Run 'npm run generate:types' and commit.");
+  process.exit(1);
+}


thinking
**Preparing to add script to package.json**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/package.json
@@ -18,2 +18,3 @@
     "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
+    "check:types": "npm run generate:types && node scripts/check-openapi-types.cjs",
     "prepare": "cd .. && husky react/.husky"
apply_patch(auto_approved=true) exited 0 in 42ms:
Success. Updated the following files:
M react/package.json
file update:
diff --git a/react/package.json b/react/package.json
index 0a4dbad767e0324048bce3990cba288cc2c37e9d..717ddf8ca75707e3315d11ee35dbf8b270b95f20
--- a/react/package.json
+++ b/react/package.json
@@ -16,6 +16,7 @@
     "format": "prettier --write .",
     "format:check": "prettier --check .",
     "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
+    "check:types": "npm run generate:types && node scripts/check-openapi-types.cjs",
     "prepare": "cd .. && husky react/.husky"
   },
   "dependencies": {
diff --git a/react/scripts/check-openapi-types.cjs b/react/scripts/check-openapi-types.cjs
new file mode 100644
index 0000000000000000000000000000000000000000..a3f93ffc41676b2c942bd36cd63463137fdb5772
--- /dev/null
+++ b/react/scripts/check-openapi-types.cjs
@@ -0,0 +1,11 @@
+#!/usr/bin/env node
+
+const { execSync } = require('child_process');
+
+try {
+  execSync('git diff --exit-code src/types/api.ts', { stdio: 'inherit' });
+  console.log('OK: OpenAPI types are up to date');
+} catch (error) {
+  console.error("ERROR: OpenAPI types are out of date. Run 'npm run generate:types' and commit.");
+  process.exit(1);
+}

file update:
diff --git a/react/package.json b/react/package.json
index 0a4dbad767e0324048bce3990cba288cc2c37e9d..717ddf8ca75707e3315d11ee35dbf8b270b95f20
--- a/react/package.json
+++ b/react/package.json
@@ -16,6 +16,7 @@
     "format": "prettier --write .",
     "format:check": "prettier --check .",
     "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
+    "check:types": "npm run generate:types && node scripts/check-openapi-types.cjs",
     "prepare": "cd .. && husky react/.husky"
   },
   "dependencies": {
diff --git a/react/scripts/check-openapi-types.cjs b/react/scripts/check-openapi-types.cjs
new file mode 100644
index 0000000000000000000000000000000000000000..a3f93ffc41676b2c942bd36cd63463137fdb5772
--- /dev/null
+++ b/react/scripts/check-openapi-types.cjs
@@ -0,0 +1,11 @@
+#!/usr/bin/env node
+
+const { execSync } = require('child_process');
+
+try {
+  execSync('git diff --exit-code src/types/api.ts', { stdio: 'inherit' });
+  console.log('OK: OpenAPI types are up to date');
+} catch (error) {
+  console.error("ERROR: OpenAPI types are out of date. Run 'npm run generate:types' and commit.");
+  process.exit(1);
+}


thinking
**Refactoring validation script**

I'm replacing the inline block running generate:types and git diff around line 160 with a call to improve script structure.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/scripts/validate.sh
@@ -161,9 +161,3 @@
     print_step "Checking OpenAPI types are up to date..."
-    npm run generate:types
-    if git diff --exit-code src/types/api.ts > /dev/null 2>&1; then
-        print_success "OpenAPI types are up to date"
-    else
-        print_error "OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-        FAILURES+=("OpenAPI types check")
-    fi
+    run_check "OpenAPI types check" npm run check:types || true
 
apply_patch(auto_approved=true) exited 0 in 44ms:
Success. Updated the following files:
M scripts/validate.sh
file update:
diff --git a/react/package.json b/react/package.json
index 0a4dbad767e0324048bce3990cba288cc2c37e9d..717ddf8ca75707e3315d11ee35dbf8b270b95f20
--- a/react/package.json
+++ b/react/package.json
@@ -16,6 +16,7 @@
     "format": "prettier --write .",
     "format:check": "prettier --check .",
     "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
+    "check:types": "npm run generate:types && node scripts/check-openapi-types.cjs",
     "prepare": "cd .. && husky react/.husky"
   },
   "dependencies": {
diff --git a/react/scripts/check-openapi-types.cjs b/react/scripts/check-openapi-types.cjs
new file mode 100644
index 0000000000000000000000000000000000000000..a3f93ffc41676b2c942bd36cd63463137fdb5772
--- /dev/null
+++ b/react/scripts/check-openapi-types.cjs
@@ -0,0 +1,11 @@
+#!/usr/bin/env node
+
+const { execSync } = require('child_process');
+
+try {
+  execSync('git diff --exit-code src/types/api.ts', { stdio: 'inherit' });
+  console.log('OK: OpenAPI types are up to date');
+} catch (error) {
+  console.error("ERROR: OpenAPI types are out of date. Run 'npm run generate:types' and commit.");
+  process.exit(1);
+}
diff --git a/scripts/validate.sh b/scripts/validate.sh
index 213b4dd58ad5b3b651dcc534a91f3c62d83f9080..3a44a5ebf5cefdce3bd4f1b6adb10624c9518bbc
--- a/scripts/validate.sh
+++ b/scripts/validate.sh
@@ -159,13 +159,7 @@
 
     # Check OpenAPI types are up to date
     print_step "Checking OpenAPI types are up to date..."
-    npm run generate:types
-    if git diff --exit-code src/types/api.ts > /dev/null 2>&1; then
-        print_success "OpenAPI types are up to date"
-    else
-        print_error "OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-        FAILURES+=("OpenAPI types check")
-    fi
+    run_check "OpenAPI types check" npm run check:types || true
 
     # TypeScript check
     print_step "Running TypeScript check..."

file update:
diff --git a/react/package.json b/react/package.json
index 0a4dbad767e0324048bce3990cba288cc2c37e9d..717ddf8ca75707e3315d11ee35dbf8b270b95f20
--- a/react/package.json
+++ b/react/package.json
@@ -16,6 +16,7 @@
     "format": "prettier --write .",
     "format:check": "prettier --check .",
     "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
+    "check:types": "npm run generate:types && node scripts/check-openapi-types.cjs",
     "prepare": "cd .. && husky react/.husky"
   },
   "dependencies": {
diff --git a/react/scripts/check-openapi-types.cjs b/react/scripts/check-openapi-types.cjs
new file mode 100644
index 0000000000000000000000000000000000000000..a3f93ffc41676b2c942bd36cd63463137fdb5772
--- /dev/null
+++ b/react/scripts/check-openapi-types.cjs
@@ -0,0 +1,11 @@
+#!/usr/bin/env node
+
+const { execSync } = require('child_process');
+
+try {
+  execSync('git diff --exit-code src/types/api.ts', { stdio: 'inherit' });
+  console.log('OK: OpenAPI types are up to date');
+} catch (error) {
+  console.error("ERROR: OpenAPI types are out of date. Run 'npm run generate:types' and commit.");
+  process.exit(1);
+}
diff --git a/scripts/validate.sh b/scripts/validate.sh
index 213b4dd58ad5b3b651dcc534a91f3c62d83f9080..3a44a5ebf5cefdce3bd4f1b6adb10624c9518bbc
--- a/scripts/validate.sh
+++ b/scripts/validate.sh
@@ -159,13 +159,7 @@
 
     # Check OpenAPI types are up to date
     print_step "Checking OpenAPI types are up to date..."
-    npm run generate:types
-    if git diff --exit-code src/types/api.ts > /dev/null 2>&1; then
-        print_success "OpenAPI types are up to date"
-    else
-        print_error "OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-        FAILURES+=("OpenAPI types check")
-    fi
+    run_check "OpenAPI types check" npm run check:types || true
 
     # TypeScript check
     print_step "Running TypeScript check..."


thinking
**Updating CI to run type checks**

I'm modifying the CI workflow to run `npm run check:types` instead of the previous script and removing the inline diff step, using `apply_patch` instead.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/.github/workflows/ci.yml
@@ -109,10 +109,3 @@
         if: hashFiles('react/package.json') != ''
-        run: |
-          npm run generate:types
-          if git diff --exit-code src/types/api.ts; then
-            echo "✓ OpenAPI types are up to date"
-          else
-            echo "✗ OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-            exit 1
-          fi
+        run: npm run check:types
 
apply_patch(auto_approved=true) exited 0 in 53ms:
Success. Updated the following files:
M .github/workflows/ci.yml
file update:
diff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml
index fe92ddead61fb582b7c9a1f0c0112e5c9f52ff91..321c247337d8b1f96522802e9e1a9629f585fea3
--- a/.github/workflows/ci.yml
+++ b/.github/workflows/ci.yml
@@ -107,14 +107,7 @@
 
       - name: Check OpenAPI types are up to date
         if: hashFiles('react/package.json') != ''
-        run: |
-          npm run generate:types
-          if git diff --exit-code src/types/api.ts; then
-            echo "✓ OpenAPI types are up to date"
-          else
-            echo "✗ OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-            exit 1
-          fi
+        run: npm run check:types
 
       - name: TypeScript Check
         if: hashFiles('react/package.json') != ''
diff --git a/react/package.json b/react/package.json
index 0a4dbad767e0324048bce3990cba288cc2c37e9d..717ddf8ca75707e3315d11ee35dbf8b270b95f20
--- a/react/package.json
+++ b/react/package.json
@@ -16,6 +16,7 @@
     "format": "prettier --write .",
     "format:check": "prettier --check .",
     "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
+    "check:types": "npm run generate:types && node scripts/check-openapi-types.cjs",
     "prepare": "cd .. && husky react/.husky"
   },
   "dependencies": {
diff --git a/react/scripts/check-openapi-types.cjs b/react/scripts/check-openapi-types.cjs
new file mode 100644
index 0000000000000000000000000000000000000000..a3f93ffc41676b2c942bd36cd63463137fdb5772
--- /dev/null
+++ b/react/scripts/check-openapi-types.cjs
@@ -0,0 +1,11 @@
+#!/usr/bin/env node
+
+const { execSync } = require('child_process');
+
+try {
+  execSync('git diff --exit-code src/types/api.ts', { stdio: 'inherit' });
+  console.log('OK: OpenAPI types are up to date');
+} catch (error) {
+  console.error("ERROR: OpenAPI types are out of date. Run 'npm run generate:types' and commit.");
+  process.exit(1);
+}
diff --git a/scripts/validate.sh b/scripts/validate.sh
index 213b4dd58ad5b3b651dcc534a91f3c62d83f9080..3a44a5ebf5cefdce3bd4f1b6adb10624c9518bbc
--- a/scripts/validate.sh
+++ b/scripts/validate.sh
@@ -159,13 +159,7 @@
 
     # Check OpenAPI types are up to date
     print_step "Checking OpenAPI types are up to date..."
-    npm run generate:types
-    if git diff --exit-code src/types/api.ts > /dev/null 2>&1; then
-        print_success "OpenAPI types are up to date"
-    else
-        print_error "OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-        FAILURES+=("OpenAPI types check")
-    fi
+    run_check "OpenAPI types check" npm run check:types || true
 
     # TypeScript check
     print_step "Running TypeScript check..."

file update:
diff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml
index fe92ddead61fb582b7c9a1f0c0112e5c9f52ff91..321c247337d8b1f96522802e9e1a9629f585fea3
--- a/.github/workflows/ci.yml
+++ b/.github/workflows/ci.yml
@@ -107,14 +107,7 @@
 
       - name: Check OpenAPI types are up to date
         if: hashFiles('react/package.json') != ''
-        run: |
-          npm run generate:types
-          if git diff --exit-code src/types/api.ts; then
-            echo "✓ OpenAPI types are up to date"
-          else
-            echo "✗ OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-            exit 1
-          fi
+        run: npm run check:types
 
       - name: TypeScript Check
         if: hashFiles('react/package.json') != ''
diff --git a/react/package.json b/react/package.json
index 0a4dbad767e0324048bce3990cba288cc2c37e9d..717ddf8ca75707e3315d11ee35dbf8b270b95f20
--- a/react/package.json
+++ b/react/package.json
@@ -16,6 +16,7 @@
     "format": "prettier --write .",
     "format:check": "prettier --check .",
     "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
+    "check:types": "npm run generate:types && node scripts/check-openapi-types.cjs",
     "prepare": "cd .. && husky react/.husky"
   },
   "dependencies": {
diff --git a/react/scripts/check-openapi-types.cjs b/react/scripts/check-openapi-types.cjs
new file mode 100644
index 0000000000000000000000000000000000000000..a3f93ffc41676b2c942bd36cd63463137fdb5772
--- /dev/null
+++ b/react/scripts/check-openapi-types.cjs
@@ -0,0 +1,11 @@
+#!/usr/bin/env node
+
+const { execSync } = require('child_process');
+
+try {
+  execSync('git diff --exit-code src/types/api.ts', { stdio: 'inherit' });
+  console.log('OK: OpenAPI types are up to date');
+} catch (error) {
+  console.error("ERROR: OpenAPI types are out of date. Run 'npm run generate:types' and commit.");
+  process.exit(1);
+}
diff --git a/scripts/validate.sh b/scripts/validate.sh
index 213b4dd58ad5b3b651dcc534a91f3c62d83f9080..3a44a5ebf5cefdce3bd4f1b6adb10624c9518bbc
--- a/scripts/validate.sh
+++ b/scripts/validate.sh
@@ -159,13 +159,7 @@
 
     # Check OpenAPI types are up to date
     print_step "Checking OpenAPI types are up to date..."
-    npm run generate:types
-    if git diff --exit-code src/types/api.ts > /dev/null 2>&1; then
-        print_success "OpenAPI types are up to date"
-    else
-        print_error "OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-        FAILURES+=("OpenAPI types check")
-    fi
+    run_check "OpenAPI types check" npm run check:types || true
 
     # TypeScript check
     print_step "Running TypeScript check..."


thinking
**Updating docs with type check script**

I'm adding a section in DEVELOPER.md around line 1120 that explains running the new `check:types` script to verify TypeScript types are up to date, noting it's run automatically in CI and validation scripts.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/docs/DEVELOPER.md
@@ -1130,2 +1130,11 @@
 
+**Verifying types are up to date:**
+
+```bash
+cd react
+npm run check:types
+```
+
+This regenerates the types and fails if `react/src/types/api.ts` changes. CI and `./scripts/validate.sh --node` run this check automatically.
+
 **Workflow:**
apply_patch(auto_approved=true) exited 0 in 49ms:
Success. Updated the following files:
M docs/DEVELOPER.md
file update:
diff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml
index fe92ddead61fb582b7c9a1f0c0112e5c9f52ff91..321c247337d8b1f96522802e9e1a9629f585fea3
--- a/.github/workflows/ci.yml
+++ b/.github/workflows/ci.yml
@@ -107,14 +107,7 @@
 
       - name: Check OpenAPI types are up to date
         if: hashFiles('react/package.json') != ''
-        run: |
-          npm run generate:types
-          if git diff --exit-code src/types/api.ts; then
-            echo "✓ OpenAPI types are up to date"
-          else
-            echo "✗ OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-            exit 1
-          fi
+        run: npm run check:types
 
       - name: TypeScript Check
         if: hashFiles('react/package.json') != ''
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index 3f0eaf0babea7ac0fe338777cbdba1109356f7d0..f4e4fda6f5344b134db14abe698d9b65820fb305
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -1128,6 +1128,15 @@
 
 This generates `react/src/types/api.ts` from `docs/openapi.json` using [openapi-typescript](https://openapi-ts.dev/).
 
+**Verifying types are up to date:**
+
+```bash
+cd react
+npm run check:types
+```
+
+This regenerates the types and fails if `react/src/types/api.ts` changes. CI and `./scripts/validate.sh --node` run this check automatically.
+
 **Workflow:**
 
 1. Update `docs/openapi.json` when adding/modifying endpoints
diff --git a/react/package.json b/react/package.json
index 0a4dbad767e0324048bce3990cba288cc2c37e9d..717ddf8ca75707e3315d11ee35dbf8b270b95f20
--- a/react/package.json
+++ b/react/package.json
@@ -16,6 +16,7 @@
     "format": "prettier --write .",
     "format:check": "prettier --check .",
     "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
+    "check:types": "npm run generate:types && node scripts/check-openapi-types.cjs",
     "prepare": "cd .. && husky react/.husky"
   },
   "dependencies": {
diff --git a/react/scripts/check-openapi-types.cjs b/react/scripts/check-openapi-types.cjs
new file mode 100644
index 0000000000000000000000000000000000000000..a3f93ffc41676b2c942bd36cd63463137fdb5772
--- /dev/null
+++ b/react/scripts/check-openapi-types.cjs
@@ -0,0 +1,11 @@
+#!/usr/bin/env node
+
+const { execSync } = require('child_process');
+
+try {
+  execSync('git diff --exit-code src/types/api.ts', { stdio: 'inherit' });
+  console.log('OK: OpenAPI types are up to date');
+} catch (error) {
+  console.error("ERROR: OpenAPI types are out of date. Run 'npm run generate:types' and commit.");
+  process.exit(1);
+}
diff --git a/scripts/validate.sh b/scripts/validate.sh
index 213b4dd58ad5b3b651dcc534a91f3c62d83f9080..3a44a5ebf5cefdce3bd4f1b6adb10624c9518bbc
--- a/scripts/validate.sh
+++ b/scripts/validate.sh
@@ -159,13 +159,7 @@
 
     # Check OpenAPI types are up to date
     print_step "Checking OpenAPI types are up to date..."
-    npm run generate:types
-    if git diff --exit-code src/types/api.ts > /dev/null 2>&1; then
-        print_success "OpenAPI types are up to date"
-    else
-        print_error "OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-        FAILURES+=("OpenAPI types check")
-    fi
+    run_check "OpenAPI types check" npm run check:types || true
 
     # TypeScript check
     print_step "Running TypeScript check..."

file update:
diff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml
index fe92ddead61fb582b7c9a1f0c0112e5c9f52ff91..321c247337d8b1f96522802e9e1a9629f585fea3
--- a/.github/workflows/ci.yml
+++ b/.github/workflows/ci.yml
@@ -107,14 +107,7 @@
 
       - name: Check OpenAPI types are up to date
         if: hashFiles('react/package.json') != ''
-        run: |
-          npm run generate:types
-          if git diff --exit-code src/types/api.ts; then
-            echo "✓ OpenAPI types are up to date"
-          else
-            echo "✗ OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-            exit 1
-          fi
+        run: npm run check:types
 
       - name: TypeScript Check
         if: hashFiles('react/package.json') != ''
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index 3f0eaf0babea7ac0fe338777cbdba1109356f7d0..f4e4fda6f5344b134db14abe698d9b65820fb305
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -1128,6 +1128,15 @@
 
 This generates `react/src/types/api.ts` from `docs/openapi.json` using [openapi-typescript](https://openapi-ts.dev/).
 
+**Verifying types are up to date:**
+
+```bash
+cd react
+npm run check:types
+```
+
+This regenerates the types and fails if `react/src/types/api.ts` changes. CI and `./scripts/validate.sh --node` run this check automatically.
+
 **Workflow:**
 
 1. Update `docs/openapi.json` when adding/modifying endpoints
diff --git a/react/package.json b/react/package.json
index 0a4dbad767e0324048bce3990cba288cc2c37e9d..717ddf8ca75707e3315d11ee35dbf8b270b95f20
--- a/react/package.json
+++ b/react/package.json
@@ -16,6 +16,7 @@
     "format": "prettier --write .",
     "format:check": "prettier --check .",
     "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
+    "check:types": "npm run generate:types && node scripts/check-openapi-types.cjs",
     "prepare": "cd .. && husky react/.husky"
   },
   "dependencies": {
diff --git a/react/scripts/check-openapi-types.cjs b/react/scripts/check-openapi-types.cjs
new file mode 100644
index 0000000000000000000000000000000000000000..a3f93ffc41676b2c942bd36cd63463137fdb5772
--- /dev/null
+++ b/react/scripts/check-openapi-types.cjs
@@ -0,0 +1,11 @@
+#!/usr/bin/env node
+
+const { execSync } = require('child_process');
+
+try {
+  execSync('git diff --exit-code src/types/api.ts', { stdio: 'inherit' });
+  console.log('OK: OpenAPI types are up to date');
+} catch (error) {
+  console.error("ERROR: OpenAPI types are out of date. Run 'npm run generate:types' and commit.");
+  process.exit(1);
+}
diff --git a/scripts/validate.sh b/scripts/validate.sh
index 213b4dd58ad5b3b651dcc534a91f3c62d83f9080..3a44a5ebf5cefdce3bd4f1b6adb10624c9518bbc
--- a/scripts/validate.sh
+++ b/scripts/validate.sh
@@ -159,13 +159,7 @@
 
     # Check OpenAPI types are up to date
     print_step "Checking OpenAPI types are up to date..."
-    npm run generate:types
-    if git diff --exit-code src/types/api.ts > /dev/null 2>&1; then
-        print_success "OpenAPI types are up to date"
-    else
-        print_error "OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-        FAILURES+=("OpenAPI types check")
-    fi
+    run_check "OpenAPI types check" npm run check:types || true
 
     # TypeScript check
     print_step "Running TypeScript check..."



thinking
**Verifying new script references and paths**

The new script is properly referenced in docs and package.json scripts; no package-lock update is needed. Paths used in the script's git diff call are correct relative to the react directory where the script runs.
thinking
**Confirming script outputs and updating docs**

The script’s output format is compatible with existing validation wrappers despite some duplicated success messages. The relative paths for type generation are correct from the react directory. I'll ensure docs mention the validate script using the new check and consider verifying git status for changed files next.
exec
/bin/zsh -lc 'git status --short' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 82ms:
 M .github/workflows/ci.yml
 M .logs/C05-04.gitcommit.txt
 M .plans/C06-01.md
 M .t2/state.json
 M docs/DEVELOPER.md
 M react/package.json
 M scripts/validate.sh
?? react/scripts/
file update:
diff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml
index fe92ddead61fb582b7c9a1f0c0112e5c9f52ff91..321c247337d8b1f96522802e9e1a9629f585fea3
--- a/.github/workflows/ci.yml
+++ b/.github/workflows/ci.yml
@@ -107,14 +107,7 @@
 
       - name: Check OpenAPI types are up to date
         if: hashFiles('react/package.json') != ''
-        run: |
-          npm run generate:types
-          if git diff --exit-code src/types/api.ts; then
-            echo "✓ OpenAPI types are up to date"
-          else
-            echo "✗ OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-            exit 1
-          fi
+        run: npm run check:types
 
       - name: TypeScript Check
         if: hashFiles('react/package.json') != ''
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index 3f0eaf0babea7ac0fe338777cbdba1109356f7d0..f4e4fda6f5344b134db14abe698d9b65820fb305
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -1128,6 +1128,15 @@
 
 This generates `react/src/types/api.ts` from `docs/openapi.json` using [openapi-typescript](https://openapi-ts.dev/).
 
+**Verifying types are up to date:**
+
+```bash
+cd react
+npm run check:types
+```
+
+This regenerates the types and fails if `react/src/types/api.ts` changes. CI and `./scripts/validate.sh --node` run this check automatically.
+
 **Workflow:**
 
 1. Update `docs/openapi.json` when adding/modifying endpoints
diff --git a/react/package.json b/react/package.json
index 0a4dbad767e0324048bce3990cba288cc2c37e9d..717ddf8ca75707e3315d11ee35dbf8b270b95f20
--- a/react/package.json
+++ b/react/package.json
@@ -16,6 +16,7 @@
     "format": "prettier --write .",
     "format:check": "prettier --check .",
     "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
+    "check:types": "npm run generate:types && node scripts/check-openapi-types.cjs",
     "prepare": "cd .. && husky react/.husky"
   },
   "dependencies": {
diff --git a/react/scripts/check-openapi-types.cjs b/react/scripts/check-openapi-types.cjs
new file mode 100644
index 0000000000000000000000000000000000000000..a3f93ffc41676b2c942bd36cd63463137fdb5772
--- /dev/null
+++ b/react/scripts/check-openapi-types.cjs
@@ -0,0 +1,11 @@
+#!/usr/bin/env node
+
+const { execSync } = require('child_process');
+
+try {
+  execSync('git diff --exit-code src/types/api.ts', { stdio: 'inherit' });
+  console.log('OK: OpenAPI types are up to date');
+} catch (error) {
+  console.error("ERROR: OpenAPI types are out of date. Run 'npm run generate:types' and commit.");
+  process.exit(1);
+}
diff --git a/scripts/validate.sh b/scripts/validate.sh
index 213b4dd58ad5b3b651dcc534a91f3c62d83f9080..3a44a5ebf5cefdce3bd4f1b6adb10624c9518bbc
--- a/scripts/validate.sh
+++ b/scripts/validate.sh
@@ -159,13 +159,7 @@
 
     # Check OpenAPI types are up to date
     print_step "Checking OpenAPI types are up to date..."
-    npm run generate:types
-    if git diff --exit-code src/types/api.ts > /dev/null 2>&1; then
-        print_success "OpenAPI types are up to date"
-    else
-        print_error "OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-        FAILURES+=("OpenAPI types check")
-    fi
+    run_check "OpenAPI types check" npm run check:types || true
 
     # TypeScript check
     print_step "Running TypeScript check..."



thinking
**Summarizing final directory addition and type check changes**

The new directory holds only one relevant file, confirming a focused change. CI now runs a type-check script that uses `git diff --exit-code` on the generated types file to ensure no unexpected changes, and `scripts/validate.sh` includes this check too. No tests were run since none were specified, but verification involves running the new check commands. A possible risk is that `git diff` might detect changes if the generated file is missing or modified, causing CI to fail, so it's important the generated file is tracked and present.
thinking
**Summarizing final changes and verification steps**

Status: DONE  
Summary of changes:  
- Added `react/scripts/check-openapi-types.cjs` and `check:types` script to centralize type generation and diff checking.  
- Integrated `npm run check:types` into CI and local validation (`./scripts/validate.sh --node`).  
- Updated documentation in `docs/DEVELOPER.md` to reflect the new type check process.  

How to verify (exact commands):  
- `cd react && npm run check:types`  
- `./scripts/validate.sh --node`  

Risks / follow-ups:  
- Running `npm run check:types` regenerates `react/src/types/api.ts`; developers must commit changes if any are detected.  
- The check depends on `git`—ensure it is available in the environment.  
- No tests were run as none were specified.
codex
Status: DONE

Summary of changes
- Added `check:types` and a dedicated checker script to centralize OpenAPI type drift detection (`react/package.json`, `react/scripts/check-openapi-types.cjs`).
- Updated local validation and CI to use the shared check (`scripts/validate.sh`, `.github/workflows/ci.yml`).
- Documented the verification workflow in `docs/DEVELOPER.md`.

How to verify (exact commands)
- `cd react && npm run check:types`
- `./scripts/validate.sh --node`

Risks / follow-ups
- `npm run check:types` regenerates `react/src/types/api.ts`; commit the file if it changes.
- The check relies on `git diff`; ensure git is available in the environment.
file update:
diff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml
index fe92ddead61fb582b7c9a1f0c0112e5c9f52ff91..321c247337d8b1f96522802e9e1a9629f585fea3
--- a/.github/workflows/ci.yml
+++ b/.github/workflows/ci.yml
@@ -107,14 +107,7 @@
 
       - name: Check OpenAPI types are up to date
         if: hashFiles('react/package.json') != ''
-        run: |
-          npm run generate:types
-          if git diff --exit-code src/types/api.ts; then
-            echo "✓ OpenAPI types are up to date"
-          else
-            echo "✗ OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-            exit 1
-          fi
+        run: npm run check:types
 
       - name: TypeScript Check
         if: hashFiles('react/package.json') != ''
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index 3f0eaf0babea7ac0fe338777cbdba1109356f7d0..f4e4fda6f5344b134db14abe698d9b65820fb305
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -1128,6 +1128,15 @@
 
 This generates `react/src/types/api.ts` from `docs/openapi.json` using [openapi-typescript](https://openapi-ts.dev/).
 
+**Verifying types are up to date:**
+
+```bash
+cd react
+npm run check:types
+```
+
+This regenerates the types and fails if `react/src/types/api.ts` changes. CI and `./scripts/validate.sh --node` run this check automatically.
+
 **Workflow:**
 
 1. Update `docs/openapi.json` when adding/modifying endpoints
diff --git a/react/package.json b/react/package.json
index 0a4dbad767e0324048bce3990cba288cc2c37e9d..717ddf8ca75707e3315d11ee35dbf8b270b95f20
--- a/react/package.json
+++ b/react/package.json
@@ -16,6 +16,7 @@
     "format": "prettier --write .",
     "format:check": "prettier --check .",
     "generate:types": "openapi-typescript ../docs/openapi.json -o src/types/api.ts",
+    "check:types": "npm run generate:types && node scripts/check-openapi-types.cjs",
     "prepare": "cd .. && husky react/.husky"
   },
   "dependencies": {
diff --git a/react/scripts/check-openapi-types.cjs b/react/scripts/check-openapi-types.cjs
new file mode 100644
index 0000000000000000000000000000000000000000..a3f93ffc41676b2c942bd36cd63463137fdb5772
--- /dev/null
+++ b/react/scripts/check-openapi-types.cjs
@@ -0,0 +1,11 @@
+#!/usr/bin/env node
+
+const { execSync } = require('child_process');
+
+try {
+  execSync('git diff --exit-code src/types/api.ts', { stdio: 'inherit' });
+  console.log('OK: OpenAPI types are up to date');
+} catch (error) {
+  console.error("ERROR: OpenAPI types are out of date. Run 'npm run generate:types' and commit.");
+  process.exit(1);
+}
diff --git a/scripts/validate.sh b/scripts/validate.sh
index 213b4dd58ad5b3b651dcc534a91f3c62d83f9080..3a44a5ebf5cefdce3bd4f1b6adb10624c9518bbc
--- a/scripts/validate.sh
+++ b/scripts/validate.sh
@@ -159,13 +159,7 @@
 
     # Check OpenAPI types are up to date
     print_step "Checking OpenAPI types are up to date..."
-    npm run generate:types
-    if git diff --exit-code src/types/api.ts > /dev/null 2>&1; then
-        print_success "OpenAPI types are up to date"
-    else
-        print_error "OpenAPI types are out of date. Run 'npm run generate:types' and commit."
-        FAILURES+=("OpenAPI types check")
-    fi
+    run_check "OpenAPI types check" npm run check:types || true
 
     # TypeScript check
     print_step "Running TypeScript check..."

tokens used
30,839
