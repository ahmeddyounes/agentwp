Implemented backend error categorization plus frontend recovery UX with offline detection, retry/reporting, and an ErrorBoundary to avoid raw error traces.

**Status**
- DONE

**Summary of Changes**
- Backend error categorization and metadata propagation for OpenAI failures and REST errors via `src/Error/Handler.php`, `src/AI/OpenAIClient.php`, `src/API/RestController.php`, and `src/Rest/IntentController.php`
- Support email/version exposed for reporting via `src/Plugin.php`
- ErrorBoundary + offline/retry/report UI updates in the command deck via `react/components/ErrorBoundary.jsx`, `react/components/cards/ErrorCard.jsx`, `react/src/App.jsx`, and `react/src/main.jsx`

**How to Verify**
- N/A (no format/lint/test commands provided)

**Risks / Follow-ups**
- If runtime relies on prebuilt admin assets, rebuild the React bundle so `assets/agentwp-admin.js` and `assets/agentwp-admin.css` are updated
- Confirm `supportEmail` (currently admin email) matches your support workflow

OpenAI Codex v0.77.0 (research preview)
--------
workdir: /Users/ahmedyounis/Documents/Projects/agentwp
model: gpt-5.2-codex
provider: openai
approval: never
sandbox: workspace-write [workdir, /tmp, $TMPDIR]
reasoning effort: high
reasoning summaries: auto
session id: 019b9781-0a81-7f23-b0c4-691b87f29f5c
--------
user
You are implementing task M04-05 in this git repository.

1) Read the spec: .plans/M04-05.md
2) Read handoff/context: .t2/handoff/M04-05.md

Implement the spec fully.

Verification commands (run if non-empty):
- format: 
- lint: 
- test: 

In your final response, include:
- Status: DONE or NEEDS-REVIEW
- Summary of changes
- How to verify (exact commands)
- Risks / follow-ups

mcp startup: no servers

thinking
**Preparing to explore skill files**
exec
/bin/zsh -lc ls in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 43ms:
agentwp.php
assets
composer.json
docker
docker-compose.yml
docs
includes
languages
react
README.md
scripts
setup.sh
src
tasks.csv
uninstall.php

thinking
**Preparing to read spec**
Reconnecting... 1/5

thinking
**Reviewing specification and handoff**
exec
/bin/zsh -lc 'cat .plans/M04-05.md' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 53ms:
# M04-05 — Error Recovery System

Implement graceful error handling: 1) Create AgentWP\Error\Handler class with error categorization: network_error, api_error, rate_limit, auth_error, validation_error, unknown. 2) React ErrorBoundary component catching render errors. 3) Offline detection: navigator.onLine + periodic /health endpoint ping. 4) Offline mode UI: 'Agent Offline' banner, disable input, show cached recent results. 5) Retry UI: for transient errors show 'Retry' button with attempt counter. 6) API error messages: translate OpenAI error codes to user-friendly messages. 7) Error reporting: 'Report Issue' button collects sanitized context (no PII) and opens support form. 8) Console logging in development mode only. Acceptance Criteria: Users never see raw error stack traces, offline state detected within 5 seconds, retry succeeds for transient network issues, error reports contain useful debugging info without exposing sensitive data.

thinking
**Reading initial handoff**
exec
/bin/zsh -lc 'cat .t2/handoff/M04-05.md' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
# Handoff: M04-05

Created: 2026-01-07T08:09:35.066630Z

Spec: .plans/M04-05.md

thinking
**Searching for error handling structures**
exec
/bin/zsh -lc 'rg -n "ErrorBoundary|error boundary|offline|health|retry|Report Issue|support" -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 46ms:
src/Rest/HealthController.php:22:			'/health',
src/Rest/HealthController.php:25:				'callback'            => array( $this, 'get_health' ),
src/Rest/HealthController.php:32:	 * Return health status.
src/Rest/HealthController.php:37:	public function get_health( $request ) {
src/Handlers/RefundHandler.php:366:		if ( ! $gateway || ! method_exists( $gateway, 'supports' ) ) {
src/Handlers/RefundHandler.php:370:		return ! $gateway->supports( 'refunds' );
src/Handlers/OrderStatusHandler.php:139:			return Response::error( 'Bulk status updates support up to 50 orders at a time.', 400 );
src/Handlers/OrderStatusHandler.php:336:			return Response::error( 'Bulk status updates support up to 50 orders at a time.', 400 );
docker-compose.yml:16:    healthcheck:
src/Handlers/CustomerHandler.php:42:				'health_thresholds' => $this->get_health_thresholds(),
src/Handlers/CustomerHandler.php:194:		$health_status         = $this->determine_health_status( $days_since_last_order, $total_orders );
src/Handlers/CustomerHandler.php:211:			'health_status'                 => $health_status,
src/Handlers/CustomerHandler.php:574:	private function determine_health_status( $days_since_last, $total_orders ) {
src/Handlers/CustomerHandler.php:579:		$thresholds = $this->get_health_thresholds();
src/Handlers/CustomerHandler.php:595:	private function get_health_thresholds() {
src/Handlers/CustomerHandler.php:602:			$thresholds = apply_filters( 'agentwp_customer_health_thresholds', $thresholds );
docs/openapi.json:223:    "/agentwp/v1/health": {
tasks.csv:7:M01-03,"API Key Encryption System","Implement secure API key storage in PHP: 1) Create AgentWP\Security\Encryption class using AES-256-CTR with WordPress salts (LOGGED_IN_KEY and LOGGED_IN_SALT) as encryption materials. 2) Methods: encrypt(string $plaintext): string, decrypt(string $ciphertext): string, isEncrypted(string $data): bool. 3) Store encrypted key in wp_options table under 'agentwp_api_key'. 4) Create REST endpoint POST /agentwp/v1/settings/api-key that validates key format (sk-*), tests against OpenAI /v1/models endpoint, encrypts and stores on success. 5) Never log or expose plaintext keys. 6) Add key rotation support (re-encrypt with new salts). Acceptance Criteria: Stored key is unreadable without WordPress salts, key validation catches invalid/expired keys, encryption/decryption round-trips correctly, no plaintext keys in logs or database queries."
tasks.csv:8:M01-04,"REST API Framework","Build the REST API infrastructure in PHP: 1) Create AgentWP\API\RestController base class extending WP_REST_Controller with common auth, validation, and response formatting. 2) Register namespace 'agentwp/v1'. 3) Implement permission callbacks using current_user_can('manage_woocommerce'). 4) Create rate limiter using transients: 60 requests/minute per user, return 429 with Retry-After header when exceeded. 5) Endpoints to create: POST /intent (main AI endpoint), GET/POST /settings, GET /usage, GET /health. 6) Request validation with JSON schemas. 7) Standardized response format: {success: bool, data: any, error?: {code: string, message: string}}. 8) Add request logging for debugging (stored in transients, auto-expire 24h). Acceptance Criteria: All endpoints require authentication, rate limiter triggers at 61st request within 60 seconds, invalid requests return descriptive errors with correct HTTP codes, OpenAPI/Swagger spec generated."
tasks.csv:9:M01-05,"OpenAI Integration Layer","Create the OpenAI API client wrapper in PHP: 1) AgentWP\AI\OpenAIClient class with methods: chat(array $messages, array $functions): Response, validateKey(string $key): bool. 2) Implement Function Calling (Tools API) with strict mode enabled. 3) Define function schemas in AgentWP\AI\Functions\* classes (one per function). 4) Retry logic with exponential backoff: initial 1s, max 60s, 10 retries, add random jitter 0-1s. 5) Handle rate limits (429), server errors (5xx), and network timeouts gracefully. 6) Stream response support for long-running queries (SSE). 7) Token counting using tiktoken-php for cost estimation. 8) Model abstraction allowing easy switching between gpt-4o and gpt-4o-mini. Acceptance Criteria: Function calls return properly structured responses, retry logic handles transient failures without user intervention, streaming works for responses >10 seconds, token counts accurate within 5%."

thinking
**Inspecting React app structure**
exec
/bin/zsh -lc 'ls react' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 39ms:
components
index.html
package.json
postcss.config.js
src
tailwind.config.js
vite.config.js

thinking
**Inspecting React source**
exec
/bin/zsh -lc 'ls react/src' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 50ms:
App.jsx
index.css
main.jsx
theme.js

thinking
**Opening App.jsx file**
exec
/bin/zsh -lc 'cat react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 49ms:
import { useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState } from 'react';
import html2canvas from 'html2canvas';
import ReactMarkdown from 'react-markdown';
import HistoryPanel from '../components/HistoryPanel.jsx';
import { ChartCard } from '../components/cards';
import {
  applyTheme,
  getInitialThemePreference,
  getServerTheme,
  resolveTheme,
  THEME_STORAGE_KEY,
} from './theme.js';

const OPEN_STATE_KEY = 'agentwp-command-deck-open';
const DRAFT_HISTORY_KEY = 'agentwp-draft-history';
const MAX_DRAFT_HISTORY = 10;
const COMMAND_HISTORY_KEY = 'agentwp-command-history';
const COMMAND_FAVORITES_KEY = 'agentwp-command-favorites';
const COMMAND_USAGE_KEY = 'agentwp-command-usage';
const MAX_COMMAND_HISTORY = 50;

thinking
**Searching for error handling code**
exec
/bin/zsh -lc 'rg -n "errorMessage|setErrorMessage|Error" react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
672:  const [errorMessage, setErrorMessage] = useState('');
1122:      setErrorMessage('');
1175:          throw new Error(data?.error?.message || data?.message || 'Search unavailable.');
1188:        if (error?.name === 'AbortError') {
1478:      setErrorMessage('');
1508:          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
1509:          throw new Error(errorMessage);
1544:        if (error?.name === 'AbortError') {
1549:        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
1652:  const hasDraft = Boolean(response && !errorMessage);
2198:                  ) : errorMessage ? (
2199:                    <p className="text-sm text-rose-300">{errorMessage}</p>

thinking
**Inspecting fetch functions**
exec
/bin/zsh -lc "sed -n '1060,1605p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 50ms:
    return normalized;
  }, []);

  const recordCommandUsage = useCallback((rawInput) => {
    if (!rawInput) {
      return;
    }
    setCommandUsage((prev) => ({
      ...prev,
      [rawInput]: (prev[rawInput] || 0) + 1,
    }));
  }, []);

  const toggleFavoriteCommand = useCallback((entry) => {
    const normalized = normalizeCommandEntry(entry);
    if (!normalized) {
      return;
    }
    setFavoriteCommands((prev) => {
      const key = buildCommandKey(normalized);

thinking
**Planning comprehensive error handling**

I'm considering a robust error system to add across PHP and React parts: a new PHP error handler class with categories; React error boundary, offline status detection, UI banners for offline mode, retry mechanisms with counters, user-friendly error translations, and an error reporting feature with sanitized data and dev-only console logs. I’ll start by checking how the PHP API currently handles responses or errors to integrate this cleanly.
exec
/bin/zsh -lc "rg -n \"Response::error|error\\(\" src" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 58ms:
src/Rest/SettingsController.php:94:		if ( is_wp_error( $validation ) ) {
src/Rest/SettingsController.php:95:			return $this->response_error( 'agentwp_invalid_request', $validation->get_error_message(), 400 );
src/Rest/SettingsController.php:121:		if ( is_wp_error( $validation ) ) {
src/Rest/SettingsController.php:122:			return $this->response_error( 'agentwp_invalid_request', $validation->get_error_message(), 400 );
src/Rest/SettingsController.php:142:			return $this->response_error( 'agentwp_invalid_key', __( 'API key format looks invalid.', 'agentwp' ), 400 );
src/Rest/SettingsController.php:146:		if ( is_wp_error( $validation ) ) {
src/Rest/SettingsController.php:147:			return $this->response_error( $validation->get_error_code(), $validation->get_error_message(), 400 );
src/Rest/SettingsController.php:151:		if ( is_wp_error( $encrypted ) ) {
src/Rest/SettingsController.php:152:			return $this->response_error( $encrypted->get_error_code(), $encrypted->get_error_message(), 500 );
src/Rest/SettingsController.php:176:		if ( is_wp_error( $validation ) ) {
src/Rest/SettingsController.php:177:			return $this->response_error( 'agentwp_invalid_request', $validation->get_error_message(), 400 );
src/Rest/SettingsController.php:184:			return $this->response_error( 'agentwp_invalid_period', __( 'Invalid usage period.', 'agentwp' ), 400 );
src/Rest/SettingsController.php:285:		if ( is_wp_error( $response ) ) {
src/Rest/IntentController.php:40:		if ( is_wp_error( $validation ) ) {
src/Rest/IntentController.php:41:			return $this->response_error( 'agentwp_invalid_request', $validation->get_error_message(), 400 );
src/Rest/IntentController.php:55:			return $this->response_error( 'agentwp_missing_prompt', __( 'Please provide a prompt.', 'agentwp' ), 400 );
src/Rest/IntentController.php:69:			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
src/Rest/SearchController.php:40:		if ( is_wp_error( $validation ) ) {
src/Rest/SearchController.php:41:			return $this->response_error( 'agentwp_invalid_request', $validation->get_error_message(), 400 );
src/Handlers/RefundHandler.php:38:			return Response::error( 'WooCommerce is required to prepare refunds.', 400 );

thinking
**Checking Response class**
exec
/bin/zsh -lc 'cat src/AI/Response.php' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 53ms:
<?php
/**
 * OpenAI response wrapper.
 *
 * @package AgentWP
 */

namespace AgentWP\AI;

class Response {
	/**
	 * @var bool
	 */
	private $success;

	/**
	 * @var int
	 */
	private $status;


thinking
**Planning PHP error handling**
exec
/bin/zsh -lc "sed -n '1,260p' src/AI/OpenAIClient.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
<?php
/**
 * OpenAI API client wrapper.
 *
 * @package AgentWP
 */

namespace AgentWP\AI;

use AgentWP\AI\Functions\FunctionSchema;
use AgentWP\Billing\UsageTracker;

class OpenAIClient {
	const API_BASE = 'https://api.openai.com/v1';

	/**
	 * @var string
	 */
	private $api_key;

exec
/bin/zsh -lc "sed -n '260,520p' src/AI/OpenAIClient.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 51ms:
				'Authorization' => 'Bearer ' . $this->api_key,
				'Content-Type'  => 'application/json',
			),
			'body'        => wp_json_encode( $payload ),
		);

		$response = wp_remote_post( $this->base_url . '/chat/completions', $args );
		if ( is_wp_error( $response ) ) {
			return array(
				'success'     => false,
				'status'      => 0,
				'body'        => '',
				'headers'     => array(),
				'error'       => $response->get_error_message(),
				'retryable'   => $this->is_retryable_error( $response ),
				'retry_after' => 0,
			);
		}

		$status  = (int) wp_remote_retrieve_response_code( $response );

thinking
**Planning new error handler class**
exec
/bin/zsh -lc "sed -n '1,160p' src/Rest/IntentController.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 55ms:
<?php
/**
 * Intent REST controller.
 *
 * @package AgentWP
 */

namespace AgentWP\Rest;

use AgentWP\API\RestController;
use AgentWP\Intent\Engine;
use WP_REST_Server;

class IntentController extends RestController {
	/**
	 * Register REST routes.
	 *
	 * @return void
	 */
	public function register_routes() {

thinking
**Considering RestController**
exec
/bin/zsh -lc "sed -n '1,200p' src/API/RestController.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
<?php
/**
 * Base REST controller.
 *
 * @package AgentWP
 */

namespace AgentWP\API;

use AgentWP\Plugin;
use WP_Error;
use WP_REST_Controller;
use WP_REST_Response;

abstract class RestController extends WP_REST_Controller {
	const REST_NAMESPACE = 'agentwp/v1';
	const RATE_LIMIT     = 60;
	const RATE_WINDOW    = 60;
	const LOG_LIMIT      = 50;


thinking
**Examining error handling in Intent Engine**
exec
/bin/zsh -lc "sed -n '1,200p' src/Intent/Engine.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 51ms:
<?php
/**
 * Intent engine for routing requests.
 *
 * @package AgentWP
 */

namespace AgentWP\Intent;

use AgentWP\AI\Response;
use AgentWP\Intent\Handlers\AnalyticsQueryHandler;
use AgentWP\Intent\Handlers\CustomerLookupHandler;
use AgentWP\Intent\Handlers\EmailDraftHandler;
use AgentWP\Intent\Handlers\FallbackHandler;
use AgentWP\Intent\Handlers\OrderRefundHandler;
use AgentWP\Intent\Handlers\OrderSearchHandler;
use AgentWP\Intent\Handlers\OrderStatusHandler;
use AgentWP\Intent\Handlers\ProductStockHandler;

class Engine {

thinking
**Checking for error handling classes**
exec
/bin/zsh -lc 'ls src' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 53ms:
AI
API
Billing
Context
Handlers
index.php
Intent
Plugin.php
Rest
Search
Security

thinking
**Preparing error handling structure**
exec
/bin/zsh -lc "sed -n '250,380p' src/Plugin.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 51ms:
		if ( class_exists( 'AgentWP\\Rest\\SettingsController' ) ) {
			$controller = new Rest\SettingsController();
			$controller->register_routes();
		}

		if ( class_exists( 'AgentWP\\Rest\\IntentController' ) ) {
			$controller = new Rest\IntentController();
			$controller->register_routes();
		}

		if ( class_exists( 'AgentWP\\Rest\\HealthController' ) ) {
			$controller = new Rest\HealthController();
			$controller->register_routes();
		}

		if ( class_exists( 'AgentWP\\Rest\\SearchController' ) ) {
			$controller = new Rest\SearchController();
			$controller->register_routes();
		}


thinking
**Planning error handling integration**
exec
/bin/zsh -lc 'cat react/components/cards/ErrorCard.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 48ms:
import BaseCard from './BaseCard.jsx';

const ErrorIcon = () => (
  <svg
    viewBox="0 0 24 24"
    width="20"
    height="20"
    aria-hidden="true"
    focusable="false"
  >
    <path
      fill="currentColor"
      d="M12 2.8c5 0 9.2 4.1 9.2 9.2 0 5-4.1 9.2-9.2 9.2-5 0-9.2-4.1-9.2-9.2 0-5 4.1-9.2 9.2-9.2zm0 5.1a.9.9 0 0 0-.9.9v4.8a.9.9 0 0 0 1.8 0V8.8a.9.9 0 0 0-.9-.9zm0 8a1.1 1.1 0 1 0 0 2.2 1.1 1.1 0 0 0 0-2.2z"
    />
  </svg>
);

export default function ErrorCard({
  title = 'Something went wrong',
  message,

thinking
**Checking ErrorCard usage in App**
exec
/bin/zsh -lc 'rg -n "ErrorCard" -S react' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 59ms:
react/components/cards/ErrorCard.jsx:18:export default function ErrorCard({
react/components/cards/index.js:4:export { default as ErrorCard } from './ErrorCard.jsx';

thinking
**Planning offline support and error handling enhancements**

I'm piecing together plans to show cached results offline using `draftHistory` and localStorage, to detect offline state efficiently with periodic health pings, and to enhance error handling by creating a backend Error Handler class that categorizes errors and enriches API error responses with type metadata for better UI handling. I also want to add friendly user-facing error messages by parsing OpenAI error codes, improve front-end error handling with mappings, and implement an ErrorBoundary component in React to catch and display errors gracefully.
exec
/bin/zsh -lc 'cat react/src/main.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 53ms:
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App.jsx';
import './index.css';
import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';

const initialPreference = getInitialThemePreference();
const resolvedTheme = resolveTheme(initialPreference, getSystemTheme() === 'dark');
applyTheme(resolvedTheme);

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

thinking
**Designing offline detection and error retry UI**

I'm mapping out an offline mode with network status detection using navigator events and health pings, plus showing a banner and disabling input when offline. I'll also implement retry logic for transient errors with attempt counters and a cached responses panel from draft history to improve the user experience during connectivity issues.
exec
/bin/zsh -lc 'rg -n "support" src react -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 58ms:
src/Handlers/RefundHandler.php:366:		if ( ! $gateway || ! method_exists( $gateway, 'supports' ) ) {
src/Handlers/RefundHandler.php:370:		return ! $gateway->supports( 'refunds' );
src/Search/Index.php:336:		if ( self::supports_fulltext() && strlen( $normalized ) >= 3 ) {
src/Search/Index.php:659:	private static function supports_fulltext() {
src/Search/Index.php:660:		static $supported = null;
src/Search/Index.php:662:		if ( null !== $supported ) {
src/Search/Index.php:663:			return $supported;
src/Search/Index.php:670:			$supported = false;
src/Search/Index.php:671:			return $supported;
src/Search/Index.php:675:		$supported = ! empty( $indexes );
src/Search/Index.php:677:		return $supported;
src/Handlers/EmailDraftHandler.php:480:			'You are a customer support assistant for %s. Draft a customer email response. Return JSON with keys subject_line, email_body, plain_text_version. The email_body must be valid HTML using simple tags like <p>, <ul>, <li>, <strong>, and <a>. Mention specific products and tracking details when available. Avoid placeholder text when data exists.',
src/Handlers/EmailDraftHandler.php:570:			'{{support_email}}'    => $this->get_support_email(),
src/Handlers/EmailDraftHandler.php:945:		$closing = sprintf( '%s, %s Support', $line, $store_name );
src/Handlers/EmailDraftHandler.php:1058:	private function get_support_email() {
src/AI/Model.php:15:	 * List supported models.
src/AI/Model.php:27:	 * Normalize a model value to a supported identifier.
src/Handlers/OrderStatusHandler.php:139:			return Response::error( 'Bulk status updates support up to 50 orders at a time.', 400 );
src/Handlers/OrderStatusHandler.php:336:			return Response::error( 'Bulk status updates support up to 50 orders at a time.', 400 );

thinking
**Searching for support contact info**
exec
/bin/zsh -lc 'rg -n "agentwpSettings" -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 58ms:
src/Plugin.php:175:				'window.agentwpSettings = ' . wp_json_encode(
react/src/App.jsx:320:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:331:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:342:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:353:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:364:  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
react/src/App.jsx:375:  return window.agentwpSettings?.nonce || window.wpApiSettings?.nonce || null;
react/src/theme.js:23:  return normalizeTheme(window.agentwpSettings?.theme);
assets/agentwp-admin.js:9:	var config = window.agentwpSettings || {};

thinking
**Checking plugin around agentwpSettings**
exec
/bin/zsh -lc "sed -n '140,220p' src/Plugin.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 52ms:
	}

	/**
	 * Enqueue admin assets only on AgentWP and WooCommerce screens.
	 *
	 * @param string $hook_suffix Current admin page hook.
	 * @return void
	 */
	public function enqueue_admin_assets( $hook_suffix ) {
		$screen = function_exists( 'get_current_screen' ) ? get_current_screen() : null;

		$is_agentwp_screen = ( $hook_suffix === $this->menu_hook );
		$is_wc_screen      = $screen ? $this->is_woocommerce_screen( $screen ) : false;

		if ( ! $is_agentwp_screen && ! $is_wc_screen ) {
			return;
		}

		$script_path = AGENTWP_PLUGIN_DIR . 'assets/agentwp-admin.js';
		$style_path  = AGENTWP_PLUGIN_DIR . 'assets/agentwp-admin.css';
Reconnecting... 1/5

thinking
**Designing support issue reporting**
exec
/bin/zsh -lc 'rg -n "AGENTWP_VERSION|version" src/Plugin.php src/index.php' in /Users/ahmedyounis/Documents/Projects/agentwp exited 1 in 57ms:


thinking
**Checking main plugin file for version**
exec
/bin/zsh -lc "sed -n '1,120p' agentwp.php" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 55ms:
<?php
/**
 * Plugin Name: AgentWP
 * Plugin URI: https://agentwp.example
 * Description: React-powered admin UI for WooCommerce automation.
 * Version: 0.1.0
 * Requires at least: 6.4
 * Requires PHP: 7.4
 * WC requires at least: 8.0
 * Author: AgentWP
 * Text Domain: agentwp
 * Domain Path: /languages
 */

if ( ! defined( 'ABSPATH' ) ) {
	exit;
}

define( 'AGENTWP_VERSION', '0.1.0' );
define( 'AGENTWP_PLUGIN_FILE', __FILE__ );

thinking
**Designing comprehensive error handling system**

I'll create a PHP error handler class to categorize errors by HTTP status and OpenAI error codes, add rich metadata to REST API responses, propagate sanitized, user-friendly error info from backend to frontend, and set groundwork for mapping errors to friendly messages without exposing raw stacks. This approach will improve error clarity and user experience while supporting debugging via dev-only console logs.
exec
/bin/zsh -lc "rg -n \"console\\.\" react/src react/components -S" in /Users/ahmedyounis/Documents/Projects/agentwp exited 1 in 56ms:



thinking
**Implementing error handling and offline support**

I'm laying out plans to add error logging only in development, create sanitized error reports for a support button, and translate OpenAI error codes into friendly messages on the frontend. I’ll enhance React error state to hold richer info, implement offline detection with cached responses, add retry logic with attempt counters, and build an ErrorBoundary to catch render errors. The approach ensures sensitive data stays out of reports while improving debugging and user experience when network issues occur.
thinking
**Refining support report details and mailto handling**

I’m deciding to exclude userAgent from error reports for safety, focusing instead on locale, plugin version, and app version added via plugin settings. I’m planning to generate mailto links for support with contextual JSON in the body and managing fallback between a configured support URL or a mailto email. I’m also checking how the existing `buildMailtoLink` helper constructs mailto links to ensure proper recipient handling without breaking current usages.
exec
/bin/zsh -lc 'rg -n "buildMailtoLink" -n react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 55ms:
431:const buildMailtoLink = (subject, body) => {
1654:  const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';

thinking
**Designing mailto and offline support**

I'm considering adding a new mailto link function that includes a recipient to preserve existing calls, and thinking about sanitizing context to exclude PII. There's also work on integrating offline UI cues, likely with a new React component using existing Tailwind classes after checking the CSS setup in the React source.
exec
/bin/zsh -lc 'head -n 80 react/src/index.css' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 46ms:
@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600&family=Space+Grotesk:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
  --awp-bg-primary: #f8fafc;
  --awp-bg-secondary: #f1f5f9;
  --awp-text-primary: #0f172a;
  --awp-text-secondary: #475569;
  --awp-accent: #0ea5e9;
  --awp-danger: #e11d48;
  --awp-success: #16a34a;
  --awp-border: rgba(148, 163, 184, 0.6);

  --awp-slate-950: 248 250 252;
  --awp-slate-900: 241 245 249;
  --awp-slate-800: 226 232 240;

thinking
**Reviewing offline banner and health check integration**
exec
/bin/zsh -lc 'cat src/Rest/HealthController.php' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 53ms:
<?php
/**
 * Health REST controller.
 *
 * @package AgentWP
 */

namespace AgentWP\Rest;

use AgentWP\API\RestController;
use WP_REST_Server;

class HealthController extends RestController {
	/**
	 * Register REST routes.
	 *
	 * @return void
	 */
	public function register_routes() {
		register_rest_route(

thinking
**Designing comprehensive error handler**

I'm outlining a PHP error handler class to categorize errors by code, status, message, and metadata, mapping codes like rate limits, auth issues, validation failures, and network errors to distinct types. I'll integrate this handler throughout REST responses and plugin error formatting to provide consistent error typing, while also planning front-end adjustments for offline detection and UI feedback based on these error states.
exec
/bin/zsh -lc 'rg -n "prompt" react/src/App.jsx | head' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 40ms:
664:  const [prompt, setPrompt] = useState('');
695:  const promptBlurTimeoutRef = useRef(null);
947:    if (promptBlurTimeoutRef.current) {
948:      window.clearTimeout(promptBlurTimeoutRef.current);
951:    if (prompt.trim()) {
954:  }, [prompt]);
957:    if (promptBlurTimeoutRef.current) {
958:      window.clearTimeout(promptBlurTimeoutRef.current);
960:    promptBlurTimeoutRef.current = window.setTimeout(() => {
1033:        prompt: draft.prompt || '',

thinking
**Searching for textarea elements**
exec
/bin/zsh -lc 'rg -n "textarea|input" react/src/App.jsx | head' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
37:  'textarea:not([disabled])',
38:  'input:not([disabled])',
307:  if (['input', 'textarea', 'select'].includes(tagName)) {
446:  `${entry?.raw_input || ''}::${entry?.parsed_intent || ''}`;
452:  const rawInput = typeof entry.raw_input === 'string' ? entry.raw_input.trim() : '';
463:    raw_input: rawInput,
486:  const { raw_input, parsed_intent, timestamp, was_successful } = normalized;
487:  return { raw_input, parsed_intent, timestamp, was_successful };
566:    const textarea = document.createElement('textarea');
567:    textarea.value = text;

thinking
**Searching for textarea usage**
exec
/bin/zsh -lc 'rg -n "<textarea" react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp exited 1 in 53ms:


thinking
**Considering input methods and searching agentwp-prompt**
exec
/bin/zsh -lc 'rg -n "agentwp-prompt" react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
2052:                <label htmlFor="agentwp-prompt" className="sr-only">
2058:                      id="agentwp-prompt"
exec
/bin/zsh -lc "sed -n '2010,2105p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
          }}
        >
          <div
            ref={modalRef}
            role="dialog"
            aria-modal="true"
            aria-labelledby="agentwp-command-deck-title"
            className="w-full max-w-[600px] rounded-3xl border border-deck-border bg-slate-900/90 shadow-deck backdrop-blur-xl animate-deck-in motion-reduce:animate-none"
          >
            <div className="flex items-center justify-between border-b border-slate-700/50 px-6 py-5">
              <div>
                <p className="text-xs font-semibold uppercase tracking-[0.3em] text-slate-400">
                  AgentWP
                </p>
                <h2 id="agentwp-command-deck-title" className="text-lg font-semibold text-white">
                  Command Deck
                </h2>
              </div>
              <div className="flex items-center gap-2">
                <button

thinking
**Designing offline and error handling UI**

I’m planning to disable input and show an offline banner when the app detects offline status within 5 seconds. For errors, I want to improve the error UI by updating ErrorCard to conditionally show a Retry button only for transient errors, including an attempt counter and a report button. I’ll also parse 'Retry-After' headers to provide helpful retry timing info. Next, I’ll check app state handling around line 640 to 840 to integrate these changes smoothly.
exec
/bin/zsh -lc "sed -n '620,940p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 53ms:
    if (disabled) {
      return;
    }
    const payload = await getPayload();
    if (!payload) {
      return;
    }
    try {
      const success = await copyToClipboard(payload);
      if (!success) {
        return;
      }
      setStatus('copied');
      if (timerRef.current) {
        window.clearTimeout(timerRef.current);
      }
      timerRef.current = window.setTimeout(() => {
        setStatus('idle');
      }, COPY_FEEDBACK_MS);
    } catch (error) {

thinking
**Planning App error handling and offline state**

I’m mapping out how to enhance the App with error handling and offline detection by adding new imports, state variables, constants, and utility functions. I'll include error message sanitization, retry attempts, offline caching, and health check logic to detect connectivity, along with development-mode logging and an ErrorBoundary component for UI resilience. This involves balancing user-friendly error messages without exposing raw stack traces, and carefully handling various fetch error scenarios and authorization responses.
exec
/bin/zsh -lc 'head -n 120 react/components/cards/BaseCard.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 53ms:
import { useId } from 'react';
import './cards.css';

export default function BaseCard({
  title,
  subtitle,
  icon,
  actions,
  children,
  variant = 'info',
  accent = false,
  theme = 'auto',
  className = '',
}) {
  const titleId = useId();
  const resolvedTheme = theme === 'light' || theme === 'dark' ? theme : undefined;
  const cardClasses = [
    'agentwp-card',
    `agentwp-card--${variant}`,
    accent ? 'agentwp-card--accent' : '',


thinking
**Designing offline UI and error handling**

I'm mapping out how to update the offline banner and cached results display using Tailwind, including disabling inputs and hiding typeahead when offline. I’m also structuring error categorization and messaging logic in both React and PHP, planning functions to normalize diverse error types into friendly messages and integrating support reporting with sanitized context, plus adjusting API client error propagation for better error state management.
thinking
**Finalizing error handling and response integration**

I'm making sure success cases set error fields safely without overwriting useful data, updating response error methods to accept meta info consistently, and enhancing plugin response formatting to include error types properly. I’m also confirming frontend parsing aligns with backend changes and considering how offline detection handles permissions. Finally, I’m reviewing whether built assets need updating alongside source changes.
exec
/bin/zsh -lc 'head -n 5 assets/agentwp-admin.js' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 51ms:
(function () {
	'use strict';

	if (!window.wp || !wp.element || !wp.components || !wp.apiFetch) {
		return;

thinking
**Investigating React build in plugin assets**
exec
/bin/zsh -lc 'wc -l assets/agentwp-admin.js' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
     825 assets/agentwp-admin.js

thinking
**Analyzing React build output and source**

I'm examining whether `assets/agentwp-admin.js` is a built React file since the source `App.jsx` is large, and considering if both source and compiled files need updating. I'll check the `react/package.json` for build scripts to understand the build process and verify if I can run it locally despite possible network limits.
exec
/bin/zsh -lc 'cat react/package.json' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 50ms:
{
  "name": "agentwp-react",
  "private": true,
  "version": "0.1.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "chart.js": "^4.4.1",
    "html2canvas": "^1.4.1",
    "react": "^18.2.0",
    "react-chartjs-2": "^5.2.0",
    "react-dom": "^18.2.0",
    "react-markdown": "^9.0.1"
  },
  "devDependencies": {
    "@vitejs/plugin-react": "^4.2.0",

thinking
**Checking for asset build scripts**
exec
/bin/zsh -lc 'rg -n "agentwp-admin" -S react scripts' in /Users/ahmedyounis/Documents/Projects/agentwp exited 1 in 58ms:


thinking
**Assessing asset update strategy**
Plan update
Implementing backend error categorization plus frontend error recovery/offline UI touches multiple files; plan keeps work organized.
  ✓ Inspect existing error/intent handling and React command deck flow to identify integration points for categorization, offline detection, and UI changes.
  → Add backend error handler + OpenAI error metadata propagation, and wire error type/meta into REST error responses.
  • Implement React ErrorBoundary, offline detection/cache UI, retry + report issue flow, and error message mapping.

thinking
**Implementing backend error handler**

I’m creating a new PHP error Handler class with a categorize method to classify error types by code, status, message, and meta. I’m carefully designing the logic to avoid false matches, especially with overlapping keywords, and planning to update the RestController accordingly. This should help organize error handling cleanly.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/API/RestController.php
@@ -9,2 +9,3 @@
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
@@ -97,5 +98,19 @@
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
@@ -104,6 +119,3 @@
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
apply_patch(auto_approved=true) exited 0 in 22ms:
Success. Updated the following files:
M src/API/RestController.php
file update:
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 

file update:
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 


thinking
**Adding a new file**
file update
A /Users/ahmedyounis/Documents/Projects/agentwp/src/Error/Handler.php
<?php
/**
 * Error categorization helper.
 *
 * @package AgentWP
 */

namespace AgentWP\Error;

class Handler {
	const TYPE_NETWORK    = 'network_error';
	const TYPE_API        = 'api_error';
	const TYPE_RATE_LIMIT = 'rate_limit';
	const TYPE_AUTH       = 'auth_error';
	const TYPE_VALIDATION = 'validation_error';
	const TYPE_UNKNOWN    = 'unknown';

	/**
	 * Categorize errors into user-facing buckets.
	 *
	 * @param string $code Error code.
	 * @param int    $status HTTP status.
	 * @param string $message Error message.
	 * @param array  $meta Optional error metadata.
	 * @return string
	 */
	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
		$status   = (int) $status;
		$code     = is_string( $code ) ? strtolower( $code ) : '';
		$message  = is_string( $message ) ? strtolower( $message ) : '';
		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';

		$codes = array_filter( array( $code, $meta_code, $meta_type ) );

		if (
			0 === $status
			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
			|| false !== strpos( $message, 'timeout' )
			|| false !== strpos( $message, 'timed out' )
		) {
			return self::TYPE_NETWORK;
		}

		if (
			429 === $status
			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
		) {
			return self::TYPE_RATE_LIMIT;
		}

		if (
			in_array( $status, array( 401, 403 ), true )
			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
		) {
			return self::TYPE_AUTH;
		}

		if (
			in_array( $status, array( 400, 422 ), true )
			|| self::contains_any(
				$codes,
				array(
					'invalid',
					'missing',
					'validation',
					'invalid_request_error',
					'context_length_exceeded',
				)
			)
		) {
			return self::TYPE_VALIDATION;
		}

		if ( $status >= 500 ) {
			return self::TYPE_API;
		}

		return self::TYPE_UNKNOWN;
	}

	/**
	 * @param array $values Values to search.
	 * @param array $needles Target substrings.
	 * @return bool
	 */
	private static function contains_any( array $values, array $needles ) {
		foreach ( $values as $value ) {
			foreach ( $needles as $needle ) {
				if ( '' === $needle ) {
					continue;
				}
				if ( false !== strpos( $value, $needle ) ) {
					return true;
				}
			}
		}

		return false;
	}
}
apply_patch(auto_approved=true) exited 0 in 43ms:
Success. Updated the following files:
A src/Error/Handler.php
file update:
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}

file update:
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}


thinking
**Updating error handling in format_rest_response**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/Plugin.php
@@ -301,2 +301,9 @@
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
@@ -309,2 +316,4 @@
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
@@ -330,2 +339,9 @@
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
@@ -338,2 +354,4 @@
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
apply_patch(auto_approved=true) exited 0 in 36ms:
Success. Updated the following files:
M src/Plugin.php
file update:
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);

file update:
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);


thinking
**Reviewing error meta and namespace usage**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/Rest/IntentController.php
@@ -68,3 +68,8 @@
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
apply_patch(auto_approved=true) exited 0 in 44ms:
Success. Updated the following files:
M src/Rest/IntentController.php
file update:
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Updating OpenAIClient error handling**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/AI/OpenAIClient.php
@@ -273,2 +273,4 @@
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
@@ -281,3 +283,5 @@
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
@@ -293,2 +297,4 @@
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
@@ -302,2 +308,4 @@
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
apply_patch(auto_approved=true) exited 0 in 51ms:
Success. Updated the following files:
M src/AI/OpenAIClient.php
file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..d5be10deb4a56116f21ed3f31a2ba35fd7902b0b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -271,6 +271,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +281,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +295,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +306,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..d5be10deb4a56116f21ed3f31a2ba35fd7902b0b
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -271,6 +271,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +281,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +295,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +306,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Updating request_with_retry to include error details**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/AI/OpenAIClient.php
@@ -225,5 +225,8 @@
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
@@ -235,2 +238,5 @@
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
@@ -244,4 +250,7 @@
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
apply_patch(auto_approved=true) exited 0 in 65ms:
Success. Updated the following files:
M src/AI/OpenAIClient.php
file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..2ab2c17aae73fc2a869df5a05c65353a6ac0abc8
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -223,9 +223,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +236,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +248,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +280,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +290,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +304,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +315,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..2ab2c17aae73fc2a869df5a05c65353a6ac0abc8
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -223,9 +223,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +236,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +248,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +280,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +290,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +304,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +315,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Updating chat method with error metadata**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/AI/OpenAIClient.php
@@ -130,3 +130,6 @@
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
@@ -146,3 +149,6 @@
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
apply_patch(auto_approved=true) exited 0 in 65ms:
Success. Updated the following files:
M src/AI/OpenAIClient.php
file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Reviewing backend updates and next steps**
Plan update
  ✓ Inspect existing error/intent handling and React command deck flow to identify integration points for categorization, offline detection, and UI changes.
  ✓ Add backend error handler + OpenAI error metadata propagation, and wire error type/meta into REST error responses.
  → Implement React ErrorBoundary, offline detection/cache UI, retry + report issue flow, and error message mapping.
file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();



thinking
**Implementing comprehensive React error handling**
thinking
**Consolidating error message state into errorState**

I'm planning to remove the separate errorMessage state and unify error handling around errorState, updating all places that read or set errorMessage to instead use or update errorState. This will reduce redundancy and ensure error info is consistent throughout the UI and logic.
exec
/bin/zsh -lc 'rg -n "setErrorMessage" react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 51ms:
672:  const [errorMessage, setErrorMessage] = useState('');
1122:      setErrorMessage('');
1478:      setErrorMessage('');
1549:        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Preparing to update error handling**
exec
/bin/zsh -lc 'rg -n "errorMessage" react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 55ms:
672:  const [errorMessage, setErrorMessage] = useState('');
1508:          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
1509:          throw new Error(errorMessage);
1652:  const hasDraft = Boolean(response && !errorMessage);
2198:                  ) : errorMessage ? (
2199:                    <p className="text-sm text-rose-300">{errorMessage}</p>
file update:
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Updating imports and constants**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -4,3 +4,3 @@
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
apply_patch(auto_approved=true) exited 0 in 55ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d6b75cfa393c08790d090f8ae4340de70678b07
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d6b75cfa393c08790d090f8ae4340de70678b07
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Inserting new constants**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -33,2 +33,5 @@
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
@@ -48,2 +51,3 @@
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
apply_patch(auto_approved=true) exited 0 in 60ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..80568860277f10f8390e66be33b9c11081efcd39
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..80568860277f10f8390e66be33b9c11081efcd39
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Preparing error message constants**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -135,2 +135,34 @@
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
apply_patch(auto_approved=true) exited 0 in 64ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..73c7c3506988c265a92ceb496f0aca2be6a4a855
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..73c7c3506988c265a92ceb496f0aca2be6a4a855
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Adding new endpoint helper function**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -406,2 +406,13 @@
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
apply_patch(auto_approved=true) exited 0 in 68ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a25858a11471165c82658679dd39e16c72c1fde2
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a25858a11471165c82658679dd39e16c72c1fde2
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Adding and updating helper functions**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -477,3 +477,3 @@
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
@@ -486,3 +486,105 @@
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
 };
apply_patch(auto_approved=true) exited 0 in 64ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..56e8ee91df354062a3f5bba854d9ad87fb4fe56b
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,109 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..56e8ee91df354062a3f5bba854d9ad87fb4fe56b
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,109 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Adding error state helpers**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -591,2 +591,23 @@
 
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
apply_patch(auto_approved=true) exited 0 in 67ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..e77a423654e1b8de1e745ad3de821420a983eacf
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,130 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..e77a423654e1b8de1e745ad3de821420a983eacf
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,130 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Updating state declarations in App**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -841,3 +841,7 @@
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
@@ -863,2 +867,3 @@
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
@@ -866,2 +871,3 @@
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
apply_patch(auto_approved=true) exited 0 in 69ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..3991d645e72b5bdd21e149d9e5b55a5e484be68d
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,130 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +839,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +865,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..3991d645e72b5bdd21e149d9e5b55a5e484be68d
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,130 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +839,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +865,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Adding derived state variables**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -901,2 +901,7 @@
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
apply_patch(auto_approved=true) exited 0 in 62ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..854b0729f2b3382060ddb3e8cd9df9862e93081a
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,132 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
 };
 
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +839,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +865,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +899,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..854b0729f2b3382060ddb3e8cd9df9862e93081a
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,132 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
 };
 
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +839,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +865,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +899,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Planning state and utility function placement**

I'm checking the order of state declarations like `draftHistory` and `offlineDrafts` to make sure they're used correctly. I'm planning to add an effect for online/offline events and health pings right after the theme preference effect, aiming for logical sequencing. I also want to create a `checkHealth` function with `useCallback` near other functions like `refreshUsage`. For logging, I'll add a simple `logDev` helper outside the main component near other utilities, so it's reusable and doesn’t clutter the component.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -612,2 +612,9 @@
 
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
apply_patch(auto_approved=true) exited 0 in 68ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..75f12804301889e2b91b970949c869b839eca80e
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
 };
 
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..75f12804301889e2b91b970949c869b839eca80e
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
 };
 
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Planning offline detection integration**

I'm organizing how to add offline detection with `useEffect` after the theme preference effect near the top of the App component. I'll also define a `checkHealth` function alongside other network-related functions like `refreshUsage` and `fetchBudgetLimit` to keep things consistent before implementing the event listeners and ping intervals.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -952,2 +952,18 @@
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
apply_patch(auto_approved=true) exited 0 in 68ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..b63295f6e8afc38143a94a006d83accbfa2750fa
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,137 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..b63295f6e8afc38143a94a006d83accbfa2750fa
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,137 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Adding health check callback**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1074,2 +1074,58 @@
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
apply_patch(auto_approved=true) exited 0 in 70ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..0531ce5ae7d294fd9c4f4e06fe4f9b7c5c55c3bd
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
 };
 
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,6 +1072,62 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..0531ce5ae7d294fd9c4f4e06fe4f9b7c5c55c3bd
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
 };
 
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,6 +1072,62 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Adding periodic health check effect**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1135,2 +1135,19 @@
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
apply_patch(auto_approved=true) exited 0 in 65ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..6e73998f2a9b2ec9543a8729667d13d34aeec42b
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
 };
 
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..6e73998f2a9b2ec9543a8729667d13d34aeec42b
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
 };
 
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Adding offline check in search effect**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1408,2 +1408,9 @@
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
@@ -1478,3 +1485,3 @@
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
apply_patch(auto_approved=true) exited 0 in 70ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..5d8dad954a4d3851007476cbb4f0e5fe4c3aed03
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
 };
 
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1129,6 +1406,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1483,7 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..5d8dad954a4d3851007476cbb4f0e5fe4c3aed03
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
 };
 
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1129,6 +1406,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1483,7 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Updating error handling in handleRestoreDraft**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1398,3 +1398,4 @@
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
apply_patch(auto_approved=true) exited 0 in 63ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..5631dd63c740f0bef787dc65d773ebe0cdf3e34a
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
 };
 
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1396,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1407,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1484,7 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..5631dd63c740f0bef787dc65d773ebe0cdf3e34a
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
 };
 
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1396,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1407,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1484,7 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Enhancing submitCommand logic with options and error handling**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1750,7 +1750,8 @@
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
@@ -1762,3 +1763,6 @@
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
@@ -1769,2 +1773,3 @@
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
@@ -1792,4 +1797,19 @@
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
@@ -1833,3 +1853,15 @@
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
@@ -1842,2 +1874,3 @@
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
@@ -1852,3 +1885,11 @@
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
apply_patch(auto_approved=true) exited 0 in 68ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..b5a1c68efc30b08d92e34a838b92ba48082e5bd0
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,137 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1396,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1407,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1484,7 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1748,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1761,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1795,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1851,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1872,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,7 +1883,15 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
   const handleSubmit = useCallback(
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..b5a1c68efc30b08d92e34a838b92ba48082e5bd0
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,137 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1396,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1407,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1484,7 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1748,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1761,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1795,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1851,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1872,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,7 +1883,15 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
   const handleSubmit = useCallback(
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Reviewing error message resets**
exec
/bin/zsh -lc 'rg -n "setErrorMessage" react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp exited 1 in 54ms:

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..b5a1c68efc30b08d92e34a838b92ba48082e5bd0
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,137 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1396,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1407,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1484,7 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1748,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1761,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1795,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1851,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1872,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,7 +1883,15 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
   const handleSubmit = useCallback(
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Verifying removal of errorMessage state**
exec
/bin/zsh -lc 'rg -n "errorMessage" react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 35ms:
909:  const errorMessage = errorState?.message || '';
1978:  const hasDraft = Boolean(response && !errorMessage);
2524:                  ) : errorMessage ? (
2525:                    <p className="text-sm text-rose-300">{errorMessage}</p>
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..b5a1c68efc30b08d92e34a838b92ba48082e5bd0
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,137 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1396,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1407,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1484,7 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1748,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1761,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1795,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1851,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1872,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,7 +1883,15 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
   const handleSubmit = useCallback(
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Planning offline and error handling updates**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1489,2 +1489,12 @@
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
apply_patch(auto_approved=true) exited 0 in 64ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..cb44e9a8d1514c0ed01fc849fe2a3788a30047cc
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,137 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1396,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1407,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1484,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1758,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1771,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1805,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1861,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1882,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,7 +1893,15 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
   const handleSubmit = useCallback(
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..cb44e9a8d1514c0ed01fc849fe2a3788a30047cc
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +484,137 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1396,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1407,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1484,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1758,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1771,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1805,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1861,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1882,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,7 +1893,15 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
   const handleSubmit = useCallback(
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Implementing retry and report handlers**

I'm preparing `handleRetry` to allow retrying commands only when appropriate, and `handleReportIssue` to send sanitized error context via email. I'll use `useCallback` hooks near `submitCommand` for stable references, carefully crafting the support context without exposing sensitive info and ensuring client-only execution.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1906,2 +1906,41 @@
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
apply_patch(auto_approved=true) exited 0 in 60ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..608e21b70576bcf81a07bf96f165bf73f4377793
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1396,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1407,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1484,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1758,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1771,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1805,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1861,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1882,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1893,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..608e21b70576bcf81a07bf96f165bf73f4377793
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
 };
 
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1396,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1407,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1484,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1758,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1771,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1805,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1861,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1882,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1893,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Assessing state and error handling updates**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -2026,3 +2026,3 @@
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
apply_patch(auto_approved=true) exited 0 in 65ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..361ca8b6579557a210f74f07bf94fdace662a7c5
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1396,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1407,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1484,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1758,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1771,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1805,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1861,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1882,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1893,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2024,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..361ca8b6579557a210f74f07bf94fdace662a7c5
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,7 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +484,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +846,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +872,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +906,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +950,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1072,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1396,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1407,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1484,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1758,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1771,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1805,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1861,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1882,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1893,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2024,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Adding offline banner and UI updates**

I'm updating the render logic to insert an offline banner above the form and disable input/send when offline. I'll also improve the offline response area to display cached drafts with a helper to truncate text for neat display. This way, offline users see a clear indicator and can interact with cached results smoothly.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -477,2 +477,13 @@
 
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
 const buildMailtoLink = (subject, body, recipient = '') => {
apply_patch(auto_approved=true) exited 0 in 61ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..d7df6e5265a7582c24e9cedea0492c84ccf223f3
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
 };
 
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +961,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1083,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1407,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1418,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1495,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1769,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1782,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1816,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1872,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1893,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1904,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2035,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..d7df6e5265a7582c24e9cedea0492c84ccf223f3
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
 };
 
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +961,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1083,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1407,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1418,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1495,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1769,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1782,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1816,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1872,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1893,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1904,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2035,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Updating input for offline mode**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -2454,4 +2454,5 @@
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
@@ -2459,6 +2460,6 @@
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
apply_patch(auto_approved=true) exited 0 in 68ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..5873f92838e35356193ea056afb8791900d8ec86
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
 };
 
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +961,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1083,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1407,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1418,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1495,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1769,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1782,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1816,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1872,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1893,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1904,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2035,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2066,15 +2452,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..5873f92838e35356193ea056afb8791900d8ec86
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
 };
 
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +961,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1083,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1407,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1418,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1495,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1769,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1782,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1816,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1872,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1893,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1904,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2035,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2066,15 +2452,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Adding offline banner above form**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -2436,2 +2436,13 @@
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
apply_patch(auto_approved=true) exited 0 in 68ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a939ac330ef5430dbdd0c90e043ecf53bb697fdd
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
 };
 
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +961,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1083,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1407,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1418,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1495,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1769,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1782,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1816,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1872,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1893,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1904,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2035,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2434,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2463,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a939ac330ef5430dbdd0c90e043ecf53bb697fdd
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
 };
 
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +961,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1083,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1407,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1418,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1495,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1769,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1782,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1816,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1872,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1893,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1904,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2035,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2434,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2463,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Modifying response area for error handling**
exec
/bin/zsh -lc "sed -n '2140,2245p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
          borderWidth: 2,
        },
      ],
    }),
    [chartPalette, periodData]
  );
  const trendTable = useMemo(
    () => ({
      caption: `Daily revenue for ${periodData.label}`,
      headers: ['Day', 'This period', 'Previous period'],
      rows: periodData.labels.map((label, index) => ({
        id: `trend-${selectedPeriod}-${label}`,
        cells: [
          label,
          formatCurrencyValue(periodData.current[index]),
          formatCurrencyValue(periodData.previous[index]),
        ],
      })),
    }),
    [periodData, selectedPeriod]
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a939ac330ef5430dbdd0c90e043ecf53bb697fdd
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
 };
 
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +961,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1083,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1407,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1418,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1495,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1769,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1782,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1816,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1872,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1893,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1904,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2035,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2434,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2463,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Searching for aria-live attribute**
exec
/bin/zsh -lc "sed -n '2360,2250p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 52ms:
                      style={{ height: `${value}px` }}
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a939ac330ef5430dbdd0c90e043ecf53bb697fdd
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
 };
 
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +961,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1083,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1407,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1418,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1495,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1769,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1782,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1816,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1872,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1893,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1904,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2035,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2434,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2463,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Adjusting search parameters**
exec
/bin/zsh -lc 'rg -n "Latest response" -n react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
2546:                      Latest response
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a939ac330ef5430dbdd0c90e043ecf53bb697fdd
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
 };
 
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +961,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1083,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1407,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1418,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1495,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1769,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1782,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1816,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1872,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1893,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1904,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2035,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2434,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2463,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Reviewing large content section**
exec
/bin/zsh -lc "sed -n '2520,2625p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
                                    <span className="flex-1">
                                      <span className="block text-sm font-semibold text-slate-100">
                                        {renderHighlightedText(item.primary || '', prompt)}
                                      </span>
                                      {item.secondary ? (
                                        <span className="block text-xs text-slate-400">
                                          {renderHighlightedText(item.secondary, prompt)}
                                        </span>
                                      ) : null}
                                    </span>
                                  </button>
                                );
                              })}
                            </div>
                          </div>
                        );
                      })}
                    </div>
                  )}
                </div>
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a939ac330ef5430dbdd0c90e043ecf53bb697fdd
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
 };
 
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,11 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +961,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1083,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1407,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1418,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1495,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1769,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1782,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1816,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1872,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1893,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1904,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2035,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2434,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2463,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Updating error and offline UI logic**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -920,2 +920,5 @@
   const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
   const offlineDrafts = useMemo(
apply_patch(auto_approved=true) exited 0 in 59ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..e4d764acb40ebba7036c1d952a66a93325b078b3
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
 };
 
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1498,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..e4d764acb40ebba7036c1d952a66a93325b078b3
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
 };
 
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1498,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Updating render block condition**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -2598,4 +2598,46 @@
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
apply_patch(auto_approved=true) exited 0 in 92ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d725e799170fee3921129514cc0895e47fdd44f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2596,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d725e799170fee3921129514cc0895e47fdd44f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2596,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Reviewing usage of ErrorCard and draft functions**
exec
/bin/zsh -lc 'rg -n "addDraftToHistory" -n react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
1317:  const addDraftToHistory = useCallback((draft) => {
1859:        addDraftToHistory({
1912:      addDraftToHistory,
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d725e799170fee3921129514cc0895e47fdd44f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2596,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

exec
/bin/zsh -lc "sed -n '1280,1355p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 55ms:
        });
        return;
      }

      if (event.key === 'ArrowUp') {
        event.preventDefault();
        setActiveSuggestionIndex((prev) => {
          const next = prev - 1;
          if (next < 0) {
            return flatSuggestions.length - 1;
          }
          return next;
        });
        return;
      }

      if (event.key === 'Enter' && activeSuggestionIndex >= 0) {
        event.preventDefault();
        handleSuggestionSelect(flatSuggestions[activeSuggestionIndex]);
        return;
file update:
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d725e799170fee3921129514cc0895e47fdd44f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2596,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Updating error handling and ErrorCard component**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/components/cards/ErrorCard.jsx
@@ -27,2 +27,7 @@
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
@@ -37,2 +42,9 @@
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
@@ -43,10 +55,3 @@
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
apply_patch(auto_approved=true) exited 0 in 62ms:
Success. Updated the following files:
M react/components/cards/ErrorCard.jsx
file update:
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d725e799170fee3921129514cc0895e47fdd44f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2596,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d725e799170fee3921129514cc0895e47fdd44f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2596,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Implementing ErrorBoundary component**
file update
A /Users/ahmedyounis/Documents/Projects/agentwp/react/components/ErrorBoundary.jsx
import React from 'react';
import { ErrorCard } from './cards';

const IS_DEV = import.meta.env?.DEV ?? false;

export default class ErrorBoundary extends React.Component {
  constructor(props) {
    super(props);
    this.state = { hasError: false };
    this.handleReload = this.handleReload.bind(this);
  }

  static getDerivedStateFromError() {
    return { hasError: true };
  }

  componentDidCatch(error, info) {
    if (IS_DEV && typeof console !== 'undefined') {
      console.error('[AgentWP] Render error', error, info);
    }
    if (typeof this.props.onError === 'function') {
      this.props.onError(error, info);
    }
  }

  handleReload() {
    if (typeof window === 'undefined') {
      return;
    }
    window.location.reload();
  }

  render() {
    const { hasError } = this.state;
    if (hasError) {
      return (
        <div className="p-6">
          <ErrorCard
            title="AgentWP ran into a problem"
            message="Please refresh the page to try again."
            retryLabel="Reload"
            onRetry={this.handleReload}
          />
        </div>
      );
    }
    return this.props.children;
  }
}
apply_patch(auto_approved=true) exited 0 in 82ms:
Success. Updated the following files:
A react/components/ErrorBoundary.jsx
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d725e799170fee3921129514cc0895e47fdd44f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2596,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d725e799170fee3921129514cc0895e47fdd44f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2596,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Wrapping main.jsx with ErrorBoundary**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/main.jsx
@@ -3,2 +3,3 @@
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
@@ -12,3 +13,5 @@
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
apply_patch(auto_approved=true) exited 0 in 74ms:
Success. Updated the following files:
M react/src/main.jsx
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d725e799170fee3921129514cc0895e47fdd44f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2596,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d725e799170fee3921129514cc0895e47fdd44f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2596,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..442711ce720ad24080332446f843fb5265ad5b1f
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -299,6 +299,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +314,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +337,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +352,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Updating app and plugin with offline detection and support email**

I'm integrating offline detection by refining error handling and command submission logic. I'll also enhance the plugin to pass a sanitized support email and version info into the inline script for frontend access. This way, the app can better reflect user connectivity status and provide accurate support contact details.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/Plugin.php
@@ -179,2 +179,4 @@
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
apply_patch(auto_approved=true) exited 0 in 88ms:
Success. Updated the following files:
M src/Plugin.php
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d725e799170fee3921129514cc0895e47fdd44f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2596,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..7d725e799170fee3921129514cc0895e47fdd44f
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1546,7 +1875,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1896,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1907,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2038,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2437,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2466,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2596,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Reviewing error and offline handling updates**

I’m going through various parts of error handling and offline detection logic, checking usage of error states, retry behaviors, sanitized reporting contexts, and mailto link generation. I’m also verifying that retry attempt counters reset correctly after success, ensuring error messages and components update based on these states smoothly. It feels like a thorough pass to strengthen the error workflows and offline user experiences.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1854,2 +1854,3 @@
 
+        setRetryAttempt(0);
         setResponse(message);
apply_patch(auto_approved=true) exited 0 in 87ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..38be5d724e281a1b23d43dfc7971c82ee2f15aec
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1852,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1876,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1897,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1908,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2039,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2438,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2467,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2597,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..38be5d724e281a1b23d43dfc7971c82ee2f15aec
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1852,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1876,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1897,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1908,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2039,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2438,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2467,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2597,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Reviewing error handling updates**
exec
/bin/zsh -lc 'rg -n "errorState" react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 53ms:
860:  const [errorState, setErrorState] = useState(null);
920:  const errorMessage = errorState?.message || '';
921:  const retryLabel = errorState?.retryable
1923:    if (!errorState?.retryable || loading) {
1932:  }, [errorState?.retryable, loading, submitCommand]);
1935:    if (typeof window === 'undefined' || !errorState) {
1941:      error_code: errorState.code || '',
1942:      error_type: errorState.type || '',
1943:      status: errorState.status || 0,
1944:      retry_after: errorState.retryAfter || 0,
1945:      retries: errorState.meta?.retries || 0,
1959:  }, [errorState, isOffline, retryAttempt]);
2042:  const hasDraft = Boolean(response && !errorState);
2636:                  ) : errorState ? (
2641:                      onRetry={errorState.retryable ? handleRetry : undefined}
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..38be5d724e281a1b23d43dfc7971c82ee2f15aec
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1852,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1876,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1897,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1908,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2039,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2438,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2467,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2597,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Adjusting error handling and offline behavior**
exec
/bin/zsh -lc 'rg -n "showTypeahead" -n react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 52ms:
2046:  const showTypeahead =
2467:                      aria-expanded={showTypeahead}
2483:                  {showTypeahead && (
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..38be5d724e281a1b23d43dfc7971c82ee2f15aec
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1852,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1876,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1897,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1908,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2039,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2438,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2467,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2597,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Checking definition near line 2046**
exec
/bin/zsh -lc "sed -n '2020,2065p' react/src/App.jsx" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 54ms:
    [commandHistory, favoriteCommandKeys]
  );
  const mostUsedCommands = useMemo(() => {
    const entries = Object.entries(commandUsage || {});
    if (!entries.length) {
      return [];
    }
    return entries
      .filter(([rawInput]) => rawInput)
      .sort((a, b) => b[1] - a[1])
      .slice(0, 5)
      .map(([raw_input, count]) => ({ raw_input, count }));
  }, [commandUsage]);
  const isCommandFavorited = useCallback(
    (entry) => favoriteCommandKeys.has(buildCommandKey(entry)),
    [favoriteCommandKeys]
  );
  const lastSuccessfulCommand =
    lastCommandEntry && lastCommandEntry.was_successful ? lastCommandEntry : null;
  const isLastCommandFavorited = lastSuccessfulCommand
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..38be5d724e281a1b23d43dfc7971c82ee2f15aec
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
 };
 
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1852,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1876,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1897,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1908,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,7 +2039,7 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
@@ -2048,6 +2438,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2467,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2597,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Updating showTypeahead to consider offline status**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -2046,2 +2046,3 @@
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
apply_patch(auto_approved=true) exited 0 in 82ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..d004d597486e8a2a71dd6ef39b6003e1ab431b8c
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
 };
 
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1852,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1876,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1897,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1908,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2039,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2439,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2468,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2598,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..d004d597486e8a2a71dd6ef39b6003e1ab431b8c
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
 };
 
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1852,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1876,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1897,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1908,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2039,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2439,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2468,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2598,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..f52b4772ce1f5a37336ba84e68e32932dbad7067
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -291,6 +310,8 @@
 			$decoded = json_decode( $body, true );
 			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
 				$error = $decoded['error']['message'];
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +321,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();



thinking
**Summarizing extensive error and offline handling updates**

There is a lot here! I'm working through detailed updates to error handling in both React and PHP parts of the app, focusing on sanitizing messages, improving offline detection, refining error state management, and ensuring consistency in error metadata across components. I'm also ensuring UI components like `ErrorCard` behave correctly when retries or reporting are available or not. There’s a strong emphasis on sync between backend error categorization and frontend display while keeping user-facing messages clean and helpful.
thinking
**Validating error handling and retry logic improvements**

There is a lot here! I’m reviewing updates to error handling in React and backend PHP, focusing on retry counters, error props like `retryable` and `error_code`, offline request aborts, and UI tweaks like consistent `ErrorCard` usage with proper imports and CSS. I’m also ensuring robust error parsing in `OpenAIClient` to reliably set error codes and types even when messages are missing. It’s a thorough pass to solidify error state management and user feedback across the app.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/AI/OpenAIClient.php
@@ -308,6 +308,8 @@
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
 				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
apply_patch(auto_approved=true) exited 0 in 72ms:
Success. Updated the following files:
M src/AI/OpenAIClient.php
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..d004d597486e8a2a71dd6ef39b6003e1ab431b8c
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
 };
 
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1852,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1876,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1897,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1908,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2039,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2439,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2468,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2598,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..d004d597486e8a2a71dd6ef39b6003e1ab431b8c
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
 };
 
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1852,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1876,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1897,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1908,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2039,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2439,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2468,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2598,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..31d8df58ec0c5a41f31d6ac64f7b4671683823d0
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,101 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Enhancing error handling and classification**

I'm updating `response_error` to optionally include `meta` and tweaking `format_rest_response` accordingly. I also notice `Error\Handler` isn't imported but resolves via namespace, which is convenient. I want to refine `ErrorHandler` to treat `'agentwp_invalid_key'` errors as authentication errors by adding `'invalid_key'` to the auth checks since the string includes `'invalid_key'`. This should correctly classify those errors before the validation check kicks in. I'll proceed with those adjustments.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/src/Error/Handler.php
@@ -53,3 +53,6 @@
 			in_array( $status, array( 401, 403 ), true )
-			|| self::contains_any( $codes, array( 'auth', 'forbidden', 'invalid_api_key', 'authentication_error', 'insufficient_quota' ) )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
 		) {
apply_patch(auto_approved=true) exited 0 in 89ms:
Success. Updated the following files:
M src/Error/Handler.php
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..d004d597486e8a2a71dd6ef39b6003e1ab431b8c
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
 };
 
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1852,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1876,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1897,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1908,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2039,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2439,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2468,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2598,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..d004d597486e8a2a71dd6ef39b6003e1ab431b8c
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,9 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
 };
 
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode = meta?.error_code;
+  const openAiType = meta?.error_type;
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
+};
+
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
 
 const buildCommandKey = (entry) =>
@@ -669,7 +857,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +883,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +917,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +964,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1086,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1410,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1421,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,7 +1498,17 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
+
+  useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
 
   useEffect(() => {
     if (typeof window === 'undefined') {
@@ -1463,11 +1772,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1785,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1819,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1852,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1876,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1897,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1908,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2039,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2439,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2468,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2598,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Updating error handling and offline logic**

I'm refining how the app manages error states and offline status. This includes adjusting when retries happen, whether error cards or offline banners show, how error codes from the backend are normalized for consistent lookup, and ensuring stale errors don’t confuse the UI when toggling offline and online modes. I’m also making sure error reporting and theming integrate smoothly across components. There is a lot here! I'll proceed carefully to keep behavior consistent and user-friendly.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -569,4 +569,6 @@
 const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
-  const openAiCode = meta?.error_code;
-  const openAiType = meta?.error_type;
+  const openAiCode =
+    typeof meta?.error_code === 'string' ? meta.error_code.toLowerCase() : '';
+  const openAiType =
+    typeof meta?.error_type === 'string' ? meta.error_type.toLowerCase() : '';
 
apply_patch(auto_approved=true) exited 0 in 85ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..faf867d05874e4cd0a9b60ba4b2fb95359c375c4
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode =
+    typeof meta?.error_code === 'string' ? meta.error_code.toLowerCase() : '';
+  const openAiType =
+    typeof meta?.error_type === 'string' ? meta.error_type.toLowerCase() : '';
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +859,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +885,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +919,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +966,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1088,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1412,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1423,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1500,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1774,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1787,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1821,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1854,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1878,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1899,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1910,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2041,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2441,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2470,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2600,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..faf867d05874e4cd0a9b60ba4b2fb95359c375c4
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +495,139 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode =
+    typeof meta?.error_code === 'string' ? meta.error_code.toLowerCase() : '';
+  const openAiType =
+    typeof meta?.error_type === 'string' ? meta.error_type.toLowerCase() : '';
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  if (code && AGENTWP_ERROR_MESSAGES[code]) {
+    return AGENTWP_ERROR_MESSAGES[code];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +859,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +885,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +919,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +966,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1088,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1412,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1423,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1500,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1774,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1787,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1821,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1854,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1878,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1899,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1910,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2041,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2441,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2470,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2600,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Normalizing error codes for consistency**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -580,4 +580,5 @@
   }
-  if (code && AGENTWP_ERROR_MESSAGES[code]) {
-    return AGENTWP_ERROR_MESSAGES[code];
+  const normalizedCode = typeof code === 'string' ? code.toLowerCase() : '';
+  if (normalizedCode && AGENTWP_ERROR_MESSAGES[normalizedCode]) {
+    return AGENTWP_ERROR_MESSAGES[normalizedCode];
   }
apply_patch(auto_approved=true) exited 0 in 83ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..e8bc6382fcbee05abbb620559ac15eea4b2fdb48
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +495,140 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode =
+    typeof meta?.error_code === 'string' ? meta.error_code.toLowerCase() : '';
+  const openAiType =
+    typeof meta?.error_type === 'string' ? meta.error_type.toLowerCase() : '';
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  const normalizedCode = typeof code === 'string' ? code.toLowerCase() : '';
+  if (normalizedCode && AGENTWP_ERROR_MESSAGES[normalizedCode]) {
+    return AGENTWP_ERROR_MESSAGES[normalizedCode];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +860,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +886,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +920,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +967,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1089,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1413,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1424,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1501,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1775,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1788,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1822,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1855,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1879,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1900,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1911,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2042,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2442,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2471,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2601,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..e8bc6382fcbee05abbb620559ac15eea4b2fdb48
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +495,140 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode =
+    typeof meta?.error_code === 'string' ? meta.error_code.toLowerCase() : '';
+  const openAiType =
+    typeof meta?.error_type === 'string' ? meta.error_type.toLowerCase() : '';
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  const normalizedCode = typeof code === 'string' ? code.toLowerCase() : '';
+  if (normalizedCode && AGENTWP_ERROR_MESSAGES[normalizedCode]) {
+    return AGENTWP_ERROR_MESSAGES[normalizedCode];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +860,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +886,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +920,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +967,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1089,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1413,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1424,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1501,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1775,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1788,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1822,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1855,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1879,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1900,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1911,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2042,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2442,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2471,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2601,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Refining error handling and offline support**
Plan update
  ✓ Inspect existing error/intent handling and React command deck flow to identify integration points for categorization, offline detection, and UI changes.
  ✓ Add backend error handler + OpenAI error metadata propagation, and wire error type/meta into REST error responses.
  ✓ Implement React ErrorBoundary, offline detection/cache UI, retry + report issue flow, and error message mapping.
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..e8bc6382fcbee05abbb620559ac15eea4b2fdb48
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +495,140 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode =
+    typeof meta?.error_code === 'string' ? meta.error_code.toLowerCase() : '';
+  const openAiType =
+    typeof meta?.error_type === 'string' ? meta.error_type.toLowerCase() : '';
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  const normalizedCode = typeof code === 'string' ? code.toLowerCase() : '';
+  if (normalizedCode && AGENTWP_ERROR_MESSAGES[normalizedCode]) {
+    return AGENTWP_ERROR_MESSAGES[normalizedCode];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +860,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +886,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +920,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +967,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1089,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1413,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1424,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1501,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1775,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1788,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1822,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1855,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1879,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1900,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1911,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2042,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2442,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2471,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2601,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();



thinking
**Summarizing extensive error handling updates**

I'm working through many detailed updates to error handling across React and backend components—syncing error message propagation, sanitization, meta info passing, offline detection, retry logic, UI error cards, and dev logging—to ensure consistent, safe, and user-friendly error reporting throughout the app. There is a lot here involving updating imports, state management, checking dependencies, and carefully integrating new error categories and network error detection. Everything centers on robust error communication and sanitization.
thinking
**Verifying consistency across error and config updates**

I’m wrapping up by checking imports, error message handling, new plugin supportEmail usage, offline UI behavior, and ensuring `ErrorCard` and `ErrorBoundary` integrations are consistent. I’m also verifying code style and ASCII compliance, double-checking dependencies, and confirming error categorization covers new cases. Everything is aligning well across frontend and backend components.
exec
/bin/zsh -lc 'rg -n "supportEmail" -S' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 59ms:
src/Plugin.php:180:						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
react/src/App.jsx:505:  return window.agentwpSettings?.supportEmail || '';
react/src/App.jsx:1959:    const supportEmail = getSupportEmail();
react/src/App.jsx:1960:    const href = buildMailtoLink(subject, body, supportEmail);
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..e8bc6382fcbee05abbb620559ac15eea4b2fdb48
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +495,140 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode =
+    typeof meta?.error_code === 'string' ? meta.error_code.toLowerCase() : '';
+  const openAiType =
+    typeof meta?.error_type === 'string' ? meta.error_type.toLowerCase() : '';
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  const normalizedCode = typeof code === 'string' ? code.toLowerCase() : '';
+  if (normalizedCode && AGENTWP_ERROR_MESSAGES[normalizedCode]) {
+    return AGENTWP_ERROR_MESSAGES[normalizedCode];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +860,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +886,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +920,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +967,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1089,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1413,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1424,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1501,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1775,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1788,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1822,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1855,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1879,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1900,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1911,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2042,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2442,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2471,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2601,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Applying comprehensive error handling updates**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/react/src/App.jsx
@@ -1925,3 +1925,3 @@
   const handleRetry = useCallback(() => {
-    if (!errorState?.retryable || loading) {
+    if (!errorState?.retryable || loading || isOffline) {
       return;
@@ -1934,3 +1934,3 @@
     submitCommand(lastPrompt, { isRetry: true });
-  }, [errorState?.retryable, loading, submitCommand]);
+  }, [errorState?.retryable, isOffline, loading, submitCommand]);
 
apply_patch(auto_approved=true) exited 0 in 79ms:
Success. Updated the following files:
M react/src/App.jsx
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a8cc2f9dfc36d512940e6c19f79e4cffd19a9219
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +495,140 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode =
+    typeof meta?.error_code === 'string' ? meta.error_code.toLowerCase() : '';
+  const openAiType =
+    typeof meta?.error_type === 'string' ? meta.error_type.toLowerCase() : '';
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  const normalizedCode = typeof code === 'string' ? code.toLowerCase() : '';
+  if (normalizedCode && AGENTWP_ERROR_MESSAGES[normalizedCode]) {
+    return AGENTWP_ERROR_MESSAGES[normalizedCode];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +860,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +886,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +920,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +967,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1089,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1413,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1424,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1501,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1775,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1788,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1822,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1855,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1879,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1900,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1911,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading || isOffline) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, isOffline, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2042,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2442,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2471,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2601,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a8cc2f9dfc36d512940e6c19f79e4cffd19a9219
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +495,140 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode =
+    typeof meta?.error_code === 'string' ? meta.error_code.toLowerCase() : '';
+  const openAiType =
+    typeof meta?.error_type === 'string' ? meta.error_type.toLowerCase() : '';
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  const normalizedCode = typeof code === 'string' ? code.toLowerCase() : '';
+  if (normalizedCode && AGENTWP_ERROR_MESSAGES[normalizedCode]) {
+    return AGENTWP_ERROR_MESSAGES[normalizedCode];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +860,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +886,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +920,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +967,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1089,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1413,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1424,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1501,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1775,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1788,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1822,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1855,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1879,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1900,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1911,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading || isOffline) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, isOffline, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2042,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2442,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2471,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2601,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();



thinking
**Refining error handling and offline UI integration**
thinking
**Finalizing error display and offline behavior**

I’m wrapping up by ensuring `ErrorCard` consistently shows errors with accessible actions like retry and report issue, integrating offline banners and disabling inputs when offline. I’m also verifying error metadata flows correctly through the app and backend, with sanitized messages and proper categorization, plus confirming all style and import dependencies are set for smooth UI behavior.
exec
/bin/zsh -lc 'git status -sb' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 68ms:
## main...origin/main
 M .t2/state.json
 M react/components/cards/ErrorCard.jsx
 M react/src/App.jsx
 M react/src/main.jsx
 M src/AI/OpenAIClient.php
 M src/API/RestController.php
 M src/Plugin.php
 M src/Rest/IntentController.php
?? .logs/M04-04.gitcommit.txt
?? .plans/M04-05.md
?? .t2/handoff/M04-05.md
?? react/components/ErrorBoundary.jsx
?? src/Error/
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a8cc2f9dfc36d512940e6c19f79e4cffd19a9219
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +495,140 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode =
+    typeof meta?.error_code === 'string' ? meta.error_code.toLowerCase() : '';
+  const openAiType =
+    typeof meta?.error_type === 'string' ? meta.error_type.toLowerCase() : '';
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  const normalizedCode = typeof code === 'string' ? code.toLowerCase() : '';
+  if (normalizedCode && AGENTWP_ERROR_MESSAGES[normalizedCode]) {
+    return AGENTWP_ERROR_MESSAGES[normalizedCode];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +860,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +886,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +920,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +967,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1089,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1413,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1424,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1501,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1775,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1788,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1822,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1855,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1879,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1900,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1911,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading || isOffline) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, isOffline, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2042,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2442,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2471,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2601,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Verifying modifications and environment variables usage**
exec
/bin/zsh -lc 'rg -n "OFFLINE_CACHE_LIMIT" react/src/App.jsx' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 66ms:
52:const OFFLINE_CACHE_LIMIT = 3;
928:    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a8cc2f9dfc36d512940e6c19f79e4cffd19a9219
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +495,140 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode =
+    typeof meta?.error_code === 'string' ? meta.error_code.toLowerCase() : '';
+  const openAiType =
+    typeof meta?.error_type === 'string' ? meta.error_type.toLowerCase() : '';
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  const normalizedCode = typeof code === 'string' ? code.toLowerCase() : '';
+  if (normalizedCode && AGENTWP_ERROR_MESSAGES[normalizedCode]) {
+    return AGENTWP_ERROR_MESSAGES[normalizedCode];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +860,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +886,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +920,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +967,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1089,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1413,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1424,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1501,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1775,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1788,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1822,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1855,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1879,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1900,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1911,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading || isOffline) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, isOffline, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2042,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2442,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2471,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2601,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();



thinking
**Updating error handling and UI integration**
thinking
**Summarizing comprehensive error and UI updates**

I've made many coordinated improvements: introduced a new error handler PHP class with detailed error classification and meta; enhanced error metadata propagation in OpenAI client, REST controller, and plugin; fully integrated the React ErrorBoundary component with the ErrorCard UI showing sanitized messages, retry and report actions, and offline banners; refined error reporting with support email and retry counts; ensured offline draft handling and caching works smoothly; and applied consistent error mapping for OpenAI codes. The updates included careful dependency and state management in React hooks and usage of environment variables. No tests or formatter commands were provided, so verification involves manual checks and running the app in varied error/offline scenarios.

How to verify:
- (No commands provided)

Risk/follow-ups:
- Ensure React frontend build assets are regenerated if required by running `npm install && npm run build` inside the `react/` directory to keep compiled files up to date with these code changes.
exec
/bin/zsh -lc 'cat react/vite.config.js' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 73ms:
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  server: {
    host: true,
    port: Number.parseInt(process.env.REACT_DEV_PORT || '5173', 10),
    strictPort: true,
  },
});
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a8cc2f9dfc36d512940e6c19f79e4cffd19a9219
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +495,140 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode =
+    typeof meta?.error_code === 'string' ? meta.error_code.toLowerCase() : '';
+  const openAiType =
+    typeof meta?.error_type === 'string' ? meta.error_type.toLowerCase() : '';
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  const normalizedCode = typeof code === 'string' ? code.toLowerCase() : '';
+  if (normalizedCode && AGENTWP_ERROR_MESSAGES[normalizedCode]) {
+    return AGENTWP_ERROR_MESSAGES[normalizedCode];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +860,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +886,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +920,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +967,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1089,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1413,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1424,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1501,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1775,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1788,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1822,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1855,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1879,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1900,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1911,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading || isOffline) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, isOffline, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2042,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2442,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2471,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2601,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();


thinking
**Summarizing final response plan**

I’m putting together a clear final message with a quick explanation of the changes, then structured sections for status, summary of changes with file references, verification commands (not provided), and risks or follow-ups about asset rebuilding and support email confirmation as requested by the user.
codex
Implemented backend error categorization plus frontend recovery UX with offline detection, retry/reporting, and an ErrorBoundary to avoid raw error traces.

**Status**
- DONE

**Summary of Changes**
- Backend error categorization and metadata propagation for OpenAI failures and REST errors via `src/Error/Handler.php`, `src/AI/OpenAIClient.php`, `src/API/RestController.php`, and `src/Rest/IntentController.php`
- Support email/version exposed for reporting via `src/Plugin.php`
- ErrorBoundary + offline/retry/report UI updates in the command deck via `react/components/ErrorBoundary.jsx`, `react/components/cards/ErrorCard.jsx`, `react/src/App.jsx`, and `react/src/main.jsx`

**How to Verify**
- N/A (no format/lint/test commands provided)

**Risks / Follow-ups**
- If runtime relies on prebuilt admin assets, rebuild the React bundle so `assets/agentwp-admin.js` and `assets/agentwp-admin.css` are updated
- Confirm `supportEmail` (currently admin email) matches your support workflow
file update:
diff --git a/react/components/ErrorBoundary.jsx b/react/components/ErrorBoundary.jsx
new file mode 100644
index 0000000000000000000000000000000000000000..a1dcf6bdb42f480151c425d2ff39d56d9b745033
--- /dev/null
+++ b/react/components/ErrorBoundary.jsx
@@ -0,0 +1,49 @@
+import React from 'react';
+import { ErrorCard } from './cards';
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+
+export default class ErrorBoundary extends React.Component {
+  constructor(props) {
+    super(props);
+    this.state = { hasError: false };
+    this.handleReload = this.handleReload.bind(this);
+  }
+
+  static getDerivedStateFromError() {
+    return { hasError: true };
+  }
+
+  componentDidCatch(error, info) {
+    if (IS_DEV && typeof console !== 'undefined') {
+      console.error('[AgentWP] Render error', error, info);
+    }
+    if (typeof this.props.onError === 'function') {
+      this.props.onError(error, info);
+    }
+  }
+
+  handleReload() {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    window.location.reload();
+  }
+
+  render() {
+    const { hasError } = this.state;
+    if (hasError) {
+      return (
+        <div className="p-6">
+          <ErrorCard
+            title="AgentWP ran into a problem"
+            message="Please refresh the page to try again."
+            retryLabel="Reload"
+            onRetry={this.handleReload}
+          />
+        </div>
+      );
+    }
+    return this.props.children;
+  }
+}
diff --git a/react/components/cards/ErrorCard.jsx b/react/components/cards/ErrorCard.jsx
index f075a35377e0befbc1a4be04b9606e6c92ddcf64..039be71acf93596755529714da608c621512a9d3
--- a/react/components/cards/ErrorCard.jsx
+++ b/react/components/cards/ErrorCard.jsx
@@ -25,6 +25,11 @@
   reportHref,
   theme = 'auto',
 }) {
+  const retryAction = onRetry ? (
+    <button type="button" className="agentwp-card__button" onClick={onRetry}>
+      {retryLabel}
+    </button>
+  ) : null;
   const reportAction = onReport ? (
     <button type="button" className="agentwp-card__link" onClick={onReport}>
       {reportLabel}
@@ -35,20 +40,20 @@
     </a>
   ) : null;
 
+  const actions = retryAction || reportAction ? (
+    <>
+      {retryAction}
+      {reportAction}
+    </>
+  ) : null;
+
   return (
     <BaseCard
       title={title}
       icon={<ErrorIcon />}
       variant="error"
       theme={theme}
-      actions={
-        <>
-          <button type="button" className="agentwp-card__button" onClick={onRetry}>
-            {retryLabel}
-          </button>
-          {reportAction}
-        </>
-      }
+      actions={actions}
     >
       {message && <p className="agentwp-card__text">{message}</p>}
     </BaseCard>
diff --git a/react/src/App.jsx b/react/src/App.jsx
index 2b4d52541af2db08b3efee299c48eee8a119d85f..a8cc2f9dfc36d512940e6c19f79e4cffd19a9219
--- a/react/src/App.jsx
+++ b/react/src/App.jsx
@@ -2,7 +2,7 @@
 import html2canvas from 'html2canvas';
 import ReactMarkdown from 'react-markdown';
 import HistoryPanel from '../components/HistoryPanel.jsx';
-import { ChartCard } from '../components/cards';
+import { ChartCard, ErrorCard } from '../components/cards';
 import {
   applyTheme,
   getInitialThemePreference,
@@ -31,6 +31,9 @@
 const USAGE_PATH = '/agentwp/v1/usage';
 const SETTINGS_PATH = '/agentwp/v1/settings';
 const THEME_PATH = '/agentwp/v1/theme';
+const HEALTH_PATH = '/agentwp/v1/health';
+const HEALTH_CHECK_INTERVAL_MS = 5000;
+const HEALTH_TIMEOUT_MS = 4000;
 const FOCUSABLE_SELECTORS = [
   'a[href]',
   'button:not([disabled])',
@@ -46,6 +49,7 @@
 ];
 const SEARCH_TYPES = ['products', 'orders', 'customers'];
 const THEME_TRANSITION_MS = 150;
+const OFFLINE_CACHE_LIMIT = 3;
 const TYPEAHEAD_CONFIG = {
   products: {
     label: 'Products',
@@ -129,6 +133,38 @@
     />
   </svg>
 );
+
+const IS_DEV = import.meta.env?.DEV ?? false;
+const DEFAULT_ERROR_MESSAGE = 'AgentWP ran into a problem. Please try again.';
+const NETWORK_ERROR_MESSAGE = 'Network connection lost. Check your connection and try again.';
+const RATE_LIMIT_MESSAGE = 'Too many requests right now. Please wait and retry.';
+const AUTH_ERROR_MESSAGE = 'Authorization failed. Check your API key and permissions.';
+const VALIDATION_ERROR_MESSAGE = 'Please check your request and try again.';
+const OFFLINE_BANNER_TEXT = 'Agent Offline';
+
+const OPENAI_ERROR_CODE_MESSAGES = {
+  invalid_api_key: 'The OpenAI API key is invalid. Update it in settings.',
+  insufficient_quota: 'OpenAI billing quota has been exhausted. Check your plan or usage.',
+  rate_limit_exceeded: 'OpenAI rate limit reached. Please wait and retry.',
+  context_length_exceeded: 'This request is too long for the model. Try shortening it.',
+  model_not_found: 'The selected model is unavailable. Try again later.',
+};
+
+const OPENAI_ERROR_TYPE_MESSAGES = {
+  authentication_error: 'OpenAI authentication failed. Check your API key.',
+  rate_limit_error: 'OpenAI rate limit reached. Please wait and retry.',
+  invalid_request_error: 'This request was rejected by OpenAI. Please try again.',
+  server_error: 'OpenAI is having trouble right now. Please retry.',
+  overloaded_error: 'OpenAI is overloaded right now. Please retry.',
+};
+
+const AGENTWP_ERROR_MESSAGES = {
+  agentwp_rate_limited: 'Too many requests. Please wait and retry.',
+  agentwp_invalid_key: 'The OpenAI API key is invalid. Update it in settings.',
+  agentwp_invalid_request: 'Please check your request and try again.',
+  agentwp_missing_prompt: 'Please enter a prompt to continue.',
+  agentwp_forbidden: 'You do not have permission to use AgentWP.',
+};
 const getEmptySearchResults = () =>
   SEARCH_TYPES.reduce((accumulator, type) => {
     accumulator[type] = [];
@@ -368,6 +404,17 @@
   return `${root.replace(/\/$/, '')}${THEME_PATH}`;
 };
 
+const getHealthEndpoint = () => {
+  if (typeof window === 'undefined') {
+    return HEALTH_PATH;
+  }
+  const root = window.agentwpSettings?.root || window.wpApiSettings?.root;
+  if (!root) {
+    return HEALTH_PATH;
+  }
+  return `${root.replace(/\/$/, '')}${HEALTH_PATH}`;
+};
+
 const getRestNonce = () => {
   if (typeof window === 'undefined') {
     return null;
@@ -428,7 +475,18 @@
     .join('');
 };
 
-const buildMailtoLink = (subject, body) => {
+const truncateText = (value, limit = 140) => {
+  if (!value) {
+    return '';
+  }
+  const trimmed = value.trim();
+  if (trimmed.length <= limit) {
+    return trimmed;
+  }
+  return `${trimmed.slice(0, Math.max(1, limit - 3))}...`;
+};
+
+const buildMailtoLink = (subject, body, recipient = '') => {
   const parts = [];
   if (subject) {
     parts.push(`subject=${encodeURIComponent(subject)}`);
@@ -437,7 +495,140 @@
     const normalizedBody = body.replace(/\r?\n/g, '\r\n');
     parts.push(`body=${encodeURIComponent(normalizedBody)}`);
   }
-  return `mailto:${parts.length ? `?${parts.join('&')}` : ''}`;
+  return `mailto:${recipient}${parts.length ? `?${parts.join('&')}` : ''}`;
+};
+
+const getSupportEmail = () => {
+  if (typeof window === 'undefined') {
+    return '';
+  }
+  return window.agentwpSettings?.supportEmail || '';
+};
+
+const isStackTraceMessage = (value) => {
+  if (typeof value !== 'string') {
+    return false;
+  }
+  return /stack|stacktrace|traceback|at\s+\w+/i.test(value);
+};
+
+const sanitizeErrorMessage = (value) => {
+  const message = typeof value === 'string' ? value.trim() : '';
+  if (!message || isStackTraceMessage(message)) {
+    return '';
+  }
+  return message;
+};
+
+const resolveErrorType = ({ code, type, status, message, meta }) => {
+  const normalizedStatus = Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10);
+  if (type) {
+    return type;
+  }
+  const codeValue = `${code ?? ''}`.toLowerCase();
+  const metaCode = `${meta?.error_code ?? ''}`.toLowerCase();
+  const metaType = `${meta?.error_type ?? ''}`.toLowerCase();
+  const combined = [codeValue, metaCode, metaType].filter(Boolean).join(' ');
+  const messageValue = `${message ?? ''}`.toLowerCase();
+
+  if (
+    normalizedStatus === 0 ||
+    messageValue.includes('failed to fetch') ||
+    messageValue.includes('network') ||
+    messageValue.includes('timeout')
+  ) {
+    return 'network_error';
+  }
+  if (normalizedStatus === 429 || combined.includes('rate')) {
+    return 'rate_limit';
+  }
+  if (
+    normalizedStatus === 401 ||
+    normalizedStatus === 403 ||
+    combined.includes('auth') ||
+    combined.includes('invalid_api_key') ||
+    combined.includes('authentication')
+  ) {
+    return 'auth_error';
+  }
+  if (
+    normalizedStatus === 400 ||
+    normalizedStatus === 422 ||
+    combined.includes('invalid') ||
+    combined.includes('missing') ||
+    combined.includes('validation')
+  ) {
+    return 'validation_error';
+  }
+  if (normalizedStatus >= 500) {
+    return 'api_error';
+  }
+  return 'unknown';
+};
+
+const resolveFriendlyMessage = ({ message, code, type, status, meta }) => {
+  const openAiCode =
+    typeof meta?.error_code === 'string' ? meta.error_code.toLowerCase() : '';
+  const openAiType =
+    typeof meta?.error_type === 'string' ? meta.error_type.toLowerCase() : '';
+
+  if (openAiCode && OPENAI_ERROR_CODE_MESSAGES[openAiCode]) {
+    return OPENAI_ERROR_CODE_MESSAGES[openAiCode];
+  }
+  if (openAiType && OPENAI_ERROR_TYPE_MESSAGES[openAiType]) {
+    return OPENAI_ERROR_TYPE_MESSAGES[openAiType];
+  }
+  const normalizedCode = typeof code === 'string' ? code.toLowerCase() : '';
+  if (normalizedCode && AGENTWP_ERROR_MESSAGES[normalizedCode]) {
+    return AGENTWP_ERROR_MESSAGES[normalizedCode];
+  }
+  if (status === 429) {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (status === 401 || status === 403) {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'network_error') {
+    return NETWORK_ERROR_MESSAGE;
+  }
+  if (type === 'rate_limit') {
+    return RATE_LIMIT_MESSAGE;
+  }
+  if (type === 'auth_error') {
+    return AUTH_ERROR_MESSAGE;
+  }
+  if (type === 'validation_error') {
+    return sanitizeErrorMessage(message) || VALIDATION_ERROR_MESSAGE;
+  }
+  return sanitizeErrorMessage(message) || DEFAULT_ERROR_MESSAGE;
+};
+
+const buildErrorState = ({ message, code, type, status, meta, retryAfter }) => {
+  const resolvedType = resolveErrorType({ code, type, status, message, meta });
+  const resolvedMessage = resolveFriendlyMessage({
+    message,
+    code,
+    type: resolvedType,
+    status,
+    meta,
+  });
+
+  return {
+    message: resolvedMessage,
+    code: code || '',
+    type: resolvedType,
+    status: Number.isFinite(status) ? status : Number.parseInt(status ?? 0, 10) || 0,
+    meta: meta && typeof meta === 'object' ? meta : {},
+    retryAfter: Number.isFinite(retryAfter) ? retryAfter : Number.parseInt(retryAfter ?? 0, 10) || 0,
+    retryable: ['network_error', 'rate_limit', 'api_error'].includes(resolvedType),
+  };
+};
+
+const logDev = (...args) => {
+  if (!IS_DEV || typeof console === 'undefined') {
+    return;
+  }
+  console.error('[AgentWP]', ...args);
 };
 
 const createCommandId = () => `cmd-${Date.now()}-${Math.random().toString(16).slice(2)}`;
@@ -669,7 +860,11 @@
   const [isPromptFocused, setIsPromptFocused] = useState(false);
   const [loading, setLoading] = useState(false);
   const [response, setResponse] = useState('');
-  const [errorMessage, setErrorMessage] = useState('');
+  const [errorState, setErrorState] = useState(null);
+  const [retryAttempt, setRetryAttempt] = useState(0);
+  const [isOffline, setIsOffline] = useState(
+    () => typeof navigator !== 'undefined' && navigator.onLine === false
+  );
   const [metrics, setMetrics] = useState({ latencyMs: null, tokenCost: null });
   const [usageSummary, setUsageSummary] = useState(DEFAULT_USAGE_SUMMARY);
   const [usageBaseline, setUsageBaseline] = useState(null);
@@ -691,9 +886,11 @@
   const lastActiveRef = useRef(null);
   const requestControllerRef = useRef(null);
   const searchControllerRef = useRef(null);
+  const healthControllerRef = useRef(null);
   const searchTimeoutRef = useRef(null);
   const promptBlurTimeoutRef = useRef(null);
   const suppressSearchRef = useRef(false);
+  const lastPromptRef = useRef('');
   const chartRef = useRef(null);
   const exportTimerRef = useRef(null);
   const themeTransitionRef = useRef(null);
@@ -723,6 +920,14 @@
     });
   }, [searchResults]);
   const hasSuggestions = flatSuggestions.length > 0;
+  const errorMessage = errorState?.message || '';
+  const retryLabel = errorState?.retryable
+    ? `Retry (attempt ${retryAttempt + 1})`
+    : 'Retry';
+  const offlineDrafts = useMemo(
+    () => (Array.isArray(draftHistory) ? draftHistory.slice(0, OFFLINE_CACHE_LIMIT) : []),
+    [draftHistory]
+  );
 
   useLayoutEffect(() => {
     if (typeof document === 'undefined') {
@@ -762,6 +967,22 @@
     }
   }, [themePreference]);
 
+  useEffect(() => {
+    if (typeof window === 'undefined') {
+      return undefined;
+    }
+    const updateStatus = () => {
+      setIsOffline(navigator.onLine === false);
+    };
+    window.addEventListener('online', updateStatus);
+    window.addEventListener('offline', updateStatus);
+    updateStatus();
+    return () => {
+      window.removeEventListener('online', updateStatus);
+      window.removeEventListener('offline', updateStatus);
+    };
+  }, []);
+
   const persistThemePreference = useCallback(async (theme) => {
     const restNonce = getRestNonce();
     if (!restNonce) {
@@ -868,11 +1089,84 @@
     }
   }, []);
 
+  const checkHealth = useCallback(async () => {
+    if (typeof window === 'undefined') {
+      return;
+    }
+    const endpoint = getHealthEndpoint();
+    if (!endpoint) {
+      return;
+    }
+    if (navigator.onLine === false) {
+      setIsOffline(true);
+      return;
+    }
+    if (healthControllerRef.current) {
+      healthControllerRef.current.abort();
+    }
+    const controller = new AbortController();
+    healthControllerRef.current = controller;
+    const timeoutId = window.setTimeout(() => {
+      controller.abort();
+    }, HEALTH_TIMEOUT_MS);
+
+    try {
+      const headers = {};
+      const restNonce = getRestNonce();
+      if (restNonce) {
+        headers['X-WP-Nonce'] = restNonce;
+      }
+      const response = await fetch(endpoint, {
+        method: 'GET',
+        headers,
+        credentials: 'same-origin',
+        signal: controller.signal,
+      });
+      if (response.status === 401 || response.status === 403) {
+        setIsOffline(false);
+        return;
+      }
+      const payload = await response.json().catch(() => null);
+      if (!response.ok || payload?.success === false) {
+        setIsOffline(true);
+        return;
+      }
+      setIsOffline(false);
+    } catch (error) {
+      if (error?.name === 'AbortError') {
+        return;
+      }
+      setIsOffline(true);
+    } finally {
+      window.clearTimeout(timeoutId);
+      if (healthControllerRef.current === controller) {
+        healthControllerRef.current = null;
+      }
+    }
+  }, []);
+
   useEffect(() => {
     refreshUsage();
     fetchBudgetLimit();
   }, [fetchBudgetLimit, refreshUsage]);
 
+  useEffect(() => {
+    if (!isOpen || typeof window === 'undefined') {
+      return undefined;
+    }
+    checkHealth();
+    const intervalId = window.setInterval(() => {
+      checkHealth();
+    }, HEALTH_CHECK_INTERVAL_MS);
+    return () => {
+      window.clearInterval(intervalId);
+      if (healthControllerRef.current) {
+        healthControllerRef.current.abort();
+        healthControllerRef.current = null;
+      }
+    };
+  }, [checkHealth, isOpen]);
+
   const sessionUsage = useMemo(() => {
     if (!usageBaseline) {
       return { tokens: 0, cost: 0 };
@@ -1119,7 +1413,8 @@
       setResponse(draft.markdown || '');
       setDraftSubject(draft.subject || draft.prompt || 'AgentWP Draft');
       setDraftBody(draft.plainText || stripMarkdownToPlainText(draft.markdown || ''));
-      setErrorMessage('');
+      setErrorState(null);
+      setRetryAttempt(0);
       setMetrics({ latencyMs: null, tokenCost: null });
       setLoading(false);
     },
@@ -1129,6 +1424,13 @@
   useEffect(() => {
     const trimmedPrompt = prompt.trim();
 
+    if (isOffline) {
+      abortSearchRequest();
+      resetTypeahead();
+      setIsTypeaheadOpen(false);
+      return;
+    }
+
     if (suppressSearchRef.current) {
       suppressSearchRef.current = false;
       return;
@@ -1199,9 +1501,19 @@
         window.clearTimeout(searchTimeoutRef.current);
       }
     };
-  }, [abortSearchRequest, isPromptFocused, prompt, resetTypeahead]);
+  }, [abortSearchRequest, isOffline, isPromptFocused, prompt, resetTypeahead]);
 
   useEffect(() => {
+    if (!isOffline) {
+      return;
+    }
+    abortActiveRequest();
+    abortSearchRequest();
+    setLoading(false);
+    setIsTypeaheadOpen(false);
+  }, [abortActiveRequest, abortSearchRequest, isOffline]);
+
+  useEffect(() => {
     if (typeof window === 'undefined') {
       return;
     }
@@ -1463,11 +1775,12 @@
   }, []);
 
   const submitCommand = useCallback(
-    async (rawInput) => {
+    async (rawInput, options = {}) => {
       const trimmedPrompt = typeof rawInput === 'string' ? rawInput.trim() : '';
-      if (!trimmedPrompt || loading) {
+      if (!trimmedPrompt || loading || isOffline) {
         return;
       }
+      const isRetry = options?.isRetry === true;
 
       setIsTypeaheadOpen(false);
       setActiveSuggestionIndex(-1);
@@ -1475,13 +1788,17 @@
       const controller = new AbortController();
       requestControllerRef.current = controller;
       setLoading(true);
-      setErrorMessage('');
+      setErrorState(null);
+      if (!isRetry) {
+        setRetryAttempt(0);
+      }
       setResponse('');
       setMetrics({ latencyMs: null, tokenCost: null });
 
       const startTime = getNow();
       const commandTimestamp = new Date().toISOString();
       let shouldRefreshUsage = true;
+      lastPromptRef.current = trimmedPrompt;
 
       try {
         const headers = {
@@ -1505,8 +1822,23 @@
         const latencyMs = Math.round(getNow() - startTime);
 
         if (!response.ok || data?.success === false) {
-          const errorMessage = data?.error?.message || data?.message || 'Unable to reach AgentWP.';
-          throw new Error(errorMessage);
+          const errorPayload = data?.error || {};
+          const retryAfterHeader = Number.parseInt(
+            response.headers.get('Retry-After') || 0,
+            10
+          );
+          const errorInfo = {
+            message: errorPayload?.message || data?.message || DEFAULT_ERROR_MESSAGE,
+            code: errorPayload?.code || '',
+            type: errorPayload?.type || '',
+            status: response.status || 0,
+            meta: errorPayload?.meta || {},
+            retryAfter:
+              Number.isFinite(retryAfterHeader) && retryAfterHeader > 0
+                ? retryAfterHeader
+                : errorPayload?.meta?.retry_after || 0,
+          };
+          throw errorInfo;
         }
 
         const message =
@@ -1523,6 +1855,7 @@
               ? data.data.parsed_intent
               : '';
 
+        setRetryAttempt(0);
         setResponse(message);
         setDraftSubject(subjectLine);
         setDraftBody(plainTextDraft);
@@ -1546,7 +1879,19 @@
           return;
         }
         const latencyMs = Math.round(getNow() - startTime);
-        setErrorMessage(error?.message || 'Unable to reach AgentWP.');
+        const normalizedError =
+          error && typeof error === 'object' && ('status' in error || 'code' in error || 'type' in error)
+            ? error
+            : { message: error?.message || DEFAULT_ERROR_MESSAGE, status: 0 };
+        const nextErrorState = buildErrorState({
+          message: normalizedError?.message,
+          code: normalizedError?.code,
+          type: normalizedError?.type,
+          status: normalizedError?.status,
+          meta: normalizedError?.meta,
+          retryAfter: normalizedError?.retryAfter,
+        });
+        setErrorState(nextErrorState);
         setMetrics((prev) => ({ ...prev, latencyMs }));
         recordCommand({
           raw_input: trimmedPrompt,
@@ -1555,6 +1900,7 @@
           was_successful: false,
         });
         recordCommandUsage(trimmedPrompt);
+        logDev('Command failed', normalizedError);
       } finally {
         if (requestControllerRef.current === controller) {
           requestControllerRef.current = null;
@@ -1565,9 +1911,56 @@
         }
       }
     },
-    [abortActiveRequest, addDraftToHistory, loading, recordCommand, recordCommandUsage, refreshUsage]
+    [
+      abortActiveRequest,
+      addDraftToHistory,
+      isOffline,
+      loading,
+      recordCommand,
+      recordCommandUsage,
+      refreshUsage,
+    ]
   );
 
+  const handleRetry = useCallback(() => {
+    if (!errorState?.retryable || loading || isOffline) {
+      return;
+    }
+    const lastPrompt = lastPromptRef.current;
+    if (!lastPrompt) {
+      return;
+    }
+    setRetryAttempt((prev) => prev + 1);
+    submitCommand(lastPrompt, { isRetry: true });
+  }, [errorState?.retryable, isOffline, loading, submitCommand]);
+
+  const handleReportIssue = useCallback(() => {
+    if (typeof window === 'undefined' || !errorState) {
+      return;
+    }
+    const context = {
+      timestamp: new Date().toISOString(),
+      plugin_version: window.agentwpSettings?.version || '',
+      error_code: errorState.code || '',
+      error_type: errorState.type || '',
+      status: errorState.status || 0,
+      retry_after: errorState.retryAfter || 0,
+      retries: errorState.meta?.retries || 0,
+      retry_attempts: retryAttempt,
+      offline: isOffline,
+      url_path: window.location?.pathname || '',
+    };
+    const subject = 'AgentWP Issue Report';
+    const body = `Please describe what you were doing:\n\n---\nSanitized context:\n${JSON.stringify(
+      context,
+      null,
+      2
+    )}`;
+    const supportEmail = getSupportEmail();
+    const href = buildMailtoLink(subject, body, supportEmail);
+    window.open(href, '_blank', 'noopener');
+  }, [errorState, isOffline, retryAttempt]);
+
   const handleSubmit = useCallback(
     (event) => {
       event.preventDefault();
@@ -1649,11 +2042,12 @@
   const isLastCommandFavorited = lastSuccessfulCommand
     ? favoriteCommandKeys.has(buildCommandKey(lastSuccessfulCommand))
     : false;
-  const hasDraft = Boolean(response && !errorMessage);
+  const hasDraft = Boolean(response && !errorState);
   const resolvedBody = draftBody || stripMarkdownToPlainText(response);
   const mailtoHref = hasDraft ? buildMailtoLink(draftSubject, resolvedBody) : '#';
   const showHistoryPanel = isPromptFocused && !prompt.trim();
   const showTypeahead =
+    !isOffline &&
     isTypeaheadOpen &&
     isPromptFocused &&
     prompt.trim().length > 0 &&
@@ -2048,6 +2442,17 @@
             </div>
 
             <div className="space-y-4 px-6 py-5">
+              {isOffline && (
+                <div className="rounded-2xl border border-amber-400/60 bg-amber-500/10 px-4 py-3 text-sm text-amber-100">
+                  <div className="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-amber-200">
+                    <span className="inline-flex h-2 w-2 rounded-full bg-amber-400" aria-hidden="true" />
+                    {OFFLINE_BANNER_TEXT}
+                  </div>
+                  <p className="mt-1 text-xs text-amber-200/80">
+                    AgentWP will reconnect automatically. Cached results are available below.
+                  </p>
+                </div>
+              )}
               <form onSubmit={handleSubmit}>
                 <label htmlFor="agentwp-prompt" className="sr-only">
                   Ask AgentWP anything
@@ -2066,15 +2471,16 @@
                       aria-expanded={showTypeahead}
                       aria-controls="agentwp-typeahead"
                       aria-activedescendant={activeSuggestionId}
-                      placeholder="Ask AgentWP anything..."
-                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none"
+                      placeholder={isOffline ? 'Agent Offline' : 'Ask AgentWP anything...'}
+                      disabled={isOffline}
+                      className="flex-1 bg-transparent text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-60"
                     />
                     <button
                       type="submit"
-                      disabled={loading || !prompt.trim()}
+                      disabled={loading || isOffline || !prompt.trim()}
                       className="inline-flex items-center justify-center rounded-full border border-slate-600/70 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition hover:border-slate-400/80 hover:bg-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60"
                     >
-                      {loading ? 'Sending' : 'Send'}
+                      {loading ? 'Sending' : isOffline ? 'Offline' : 'Send'}
                     </button>
                   </div>
 
@@ -2195,8 +2601,50 @@
                       <div className="h-3 w-5/6 rounded-full bg-slate-700/50" />
                       <div className="h-3 w-2/3 rounded-full bg-slate-700/40" />
                     </div>
-                  ) : errorMessage ? (
-                    <p className="text-sm text-rose-300">{errorMessage}</p>
+                  ) : isOffline ? (
+                    <div className="space-y-3 text-sm text-amber-100">
+                      <p className="text-amber-200">
+                        {OFFLINE_BANNER_TEXT}. Cached results are available below.
+                      </p>
+                      {offlineDrafts.length ? (
+                        <div className="space-y-2">
+                          {offlineDrafts.map((draft) => {
+                            const title = draft.subject || draft.prompt || 'Cached response';
+                            const snippet = truncateText(
+                              draft.plainText || stripMarkdownToPlainText(draft.markdown || ''),
+                              160
+                            );
+                            return (
+                              <button
+                                key={draft.id}
+                                type="button"
+                                onClick={() => handleRestoreDraft(draft)}
+                                className="flex w-full flex-col rounded-xl border border-amber-400/30 bg-amber-500/10 px-3 py-2 text-left text-xs text-amber-100 transition hover:border-amber-300/60 hover:bg-amber-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300"
+                              >
+                                <span className="text-sm font-semibold text-amber-50">{title}</span>
+                                {snippet ? (
+                                  <span className="mt-1 text-xs text-amber-200/80">
+                                    {snippet}
+                                  </span>
+                                ) : null}
+                              </button>
+                            );
+                          })}
+                        </div>
+                      ) : (
+                        <p className="text-xs text-amber-200/80">
+                          No cached responses yet. Try again when you are back online.
+                        </p>
+                      )}
+                    </div>
+                  ) : errorState ? (
+                    <ErrorCard
+                      title="We hit a snag"
+                      message={errorMessage}
+                      retryLabel={retryLabel}
+                      onRetry={errorState.retryable ? handleRetry : undefined}
+                      onReport={handleReportIssue}
+                    />
                   ) : response ? (
                     <div ref={responseHtmlRef} className="agentwp-markdown">
                       <ReactMarkdown
diff --git a/react/src/main.jsx b/react/src/main.jsx
index 5cd82c8b844b771d7f978b7b51e254f19952e7ae..00ae35864c2926f7afe0e2f0c048b6960b2600ab
--- a/react/src/main.jsx
+++ b/react/src/main.jsx
@@ -1,6 +1,7 @@
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import App from './App.jsx';
+import ErrorBoundary from '../components/ErrorBoundary.jsx';
 import './index.css';
 import { applyTheme, getInitialThemePreference, getSystemTheme, resolveTheme } from './theme.js';
 
@@ -10,6 +11,8 @@
 
 ReactDOM.createRoot(document.getElementById('root')).render(
   <React.StrictMode>
-    <App />
+    <ErrorBoundary>
+      <App />
+    </ErrorBoundary>
   </React.StrictMode>
 );
diff --git a/src/AI/OpenAIClient.php b/src/AI/OpenAIClient.php
index 274e3f44b89925b3398ce89ce898c19512d2197b..a120954a562421bda01442d3edaa08c654cd67fa
--- a/src/AI/OpenAIClient.php
+++ b/src/AI/OpenAIClient.php
@@ -128,7 +128,10 @@
 				$result['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -144,7 +147,10 @@
 				$parsed['error'],
 				$result['status'],
 				array(
-					'retries' => $result['retries'],
+					'retries'     => $result['retries'],
+					'error_code'  => $result['error_code'],
+					'error_type'  => $result['error_type'],
+					'retry_after' => $result['retry_after'],
 				)
 			);
 		}
@@ -223,9 +229,12 @@
 	 * @return array
 	 */
 	private function request_with_retry( array $payload ) {
-		$attempt = 0;
-		$delay   = $this->initial_delay;
-		$errors  = '';
+		$attempt     = 0;
+		$delay       = $this->initial_delay;
+		$errors      = '';
+		$error_code  = '';
+		$error_type  = '';
+		$retry_after = 0;
 
 		do {
 			$result = $this->send_request( $payload );
@@ -233,6 +242,9 @@
 
 			if ( $result['success'] || ! $retry || $attempt >= $this->max_retries ) {
 				$errors = $result['error'];
+				$error_code = isset( $result['error_code'] ) ? $result['error_code'] : '';
+				$error_type = isset( $result['error_type'] ) ? $result['error_type'] : '';
+				$retry_after = isset( $result['retry_after'] ) ? (int) $result['retry_after'] : 0;
 				break;
 			}
 
@@ -242,8 +254,11 @@
 			$attempt++;
 		} while ( true );
 
-		$result['retries'] = $attempt;
-		$result['error']   = $errors;
+		$result['retries']     = $attempt;
+		$result['error']       = $errors;
+		$result['error_code']  = $error_code;
+		$result['error_type']  = $error_type;
+		$result['retry_after'] = $retry_after;
 
 		return $result;
 	}
@@ -271,6 +286,8 @@
 				'body'        => '',
 				'headers'     => array(),
 				'error'       => $response->get_error_message(),
+				'error_code'  => $response->get_error_code(),
+				'error_type'  => '',
 				'retryable'   => $this->is_retryable_error( $response ),
 				'retry_after' => 0,
 			);
@@ -279,7 +296,9 @@
 		$status  = (int) wp_remote_retrieve_response_code( $response );
 		$body    = wp_remote_retrieve_body( $response );
 		$headers = wp_remote_retrieve_headers( $response );
-		$error   = '';
+		$error       = '';
+		$error_code  = '';
+		$error_type  = '';
 		$header_retry = 0;
 
 		if ( $headers && isset( $headers['retry-after'] ) ) {
@@ -287,10 +306,14 @@
 		}
 
 		if ( $status < 200 || $status >= 300 ) {
-			$error = 'OpenAI API request failed.';
+			$error   = 'OpenAI API request failed.';
 			$decoded = json_decode( $body, true );
-			if ( is_array( $decoded ) && isset( $decoded['error']['message'] ) ) {
-				$error = $decoded['error']['message'];
+			if ( is_array( $decoded ) && isset( $decoded['error'] ) && is_array( $decoded['error'] ) ) {
+				if ( isset( $decoded['error']['message'] ) ) {
+					$error = $decoded['error']['message'];
+				}
+				$error_code = isset( $decoded['error']['code'] ) ? (string) $decoded['error']['code'] : '';
+				$error_type = isset( $decoded['error']['type'] ) ? (string) $decoded['error']['type'] : '';
 			}
 		}
 
@@ -300,6 +323,8 @@
 			'body'        => is_string( $body ) ? $body : '',
 			'headers'     => is_array( $headers ) ? $headers : array(),
 			'error'       => $error,
+			'error_code'  => $error_code,
+			'error_type'  => $error_type,
 			'retryable'   => $this->is_retryable_status( $status ),
 			'retry_after' => $header_retry,
 		);
diff --git a/src/API/RestController.php b/src/API/RestController.php
index 22966275ec827a7d59fea9ef18328b922bc94cf8..381dfefd8812accb2a024bababafccfcc080ce8f
--- a/src/API/RestController.php
+++ b/src/API/RestController.php
@@ -7,6 +7,7 @@
 
 namespace AgentWP\API;
 
+use AgentWP\Error\Handler as ErrorHandler;
 use AgentWP\Plugin;
 use WP_Error;
 use WP_REST_Controller;
@@ -95,17 +96,28 @@
 	 * @param string $code Error code.
 	 * @param string $message Error message.
 	 * @param int    $status HTTP status.
+	 * @param array  $meta Optional error metadata.
 	 * @return WP_REST_Response
 	 */
-	protected function response_error( $code, $message, $status = 400 ) {
+	protected function response_error( $code, $message, $status = 400, array $meta = array() ) {
+		$type = class_exists( 'AgentWP\\Error\\Handler' )
+			? ErrorHandler::categorize( $code, $status, $message, $meta )
+			: 'unknown';
+		$error = array(
+			'code'    => $code,
+			'message' => $message,
+			'type'    => $type,
+		);
+
+		if ( ! empty( $meta ) ) {
+			$error['meta'] = $meta;
+		}
+
 		$response = rest_ensure_response(
 			array(
 				'success' => false,
 				'data'    => array(),
-				'error'   => array(
-					'code'    => $code,
-					'message' => $message,
-				),
+				'error'   => $error,
 			)
 		);
 
diff --git a/src/Error/Handler.php b/src/Error/Handler.php
new file mode 100644
index 0000000000000000000000000000000000000000..681910d35fdbad8ded426cec3830bbd126da751d
--- /dev/null
+++ b/src/Error/Handler.php
@@ -0,0 +1,104 @@
+<?php
+/**
+ * Error categorization helper.
+ *
+ * @package AgentWP
+ */
+
+namespace AgentWP\Error;
+
+class Handler {
+	const TYPE_NETWORK    = 'network_error';
+	const TYPE_API        = 'api_error';
+	const TYPE_RATE_LIMIT = 'rate_limit';
+	const TYPE_AUTH       = 'auth_error';
+	const TYPE_VALIDATION = 'validation_error';
+	const TYPE_UNKNOWN    = 'unknown';
+
+	/**
+	 * Categorize errors into user-facing buckets.
+	 *
+	 * @param string $code Error code.
+	 * @param int    $status HTTP status.
+	 * @param string $message Error message.
+	 * @param array  $meta Optional error metadata.
+	 * @return string
+	 */
+	public static function categorize( $code, $status = 0, $message = '', array $meta = array() ) {
+		$status   = (int) $status;
+		$code     = is_string( $code ) ? strtolower( $code ) : '';
+		$message  = is_string( $message ) ? strtolower( $message ) : '';
+		$meta_code = isset( $meta['error_code'] ) ? strtolower( (string) $meta['error_code'] ) : '';
+		$meta_type = isset( $meta['error_type'] ) ? strtolower( (string) $meta['error_type'] ) : '';
+
+		$codes = array_filter( array( $code, $meta_code, $meta_type ) );
+
+		if (
+			0 === $status
+			|| self::contains_any( $codes, array( 'http_request_failed', 'connection_failed', 'timeout', 'timed_out' ) )
+			|| false !== strpos( $message, 'timeout' )
+			|| false !== strpos( $message, 'timed out' )
+		) {
+			return self::TYPE_NETWORK;
+		}
+
+		if (
+			429 === $status
+			|| self::contains_any( $codes, array( 'rate_limit', 'rate_limited', 'rate_limit_exceeded', 'rate_limit_error' ) )
+		) {
+			return self::TYPE_RATE_LIMIT;
+		}
+
+		if (
+			in_array( $status, array( 401, 403 ), true )
+			|| self::contains_any(
+				$codes,
+				array( 'auth', 'forbidden', 'invalid_api_key', 'invalid_key', 'authentication_error', 'insufficient_quota' )
+			)
+		) {
+			return self::TYPE_AUTH;
+		}
+
+		if (
+			in_array( $status, array( 400, 422 ), true )
+			|| self::contains_any(
+				$codes,
+				array(
+					'invalid',
+					'missing',
+					'validation',
+					'invalid_request_error',
+					'context_length_exceeded',
+				)
+			)
+		) {
+			return self::TYPE_VALIDATION;
+		}
+
+		if ( $status >= 500 ) {
+			return self::TYPE_API;
+		}
+
+		return self::TYPE_UNKNOWN;
+	}
+
+	/**
+	 * @param array $values Values to search.
+	 * @param array $needles Target substrings.
+	 * @return bool
+	 */
+	private static function contains_any( array $values, array $needles ) {
+		foreach ( $values as $value ) {
+			foreach ( $needles as $needle ) {
+				if ( '' === $needle ) {
+					continue;
+				}
+				if ( false !== strpos( $value, $needle ) ) {
+					return true;
+				}
+			}
+		}
+
+		return false;
+	}
+}
diff --git a/src/Plugin.php b/src/Plugin.php
index e67cf4cee35533e6ec4730ba88b578abbc0cfe46..c7ae2cfc64c61095b5fe430c68b7b3a49787e72c
--- a/src/Plugin.php
+++ b/src/Plugin.php
@@ -177,6 +177,8 @@
 						'root'  => esc_url_raw( rest_url() ),
 						'nonce' => wp_create_nonce( 'wp_rest' ),
 						'theme' => $theme,
+						'supportEmail' => sanitize_email( get_option( 'admin_email' ) ),
+						'version' => defined( 'AGENTWP_VERSION' ) ? AGENTWP_VERSION : '',
 					)
 				),
 				'before'
@@ -299,6 +301,13 @@
 			$message    = $result->get_error_message();
 			$data       = $result->get_error_data();
 			$status     = ( is_array( $data ) && isset( $data['status'] ) ) ? intval( $data['status'] ) : 500;
+			$type       = class_exists( 'AgentWP\\Error\\Handler' )
+				? Error\Handler::categorize( $error_code, $status, $message, is_array( $data ) ? $data : array() )
+				: 'unknown';
+			$error_meta = array();
+			if ( is_array( $data ) && isset( $data['retry_after'] ) ) {
+				$error_meta['retry_after'] = intval( $data['retry_after'] );
+			}
 
 			$response = rest_ensure_response(
 				array(
@@ -307,6 +316,8 @@
 					'error'   => array(
 						'code'    => $error_code,
 						'message' => $message,
+						'type'    => $type,
+						'meta'    => $error_meta,
 					),
 				)
 			);
@@ -328,6 +339,13 @@
 				$message    = (string) $body['message'];
 				$data       = isset( $body['data'] ) && is_array( $body['data'] ) ? $body['data'] : array();
 				$status     = isset( $data['status'] ) ? intval( $data['status'] ) : $status;
+				$type       = class_exists( 'AgentWP\\Error\\Handler' )
+					? Error\Handler::categorize( $error_code, $status, $message, $data )
+					: 'unknown';
+				$error_meta = array();
+				if ( isset( $data['retry_after'] ) ) {
+					$error_meta['retry_after'] = intval( $data['retry_after'] );
+				}
 
 				$response = rest_ensure_response(
 					array(
@@ -336,6 +354,8 @@
 						'error'   => array(
 							'code'    => $error_code,
 							'message' => $message,
+							'type'    => $type,
+							'meta'    => $error_meta,
 						),
 					)
 				);
diff --git a/src/Rest/IntentController.php b/src/Rest/IntentController.php
index 2986f48acc3c64d115c62428b2e0e2e0c55dce04..3ade830dbe7528a8c4ab5ce8a96b9d9fb8c7f446
--- a/src/Rest/IntentController.php
+++ b/src/Rest/IntentController.php
@@ -66,7 +66,12 @@
 		$response = $engine->handle( $prompt, $context, $metadata );
 
 		if ( ! $response->is_success() ) {
-			return $this->response_error( 'agentwp_intent_failed', $response->get_message(), $response->get_status() );
+			return $this->response_error(
+				'agentwp_intent_failed',
+				$response->get_message(),
+				$response->get_status(),
+				$response->get_meta()
+			);
 		}
 
 		$data               = $response->get_data();

tokens used
241,472
