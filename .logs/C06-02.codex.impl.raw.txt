Added contributor checklists in `docs/DEVELOPER.md` for REST endpoints, intent handlers, and tools with ADR references and EXTENSIONS reminders.

Status: DONE
Summary of changes:
- Added REST endpoint checklist referencing ADR 0001/0007 and OpenAPI sync steps in `docs/DEVELOPER.md`.
- Added intent handler checklist referencing ADR 0002 and tool follow-through.
- Added tool checklist aligned with the Phase 4 tooling decision and ADR 0008.

How to verify:
- `rg -n "Contributor checklist" docs/DEVELOPER.md`

Risks / follow-ups:
- None.

OpenAI Codex v0.87.0 (research preview)
--------
workdir: /Users/ahmedyounis/Documents/Projects/agentwp
model: gpt-5.2-codex
provider: openai
approval: never
sandbox: workspace-write [workdir, /tmp, $TMPDIR]
reasoning effort: high
reasoning summaries: auto
session id: 019bd18b-0256-74c3-be9a-261ffa3f2492
--------
user
You are implementing task C06-02 in this git repository.

1) Read the spec: .plans/C06-02.md
2) Read handoff/context: .t2/handoff/C06-02.md

Implement the spec fully.

Verification commands (run if non-empty):
- format: 
- lint: 
- test: 

In your final response, include:
- Status: DONE or NEEDS-REVIEW
- Summary of changes
- How to verify (exact commands)
- Risks / follow-ups

mcp startup: no servers
Reconnecting... 1/5 (stream disconnected before completion: Transport error: network error: error decoding response body)
exec
/bin/zsh -lc ls in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 60ms:
agentwp.php
assets
composer.json
composer.lock
docker
docker-compose.demo.yml
docker-compose.yml
docs
includes
languages
node_modules
package-lock.json
package.json
phpcs.xml
phpstan
phpstan.neon
phpunit.xml.dist
plan_tasks.csv
playwright.config.cjs
react

thinking
**Reviewing spec details**
exec
/bin/zsh -lc 'ls .plans' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 68ms:
C00-01.md
C00-02.md
C00-03.md
C01-01.md
C01-02.md
C01-03.md
C01-04.md
C01-05.md
C01-06.md
C01-07.md
C02-01.md
C02-02.md
C02-03.md
C02-04.md
C02-05.md
C02-06.md
C02-07.md
C02-08.md
C02-09.md
C03-01.md
exec
/bin/zsh -lc 'cat .plans/C06-02.md' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 71ms:
# C06-02 — Add contributor checklists for endpoints/intents/tools

Update `docs/DEVELOPER.md` with short checklists for adding a REST endpoint (ADR 0001 + DTO validation ADR 0007), adding an intent handler (ADR 0002), and adding a tool (Phase 4 decision). Include reminders to update `docs/EXTENSIONS.md` when introducing hooks. Acceptance: contributor docs provide step-by-step recipes.
exec
/bin/zsh -lc 'cat .t2/handoff/C06-02.md' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 71ms:
# Handoff: C06-02

Created: 2026-01-17T19:44:49.010902Z

Spec: .plans/C06-02.md


## 2026-01-17T19:47:47.264655Z — claude — impl

Command:
```
claude -p --output-format json --model opus --permission-mode acceptEdits --dangerously-skip-permissions You are implementing task C06-02 in this git repository.

1) Read the spec: .plans/C06-02.md
2) Read handoff/context: .t2/handoff/C06-02.md

Implement the spec fully.

Verification commands (run if non-empty):
- format: 

thinking
**Reviewing target docs**

I'm inspecting docs/DEVELOPER.md and possibly EXTENSIONS to identify relevant edits, ensuring unrelated modifications in the workspace remain untouched.
exec
/bin/zsh -lc "sed -n '1,220p' docs/DEVELOPER.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 38ms:
# AgentWP Developer Guide

This guide covers architecture, extension points, and local development workflow.

## Architecture overview
AgentWP is a WordPress plugin with a React admin UI and a PHP backend.

Key pieces:
- **REST API**: Controllers in `src/Rest/` (namespace `AgentWP\Rest`) expose `/wp-json/agentwp/v1/*`. This is the canonical location for all REST controllers.
- **Intent engine**: `AgentWP\Intent\Engine` classifies prompts and routes them to handlers.
- **Handlers**: Classes in `src/Intent/Handlers` implement intent-specific responses.
- **WooCommerce integrations**: Services in `src/Services` execute refunds, status updates, stock changes, and email drafts.
- **React Command Deck**: Source in `react/`, built assets in `assets/`.

### Single-path bootstrap architecture
The plugin uses a consolidated bootstrap pattern. `src/Plugin.php` is the entry point but delegates all wiring to managers and service providers:

- **Managers** (`src/Plugin/*`): `AdminManager`, `AssetsManager`, `MenuManager`, `RestManager` handle WordPress integration.
- **Service Providers** (`src/Providers/*`): Register services, controllers, and handlers with the dependency injection container.
- **Configuration**: All option keys and defaults are defined in `AgentWPConfig` constants. Never hardcode option names elsewhere.
exec
/bin/zsh -lc "sed -n '220,520p' docs/DEVELOPER.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
This single command runs all the checks that CI runs:

**PHP checks:**
- PHPCS (WordPress coding standards)
- PHPUnit tests
- PHPStan static analysis
- OpenAPI spec validation

**Node/React checks:**
- OpenAPI types generation check
- TypeScript type checking
- ESLint
- Prettier formatting check
- Vitest tests with coverage
- Production build

You can also run checks selectively:

```bash
./scripts/validate.sh --php    # Run only PHP checks
exec
/bin/zsh -lc "sed -n '520,1040p' docs/DEVELOPER.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 75ms:
			ShipmentDelayHandler::class,
			fn( $c ) => new ShipmentDelayHandler(
				$c->get( ShipmentServiceInterface::class ),
				$c->get( AIClientFactoryInterface::class ),
				$c->get( ToolRegistryInterface::class )
			)
		);

		// Tag handler so Engine discovers it
		$this->container->tag( ShipmentDelayHandler::class, 'intent.handler' );
	}
}
```

Register your provider using the `agentwp_register_providers` action:

```php
add_action( 'agentwp_register_providers', function( $container ) {
	$provider = new \MyPlugin\AgentWP\ShipmentServiceProvider( $container );
	$provider->register();

thinking
**Planning documentation updates**

I'm planning to add checklists for REST endpoints, intent handlers, and tools in docs/DEVELOPER.md, referencing ADRs 0001, 0007, 0002, and the Phase 4 decision; next, I'll locate the ADR files to link them properly.
exec
/bin/zsh -lc 'rg -n "ADR" docs/DEVELOPER.md' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 75ms:
940:See [ADR 0002](adr/0002-intent-handler-registration.md) for full details.
1043:Add custom scorers via the `agentwp_intent_scorers` filter. See [ADR 0003](adr/0003-intent-classification-strategy.md) for full migration details.
1234:For architectural decisions and rationale, see the ADRs in `docs/adr/`:
1236:| ADR | Topic |
exec
/bin/zsh -lc "sed -n '1040,1260p' docs/DEVELOPER.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 63ms:
$intent = $classifier->classify($input);
```

Add custom scorers via the `agentwp_intent_scorers` filter. See [ADR 0003](adr/0003-intent-classification-strategy.md) for full migration details.

### Configuration constants

**Affected:** Code using hardcoded option names.

All option keys are now defined in `AgentWPConfig`. Use constants instead of strings:

```php
// Before
$value = get_option('agentwp_api_key');

// After (if needed outside SettingsManager)
$value = get_option(AgentWPConfig::OPTION_API_KEY);

// Preferred: Use SettingsManager
$value = $settingsManager->getApiKey();

thinking
**Planning checklist placement**

I'm locating where to add checklists in docs/DEVELOPER.md near REST endpoint and intent handler sections, and searching docs/adr for references to "tool" and "Phase 4" to decide placement there.
exec
/bin/zsh -lc 'rg -n "Phase 4|tool" docs/DEVELOPER.md docs/adr' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 80ms:
docs/DEVELOPER.md:283:## PHP tooling
docs/DEVELOPER.md:449:		ToolRegistryInterface $toolRegistry
docs/DEVELOPER.md:451:		parent::__construct( 'shipment_delay', $clientFactory, $toolRegistry );
docs/DEVELOPER.md:467:	public function execute_tool( string $name, array $arguments ) {
docs/DEVELOPER.md:471:		return array( 'error' => "Unknown tool: {$name}" );
docs/adr/0002-intent-handler-registration.md:61:- **Discoverable**: Static analysis tools and IDEs can find all handlers for an intent
docs/adr/0002-intent-handler-registration.md:113:- Provide automated migration tooling if feasible
docs/adr/0002-intent-handler-registration.md:126:- Better tooling support (IDE navigation, static analysis)
docs/adr/0002-intent-handler-registration.md:150:- [ ] Create migration script for custom handlers (optional tooling, deferred)
docs/adr/0004-openai-client-architecture.md:10:1. **`OpenAIClient`** (Monolithic): A self-contained 750-line class in `src/AI/OpenAIClient.php` that handles HTTP requests, retry logic, response parsing, stream parsing, tool normalization, and usage estimation all internally. It uses WordPress HTTP functions directly (`wp_remote_post()`, `wp_remote_get()`).
docs/adr/0004-openai-client-architecture.md:17:   - `ToolNormalizer` - Normalizes function definitions to OpenAI tool format
docs/adr/0004-openai-client-architecture.md:97:- The current implementation includes important DoS protections (max content length, max tool calls, max raw chunks)
docs/adr/0004-openai-client-architecture.md:136:### Phase 4: Replace Internal Retry Logic (1-2 days)
docs/adr/0004-openai-client-architecture.md:172:- `MAX_STREAM_TOOL_CALLS` (50) - Limits tool call accumulation
docs/adr/0004-openai-client-architecture.md:174:- `MAX_TOOL_ARGUMENTS_LENGTH` (100KB) - Limits individual tool argument size
docs/adr/0004-openai-client-architecture.md:220:- `docs/ARCHITECTURE-IMPROVEMENT-PLAN.md` - Phase 4 references this decision
docs/adr/0008-tool-execution-architecture.md:8:AgentWP uses OpenAI function calling (tools) to enable AI-driven workflows. The system needs a clear architecture for:
docs/adr/0008-tool-execution-architecture.md:10:1. **Defining tools** - Schema (name, description, parameters)
docs/adr/0008-tool-execution-architecture.md:11:2. **Registering tools** - Making tools discoverable
docs/adr/0008-tool-execution-architecture.md:12:3. **Executing tools** - Running tool logic when the AI requests a function call

thinking
**Reviewing ADR 0008 for Phase 4 tool details**

I'm checking ADR 0008 to clarify its guidance on Phase 4 tool additions, since Phase 4 in ADR 0004 refers to retry logic but doesn't mention tools.
exec
/bin/zsh -lc "sed -n '1,240p' docs/adr/0008-tool-execution-architecture.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 72ms:
# ADR 0008: Tool Execution Architecture

**Date:** 2026-01-18
**Status:** Accepted

## Context

AgentWP uses OpenAI function calling (tools) to enable AI-driven workflows. The system needs a clear architecture for:

1. **Defining tools** - Schema (name, description, parameters)
2. **Registering tools** - Making tools discoverable
3. **Executing tools** - Running tool logic when the AI requests a function call

Two architectural approaches were considered:

### Approach A: Executable Tool Classes

Each tool is a self-contained class with both schema definition AND execution logic:

```php

thinking
**Searching for Phase 4 references**

I'm looking for mentions of "Phase 4" in docs to clarify the tool addition decision linked to ADR 0008 and uncover related architectural plans.
exec
/bin/zsh -lc 'rg -n "Phase 4" docs/ARCHITECTURE-IMPROVEMENT-PLAN.md docs/adr/0004-openai-client-architecture.md' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 75ms:
docs/adr/0004-openai-client-architecture.md:136:### Phase 4: Replace Internal Retry Logic (1-2 days)
docs/adr/0004-openai-client-architecture.md:220:- `docs/ARCHITECTURE-IMPROVEMENT-PLAN.md` - Phase 4 references this decision
docs/ARCHITECTURE-IMPROVEMENT-PLAN.md:217:### Phase 4 — Tooling: unify schema + execution (medium effort)
exec
/bin/zsh -lc "sed -n '180,280p' docs/ARCHITECTURE-IMPROVEMENT-PLAN.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
Acceptance criteria:
- A new contributor can find *all* REST endpoints under one directory/namespace.
- Architecture boundary tests cover every REST controller.

### Phase 2 — Rate limiting: make atomicity a contract (1–2 days)

Goal: make ADR 0005 “atomic by default” without forcing all implementers to change at once.

Recommended approach (non-breaking):
- Introduce `src/Contracts/AtomicRateLimiterInterface.php` extending `RateLimiterInterface`:
  - `checkAndIncrement(int $userId): bool`
- Implement it in:
  - `src/Infrastructure/RateLimiting/RateLimiter.php`
  - `tests/Fakes/FakeRateLimiter.php`
- Update `src/Rest/RestController.php` to prefer atomic operation when available:
  - If resolved limiter implements `AtomicRateLimiterInterface`, use `checkAndIncrement()`.
  - Else, fall back to `check()` + `increment()` (maintains BC).

Acceptance criteria:
- REST permission checks use an atomic limiter when possible.


thinking
**Planning contributor checklists addition**

I'm clarifying that contributor checklists for REST endpoints, intent handlers, and tools should be added to the docs, referencing ADRs and the Phase 4 decision. I'll add concise checklists near existing relevant sections or create a new "Contributor checklists" section for clarity.
thinking
**Clarifying Phase 4 decision and checklist content**

I'm interpreting the "Phase 4 decision" as the accepted ADR 0008 approach that keeps schema and execution separate, contrary to the original plan's unify proposal. I'll base the tool checklist on ADR 0008 and include reminders to update extension hooks documentation. The checklists will use concise bullet steps referencing relevant ADRs for REST endpoints and validation.
exec
/bin/zsh -lc "sed -n '1,200p' docs/adr/0001-rest-controller-dependency-resolution.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 66ms:
# ADR 0001: REST Controller Dependency Resolution

**Date:** 2026-01-17  
**Status:** Accepted

## Context

AgentWP uses a DI container to register and configure core services (e.g., the intent engine and service interfaces).

Historically, some REST controllers instantiated domain services directly (e.g., `new Engine()`), bypassing the container and the service provider wiring. This led to production behavior diverging from intended architecture (handlers and dependencies configured in providers were not used).

## Decision

All REST controllers resolve runtime dependencies via the plugin container using shared helpers on the REST controller base:

- `container(): ?ContainerInterface`
- `resolve(string $id): mixed|null`

Controllers should prefer resolving interfaces where available and may fall back to local instantiation only when the container is unavailable (e.g., defensive fallback for non-standard bootstrap paths).


thinking
**Asking about ADR 0007**
exec
/bin/zsh -lc "sed -n '1,220p' docs/adr/0007-request-dto-validation.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 72ms:
# ADR 0007: Request DTO Validation

**Date:** 2026-01-18
**Status:** Accepted

## Context

AgentWP REST controllers historically used inconsistent validation approaches:

1. **Ad-hoc schema validation** via `RestController::validate_request()` followed by manual payload re-extraction
2. **Route-level validation** via WordPress `validate_callback` in route registration
3. **Request DTOs** with schema validation in dedicated classes

This inconsistency made it difficult for developers to add new endpoints correctly, led to redundant validation checks, and increased the risk of validation gaps.

## Decision

All REST controllers MUST use Request DTOs (extending `AgentWP\DTO\RequestDTO`) for request validation. The single validation recipe for new endpoints is:

### 1. Create a Request DTO

thinking
**Planning contributor checklist enhancements**

I'm deciding to add checklist items referencing Request DTO validation (ADR 0007), dependency injection (ADR 0001), and updating docs/EXTENSIONS.md when hooks are added. I'll integrate these into DEVELOPER.md near relevant sections and consider a general checklist area while cross-checking existing docs for consistency.
exec
/bin/zsh -lc "sed -n '1,200p' docs/EXTENSIONS.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 69ms:
# AgentWP Extension Points

This document is the **single source of truth** for all supported actions, filters, and extension points in AgentWP. Extension developers should reference this document when building integrations.

> **Maintenance note:** When adding new hooks to the codebase, document them here with their file location, parameters, and purpose.

## Table of Contents

- [Core Plugin Hooks](#core-plugin-hooks)
- [Intent System Hooks](#intent-system-hooks)
- [Intent Classification Hooks](#intent-classification-hooks)
- [Error Handling Hooks](#error-handling-hooks)
- [Configuration Hooks](#configuration-hooks)
- [Customer Service Hooks](#customer-service-hooks)
- [Encryption Hooks](#encryption-hooks)
- [Notification Hooks](#notification-hooks)
- [Extension Patterns](#extension-patterns)
  - [Custom Service Provider](#registering-a-custom-service-provider)
  - [Custom Intent Handler](#adding-a-custom-intent-handler)
  - [Custom Intent Scorer](#creating-a-custom-intent-scorer)


thinking
**Planning checklist additions for hooks**

I'm drafting reminders to update docs/EXTENSIONS.md when adding or modifying hooks or filters and proposing new contributor checklist sections in docs/DEVELOPER.md near relevant areas like REST endpoints, intent handlers, and tools. Next, I'll implement these checklist updates using apply_patch.
thinking
**Detailing contributor checklists with ADR references**

I'm planning precise contributor checklists for REST endpoints, intent handlers, and tools, each referencing relevant ADRs (0001, 0002, 0007, 0008) and the Phase 4 tooling decision, with consistent reminders to update docs/EXTENSIONS.md when adding hooks. These will be inserted thoughtfully around existing documentation sections for clarity and developer guidance.

thinking
**Diagnosing patch failure**

The patch failed likely due to whitespace or heading mismatches; I'll re-examine the exact snippet and apply a careful, targeted fix using sed.
exec
/bin/zsh -lc "sed -n '360,520p' docs/DEVELOPER.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 68ms:
### `agentwp_default_function_mapping`
Override the default intent-to-function mapping.

Signature:
```
array $mapping = apply_filters(
  'agentwp_default_function_mapping',
  array $mapping,
  AgentWP\Intent\Engine $engine
);
```

### `agentwp_register_intent_functions`
Register additional AI functions after defaults are registered.

Signature:
```
do_action(
  'agentwp_register_intent_functions',
  AgentWP\Intent\FunctionRegistry $registry,

thinking
**Identifying insertion point**

Planning to insert content after the introduction but before the "Architecture overview" section, and will check snippets near the REST endpoint section to determine precise insertion location.
exec
/bin/zsh -lc "sed -n '680,820p' docs/DEVELOPER.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
For custom intents, override `getWeight()` in your scorer or add your intent to `AbstractScorer::INTENT_WEIGHT_KEYS`.

## Adding a new REST endpoint (core development)

This section covers how to add new REST endpoints to the AgentWP plugin itself. For third-party extensions, see [Extension guide: custom REST controller](#extension-guide-custom-rest-controller) below.

### Canonical location

All REST controllers must be placed in:

- **Directory**: `src/Rest/`
- **Namespace**: `AgentWP\Rest`
- **Base class**: Extend `AgentWP\Rest\RestController`

### Step-by-step guide

1. **Create the controller class** in `src/Rest/`:

```php
<?php

thinking
**Planning checklist and tool section insertion**

I'm preparing to insert a checklist before the Step-by-step section and add a tool section between the custom intent handler and scorer by locating the "Extension guide: custom intent scorer" reference.
exec
/bin/zsh -lc 'rg -n "Extension guide: custom intent scorer" -n docs/DEVELOPER.md' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 43ms:
385:Register custom intent scorers for classification. See [Extension guide: custom intent scorer](#extension-guide-custom-intent-scorer) for full details.
585:## Extension guide: custom intent scorer
exec
/bin/zsh -lc "sed -n '560,640p' docs/DEVELOPER.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 70ms:
		'package delayed',
	);

	public function getIntent(): string {
		return 'shipment_delay';
	}

	public function score( string $text, array $context = array() ): int {
		return $this->matchScore( $text, self::PHRASES );
	}
}

// Register the scorer
add_filter( 'agentwp_intent_scorers', function( array $scorers ): array {
	$scorers[] = new \MyPlugin\AgentWP\ShipmentDelayScorer();
	return $scorers;
} );
```

### 4) Test the prompt

thinking
**Planning incremental patch insertion**

I'm preparing to insert the REST checklist after the base class bullet first, then add the tool section between specific headers, applying patches carefully in small steps to avoid mismatches.
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/docs/DEVELOPER.md
@@ -693,2 +693,10 @@
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
apply_patch(auto_approved=true) exited 0 in 31ms:
Success. Updated the following files:
M /Users/ahmedyounis/Documents/Projects/agentwp/docs/DEVELOPER.md
file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..64962ff656fabb12988f4297def0a3a1297d1696
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -691,6 +691,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:

file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..64962ff656fabb12988f4297def0a3a1297d1696
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -691,6 +691,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:


thinking
**Adding intent handler checklist**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/docs/DEVELOPER.md
@@ -420,2 +420,10 @@
 
+### Contributor checklist (intent handler)
+
+- [ ] Create a handler in `src/Intent/Handlers` and annotate it with `#[HandlesIntent(...)]` (ADR 0002).
+- [ ] Extend `AbstractAgenticHandler` or `BaseHandler` and implement `handle()` / `execute_tool()` as appropriate.
+- [ ] Register the handler in a service provider and tag it with `intent.handler`.
+- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Architecture overview
apply_patch(auto_approved=true) exited 0 in 22ms:
Success. Updated the following files:
M /Users/ahmedyounis/Documents/Projects/agentwp/docs/DEVELOPER.md
file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..b780c4f847a4757a1cfcfcc3cd4af7535a44b37d
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -418,6 +418,14 @@
 
 AgentWP uses an attribute-based handler registration pattern with dependency injection via service providers. Handlers declare which intents they handle using the `#[HandlesIntent]` PHP attribute, and the service provider wires them into the container with the `intent.handler` tag.
 
+### Contributor checklist (intent handler)
+
+- [ ] Create a handler in `src/Intent/Handlers` and annotate it with `#[HandlesIntent(...)]` (ADR 0002).
+- [ ] Extend `AbstractAgenticHandler` or `BaseHandler` and implement `handle()` / `execute_tool()` as appropriate.
+- [ ] Register the handler in a service provider and tag it with `intent.handler`.
+- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Architecture overview
 
 The handler registration flow:
@@ -691,6 +699,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:

file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..b780c4f847a4757a1cfcfcc3cd4af7535a44b37d
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -418,6 +418,14 @@
 
 AgentWP uses an attribute-based handler registration pattern with dependency injection via service providers. Handlers declare which intents they handle using the `#[HandlesIntent]` PHP attribute, and the service provider wires them into the container with the `intent.handler` tag.
 
+### Contributor checklist (intent handler)
+
+- [ ] Create a handler in `src/Intent/Handlers` and annotate it with `#[HandlesIntent(...)]` (ADR 0002).
+- [ ] Extend `AbstractAgenticHandler` or `BaseHandler` and implement `handle()` / `execute_tool()` as appropriate.
+- [ ] Register the handler in a service provider and tag it with `intent.handler`.
+- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Architecture overview
 
 The handler registration flow:
@@ -691,6 +699,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:


thinking
**Planning tool section insertion**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/docs/DEVELOPER.md
@@ -592,2 +592,14 @@
 
+## Adding a new tool (Phase 4 decision)
+
+AgentWP follows the Phase 4 tooling decision: tools are defined as schema classes and executed by handlers (see ADR 0008).
+
+### Contributor checklist (tool)
+
+- [ ] Create a schema class in `src/AI/Functions` extending `AbstractFunction` (name, description, parameters).
+- [ ] Register the schema in `IntentServiceProvider::registerToolRegistry()`.
+- [ ] Add the tool name in the handler’s `getToolNames()` and implement execution in `execute_tool()`.
+- [ ] Cast/validate argument types in execution code (OpenAI returns primitives).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ## Extension guide: custom intent scorer
apply_patch(auto_approved=true) exited 0 in 47ms:
Success. Updated the following files:
M /Users/ahmedyounis/Documents/Projects/agentwp/docs/DEVELOPER.md
file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..7a7f94a73e3c8370f3f381a0ede9a9aba373f2ef
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -418,6 +418,14 @@
 
 AgentWP uses an attribute-based handler registration pattern with dependency injection via service providers. Handlers declare which intents they handle using the `#[HandlesIntent]` PHP attribute, and the service provider wires them into the container with the `intent.handler` tag.
 
+### Contributor checklist (intent handler)
+
+- [ ] Create a handler in `src/Intent/Handlers` and annotate it with `#[HandlesIntent(...)]` (ADR 0002).
+- [ ] Extend `AbstractAgenticHandler` or `BaseHandler` and implement `handle()` / `execute_tool()` as appropriate.
+- [ ] Register the handler in a service provider and tag it with `intent.handler`.
+- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Architecture overview
 
 The handler registration flow:
@@ -582,6 +590,18 @@
 Draft a shipment delay email for order 1234
 ```
 
+## Adding a new tool (Phase 4 decision)
+
+AgentWP follows the Phase 4 tooling decision: tools are defined as schema classes and executed by handlers (see ADR 0008).
+
+### Contributor checklist (tool)
+
+- [ ] Create a schema class in `src/AI/Functions` extending `AbstractFunction` (name, description, parameters).
+- [ ] Register the schema in `IntentServiceProvider::registerToolRegistry()`.
+- [ ] Add the tool name in the handler’s `getToolNames()` and implement execution in `execute_tool()`.
+- [ ] Cast/validate argument types in execution code (OpenAI returns primitives).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ## Extension guide: custom intent scorer
 
 You can extend AgentWP's intent classification by adding custom scorers via the `agentwp_intent_scorers` filter. Scorers evaluate user input and return a confidence score for matching intents.
@@ -691,6 +711,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:

file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..7a7f94a73e3c8370f3f381a0ede9a9aba373f2ef
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -418,6 +418,14 @@
 
 AgentWP uses an attribute-based handler registration pattern with dependency injection via service providers. Handlers declare which intents they handle using the `#[HandlesIntent]` PHP attribute, and the service provider wires them into the container with the `intent.handler` tag.
 
+### Contributor checklist (intent handler)
+
+- [ ] Create a handler in `src/Intent/Handlers` and annotate it with `#[HandlesIntent(...)]` (ADR 0002).
+- [ ] Extend `AbstractAgenticHandler` or `BaseHandler` and implement `handle()` / `execute_tool()` as appropriate.
+- [ ] Register the handler in a service provider and tag it with `intent.handler`.
+- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Architecture overview
 
 The handler registration flow:
@@ -582,6 +590,18 @@
 Draft a shipment delay email for order 1234
 ```
 
+## Adding a new tool (Phase 4 decision)
+
+AgentWP follows the Phase 4 tooling decision: tools are defined as schema classes and executed by handlers (see ADR 0008).
+
+### Contributor checklist (tool)
+
+- [ ] Create a schema class in `src/AI/Functions` extending `AbstractFunction` (name, description, parameters).
+- [ ] Register the schema in `IntentServiceProvider::registerToolRegistry()`.
+- [ ] Add the tool name in the handler’s `getToolNames()` and implement execution in `execute_tool()`.
+- [ ] Cast/validate argument types in execution code (OpenAI returns primitives).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ## Extension guide: custom intent scorer
 
 You can extend AgentWP's intent classification by adding custom scorers via the `agentwp_intent_scorers` filter. Scorers evaluate user input and return a confidence score for matching intents.
@@ -691,6 +711,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:


thinking
**Replacing curly apostrophes with ASCII**
file update
M /Users/ahmedyounis/Documents/Projects/agentwp/docs/DEVELOPER.md
@@ -600,3 +600,3 @@
 - [ ] Register the schema in `IntentServiceProvider::registerToolRegistry()`.
-- [ ] Add the tool name in the handler’s `getToolNames()` and implement execution in `execute_tool()`.
+- [ ] Add the tool name in the handler's `getToolNames()` and implement execution in `execute_tool()`.
 - [ ] Cast/validate argument types in execution code (OpenAI returns primitives).
apply_patch(auto_approved=true) exited 0 in 17ms:
Success. Updated the following files:
M /Users/ahmedyounis/Documents/Projects/agentwp/docs/DEVELOPER.md
file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..034b7b6f40f7a9f0f087fadffef3b59a405545d1
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -418,6 +418,14 @@
 
 AgentWP uses an attribute-based handler registration pattern with dependency injection via service providers. Handlers declare which intents they handle using the `#[HandlesIntent]` PHP attribute, and the service provider wires them into the container with the `intent.handler` tag.
 
+### Contributor checklist (intent handler)
+
+- [ ] Create a handler in `src/Intent/Handlers` and annotate it with `#[HandlesIntent(...)]` (ADR 0002).
+- [ ] Extend `AbstractAgenticHandler` or `BaseHandler` and implement `handle()` / `execute_tool()` as appropriate.
+- [ ] Register the handler in a service provider and tag it with `intent.handler`.
+- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Architecture overview
 
 The handler registration flow:
@@ -582,6 +590,18 @@
 Draft a shipment delay email for order 1234
 ```
 
+## Adding a new tool (Phase 4 decision)
+
+AgentWP follows the Phase 4 tooling decision: tools are defined as schema classes and executed by handlers (see ADR 0008).
+
+### Contributor checklist (tool)
+
+- [ ] Create a schema class in `src/AI/Functions` extending `AbstractFunction` (name, description, parameters).
+- [ ] Register the schema in `IntentServiceProvider::registerToolRegistry()`.
+- [ ] Add the tool name in the handler's `getToolNames()` and implement execution in `execute_tool()`.
+- [ ] Cast/validate argument types in execution code (OpenAI returns primitives).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ## Extension guide: custom intent scorer
 
 You can extend AgentWP's intent classification by adding custom scorers via the `agentwp_intent_scorers` filter. Scorers evaluate user input and return a confidence score for matching intents.
@@ -691,6 +711,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:

file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..034b7b6f40f7a9f0f087fadffef3b59a405545d1
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -418,6 +418,14 @@
 
 AgentWP uses an attribute-based handler registration pattern with dependency injection via service providers. Handlers declare which intents they handle using the `#[HandlesIntent]` PHP attribute, and the service provider wires them into the container with the `intent.handler` tag.
 
+### Contributor checklist (intent handler)
+
+- [ ] Create a handler in `src/Intent/Handlers` and annotate it with `#[HandlesIntent(...)]` (ADR 0002).
+- [ ] Extend `AbstractAgenticHandler` or `BaseHandler` and implement `handle()` / `execute_tool()` as appropriate.
+- [ ] Register the handler in a service provider and tag it with `intent.handler`.
+- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Architecture overview
 
 The handler registration flow:
@@ -582,6 +590,18 @@
 Draft a shipment delay email for order 1234
 ```
 
+## Adding a new tool (Phase 4 decision)
+
+AgentWP follows the Phase 4 tooling decision: tools are defined as schema classes and executed by handlers (see ADR 0008).
+
+### Contributor checklist (tool)
+
+- [ ] Create a schema class in `src/AI/Functions` extending `AbstractFunction` (name, description, parameters).
+- [ ] Register the schema in `IntentServiceProvider::registerToolRegistry()`.
+- [ ] Add the tool name in the handler's `getToolNames()` and implement execution in `execute_tool()`.
+- [ ] Cast/validate argument types in execution code (OpenAI returns primitives).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ## Extension guide: custom intent scorer
 
 You can extend AgentWP's intent classification by adding custom scorers via the `agentwp_intent_scorers` filter. Scorers evaluate user input and return a confidence score for matching intents.
@@ -691,6 +711,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:


thinking
**Checking for non-ASCII characters**

I'm running a search to verify that the docs/DEVELOPER.md file contains only ASCII characters to ensure compatibility and avoid potential encoding issues.
exec
/bin/zsh -lc 'rg -n "[''^'"\\x00-\\x7F]\" docs/DEVELOPER.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 77ms:
1057:> **⚠️ Deprecation Notice:** `IntentClassifier` is deprecated as of version 2.0.0 and will be removed in version 3.0.0. Direct instantiation now emits a deprecation warning via `_doing_it_wrong()`.
1218:1. **Version must exist**: The deprecation version must be `≤ AGENTWP_VERSION`. Never reference future versions for when something *became* deprecated.
file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..034b7b6f40f7a9f0f087fadffef3b59a405545d1
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -418,6 +418,14 @@
 
 AgentWP uses an attribute-based handler registration pattern with dependency injection via service providers. Handlers declare which intents they handle using the `#[HandlesIntent]` PHP attribute, and the service provider wires them into the container with the `intent.handler` tag.
 
+### Contributor checklist (intent handler)
+
+- [ ] Create a handler in `src/Intent/Handlers` and annotate it with `#[HandlesIntent(...)]` (ADR 0002).
+- [ ] Extend `AbstractAgenticHandler` or `BaseHandler` and implement `handle()` / `execute_tool()` as appropriate.
+- [ ] Register the handler in a service provider and tag it with `intent.handler`.
+- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Architecture overview
 
 The handler registration flow:
@@ -582,6 +590,18 @@
 Draft a shipment delay email for order 1234
 ```
 
+## Adding a new tool (Phase 4 decision)
+
+AgentWP follows the Phase 4 tooling decision: tools are defined as schema classes and executed by handlers (see ADR 0008).
+
+### Contributor checklist (tool)
+
+- [ ] Create a schema class in `src/AI/Functions` extending `AbstractFunction` (name, description, parameters).
+- [ ] Register the schema in `IntentServiceProvider::registerToolRegistry()`.
+- [ ] Add the tool name in the handler's `getToolNames()` and implement execution in `execute_tool()`.
+- [ ] Cast/validate argument types in execution code (OpenAI returns primitives).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ## Extension guide: custom intent scorer
 
 You can extend AgentWP's intent classification by adding custom scorers via the `agentwp_intent_scorers` filter. Scorers evaluate user input and return a confidence score for matching intents.
@@ -691,6 +711,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:



thinking
**Confirming contributor checklist coverage**

The existing contributor checklists include relevant ADR references and update EXTENSIONS as required. The tool checklist covers the Phase 4 decision adequately by referencing "Phase 4 tooling decision," aligning with the spec's intent.
thinking
**Assessing Phase 4 decision references**

The checklist currently references ADR 0008 but lacks explicit "Phase 4 decision" wording as the spec requests. Adding a mention pointing to the Phase 4 section in the architecture improvement plan alongside ADR 0008 would clarify this alignment.
exec
/bin/zsh -lc 'rg -n "Phase 4 decision|Phase 4 tooling|Phase 4" docs' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 71ms:
docs/DEVELOPER.md:426:- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
docs/DEVELOPER.md:593:## Adding a new tool (Phase 4 decision)
docs/DEVELOPER.md:595:AgentWP follows the Phase 4 tooling decision: tools are defined as schema classes and executed by handlers (see ADR 0008).
docs/ARCHITECTURE-IMPROVEMENT-PLAN.md:217:### Phase 4 — Tooling: unify schema + execution (medium effort)
docs/adr/0004-openai-client-architecture.md:136:### Phase 4: Replace Internal Retry Logic (1-2 days)
docs/adr/0004-openai-client-architecture.md:220:- `docs/ARCHITECTURE-IMPROVEMENT-PLAN.md` - Phase 4 references this decision
file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..034b7b6f40f7a9f0f087fadffef3b59a405545d1
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -418,6 +418,14 @@
 
 AgentWP uses an attribute-based handler registration pattern with dependency injection via service providers. Handlers declare which intents they handle using the `#[HandlesIntent]` PHP attribute, and the service provider wires them into the container with the `intent.handler` tag.
 
+### Contributor checklist (intent handler)
+
+- [ ] Create a handler in `src/Intent/Handlers` and annotate it with `#[HandlesIntent(...)]` (ADR 0002).
+- [ ] Extend `AbstractAgenticHandler` or `BaseHandler` and implement `handle()` / `execute_tool()` as appropriate.
+- [ ] Register the handler in a service provider and tag it with `intent.handler`.
+- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Architecture overview
 
 The handler registration flow:
@@ -582,6 +590,18 @@
 Draft a shipment delay email for order 1234
 ```
 
+## Adding a new tool (Phase 4 decision)
+
+AgentWP follows the Phase 4 tooling decision: tools are defined as schema classes and executed by handlers (see ADR 0008).
+
+### Contributor checklist (tool)
+
+- [ ] Create a schema class in `src/AI/Functions` extending `AbstractFunction` (name, description, parameters).
+- [ ] Register the schema in `IntentServiceProvider::registerToolRegistry()`.
+- [ ] Add the tool name in the handler's `getToolNames()` and implement execution in `execute_tool()`.
+- [ ] Cast/validate argument types in execution code (OpenAI returns primitives).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ## Extension guide: custom intent scorer
 
 You can extend AgentWP's intent classification by adding custom scorers via the `agentwp_intent_scorers` filter. Scorers evaluate user input and return a confidence score for matching intents.
@@ -691,6 +711,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:


thinking
**Clarifying Phase 4 decision references**

I identified a potential confusion between the spec's "Phase 4 decision" and the architecture plan's Phase 4 goal; linking the decision explicitly to ADR 0008 clarifies schema plus handler execution aligns with the accepted plan and spec. I'll ensure the text cross-references both ADR 0008 and the architecture plan while preserving Markdown formatting.
exec
/bin/zsh -lc "sed -n '400,660p' docs/DEVELOPER.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 62ms:
} );
```

### `agentwp_intent_classified`
Fired after intent classification completes. Useful for analytics, logging, or debugging.

Signature:
```
do_action(
  'agentwp_intent_classified',
  string $intent,           // The classified intent constant
  array $scores,            // All intent scores from scoreAll()
  string $input,            // Original user input
  array $context            // Classification context
);
```

## Extension guide: custom intent handler

AgentWP uses an attribute-based handler registration pattern with dependency injection via service providers. Handlers declare which intents they handle using the `#[HandlesIntent]` PHP attribute, and the service provider wires them into the container with the `intent.handler` tag.
file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..034b7b6f40f7a9f0f087fadffef3b59a405545d1
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -418,6 +418,14 @@
 
 AgentWP uses an attribute-based handler registration pattern with dependency injection via service providers. Handlers declare which intents they handle using the `#[HandlesIntent]` PHP attribute, and the service provider wires them into the container with the `intent.handler` tag.
 
+### Contributor checklist (intent handler)
+
+- [ ] Create a handler in `src/Intent/Handlers` and annotate it with `#[HandlesIntent(...)]` (ADR 0002).
+- [ ] Extend `AbstractAgenticHandler` or `BaseHandler` and implement `handle()` / `execute_tool()` as appropriate.
+- [ ] Register the handler in a service provider and tag it with `intent.handler`.
+- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Architecture overview
 
 The handler registration flow:
@@ -582,6 +590,18 @@
 Draft a shipment delay email for order 1234
 ```
 
+## Adding a new tool (Phase 4 decision)
+
+AgentWP follows the Phase 4 tooling decision: tools are defined as schema classes and executed by handlers (see ADR 0008).
+
+### Contributor checklist (tool)
+
+- [ ] Create a schema class in `src/AI/Functions` extending `AbstractFunction` (name, description, parameters).
+- [ ] Register the schema in `IntentServiceProvider::registerToolRegistry()`.
+- [ ] Add the tool name in the handler's `getToolNames()` and implement execution in `execute_tool()`.
+- [ ] Cast/validate argument types in execution code (OpenAI returns primitives).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ## Extension guide: custom intent scorer
 
 You can extend AgentWP's intent classification by adding custom scorers via the `agentwp_intent_scorers` filter. Scorers evaluate user input and return a confidence score for matching intents.
@@ -691,6 +711,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:


thinking
**Checking REST section**
exec
/bin/zsh -lc "sed -n '700,820p' docs/DEVELOPER.md" in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 58ms:
For custom intents, override `getWeight()` in your scorer or add your intent to `AbstractScorer::INTENT_WEIGHT_KEYS`.

## Adding a new REST endpoint (core development)

This section covers how to add new REST endpoints to the AgentWP plugin itself. For third-party extensions, see [Extension guide: custom REST controller](#extension-guide-custom-rest-controller) below.

### Canonical location

All REST controllers must be placed in:

- **Directory**: `src/Rest/`
- **Namespace**: `AgentWP\Rest`
- **Base class**: Extend `AgentWP\Rest\RestController`

### Contributor checklist (REST endpoint)

- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..034b7b6f40f7a9f0f087fadffef3b59a405545d1
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -418,6 +418,14 @@
 
 AgentWP uses an attribute-based handler registration pattern with dependency injection via service providers. Handlers declare which intents they handle using the `#[HandlesIntent]` PHP attribute, and the service provider wires them into the container with the `intent.handler` tag.
 
+### Contributor checklist (intent handler)
+
+- [ ] Create a handler in `src/Intent/Handlers` and annotate it with `#[HandlesIntent(...)]` (ADR 0002).
+- [ ] Extend `AbstractAgenticHandler` or `BaseHandler` and implement `handle()` / `execute_tool()` as appropriate.
+- [ ] Register the handler in a service provider and tag it with `intent.handler`.
+- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Architecture overview
 
 The handler registration flow:
@@ -582,6 +590,18 @@
 Draft a shipment delay email for order 1234
 ```
 
+## Adding a new tool (Phase 4 decision)
+
+AgentWP follows the Phase 4 tooling decision: tools are defined as schema classes and executed by handlers (see ADR 0008).
+
+### Contributor checklist (tool)
+
+- [ ] Create a schema class in `src/AI/Functions` extending `AbstractFunction` (name, description, parameters).
+- [ ] Register the schema in `IntentServiceProvider::registerToolRegistry()`.
+- [ ] Add the tool name in the handler's `getToolNames()` and implement execution in `execute_tool()`.
+- [ ] Cast/validate argument types in execution code (OpenAI returns primitives).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ## Extension guide: custom intent scorer
 
 You can extend AgentWP's intent classification by adding custom scorers via the `agentwp_intent_scorers` filter. Scorers evaluate user input and return a confidence score for matching intents.
@@ -691,6 +711,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:



thinking
**Finalizing verification instructions**

I'm deciding to state verification as "Not specified (no format/lint/test commands provided)" since no exact commands apply, ensuring clarity while respecting the prompt's requirement to include exact commands in the response.
thinking
**Including minimal verification command**

I'm choosing to include a simple exact command to verify docs changes, like searching the checklist in the developer docs, to meet the prompt's requirement while noting no tests or risks apply. Next, I'll confirm modified files to ensure only docs were changed.
exec
/bin/zsh -lc 'git status -sb' in /Users/ahmedyounis/Documents/Projects/agentwp succeeded in 81ms:
## main...origin/main
 M .logs/C06-01.gitcommit.txt
 M .plans/C06-02.md
 M .t2/state.json
 M docs/DEVELOPER.md
file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..034b7b6f40f7a9f0f087fadffef3b59a405545d1
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -418,6 +418,14 @@
 
 AgentWP uses an attribute-based handler registration pattern with dependency injection via service providers. Handlers declare which intents they handle using the `#[HandlesIntent]` PHP attribute, and the service provider wires them into the container with the `intent.handler` tag.
 
+### Contributor checklist (intent handler)
+
+- [ ] Create a handler in `src/Intent/Handlers` and annotate it with `#[HandlesIntent(...)]` (ADR 0002).
+- [ ] Extend `AbstractAgenticHandler` or `BaseHandler` and implement `handle()` / `execute_tool()` as appropriate.
+- [ ] Register the handler in a service provider and tag it with `intent.handler`.
+- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Architecture overview
 
 The handler registration flow:
@@ -582,6 +590,18 @@
 Draft a shipment delay email for order 1234
 ```
 
+## Adding a new tool (Phase 4 decision)
+
+AgentWP follows the Phase 4 tooling decision: tools are defined as schema classes and executed by handlers (see ADR 0008).
+
+### Contributor checklist (tool)
+
+- [ ] Create a schema class in `src/AI/Functions` extending `AbstractFunction` (name, description, parameters).
+- [ ] Register the schema in `IntentServiceProvider::registerToolRegistry()`.
+- [ ] Add the tool name in the handler's `getToolNames()` and implement execution in `execute_tool()`.
+- [ ] Cast/validate argument types in execution code (OpenAI returns primitives).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ## Extension guide: custom intent scorer
 
 You can extend AgentWP's intent classification by adding custom scorers via the `agentwp_intent_scorers` filter. Scorers evaluate user input and return a confidence score for matching intents.
@@ -691,6 +711,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:


thinking
**Summarizing final documentation change**

I observed only docs/DEVELOPER.md was modified, adding contributor checklists for REST endpoints, intent handlers, and tools with ADR references and update reminders. No tests were run since it was a docs-only change, and no new unexpected file changes appeared.
codex
Added contributor checklists in `docs/DEVELOPER.md` for REST endpoints, intent handlers, and tools with ADR references and EXTENSIONS reminders.

Status: DONE
Summary of changes:
- Added REST endpoint checklist referencing ADR 0001/0007 and OpenAPI sync steps in `docs/DEVELOPER.md`.
- Added intent handler checklist referencing ADR 0002 and tool follow-through.
- Added tool checklist aligned with the Phase 4 tooling decision and ADR 0008.

How to verify:
- `rg -n "Contributor checklist" docs/DEVELOPER.md`

Risks / follow-ups:
- None.
file update:
diff --git a/docs/DEVELOPER.md b/docs/DEVELOPER.md
index f4e4fda6f5344b134db14abe698d9b65820fb305..034b7b6f40f7a9f0f087fadffef3b59a405545d1
--- a/docs/DEVELOPER.md
+++ b/docs/DEVELOPER.md
@@ -418,6 +418,14 @@
 
 AgentWP uses an attribute-based handler registration pattern with dependency injection via service providers. Handlers declare which intents they handle using the `#[HandlesIntent]` PHP attribute, and the service provider wires them into the container with the `intent.handler` tag.
 
+### Contributor checklist (intent handler)
+
+- [ ] Create a handler in `src/Intent/Handlers` and annotate it with `#[HandlesIntent(...)]` (ADR 0002).
+- [ ] Extend `AbstractAgenticHandler` or `BaseHandler` and implement `handle()` / `execute_tool()` as appropriate.
+- [ ] Register the handler in a service provider and tag it with `intent.handler`.
+- [ ] If the handler uses tools, follow the tool checklist below (Phase 4 decision).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Architecture overview
 
 The handler registration flow:
@@ -582,6 +590,18 @@
 Draft a shipment delay email for order 1234
 ```
 
+## Adding a new tool (Phase 4 decision)
+
+AgentWP follows the Phase 4 tooling decision: tools are defined as schema classes and executed by handlers (see ADR 0008).
+
+### Contributor checklist (tool)
+
+- [ ] Create a schema class in `src/AI/Functions` extending `AbstractFunction` (name, description, parameters).
+- [ ] Register the schema in `IntentServiceProvider::registerToolRegistry()`.
+- [ ] Add the tool name in the handler's `getToolNames()` and implement execution in `execute_tool()`.
+- [ ] Cast/validate argument types in execution code (OpenAI returns primitives).
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ## Extension guide: custom intent scorer
 
 You can extend AgentWP's intent classification by adding custom scorers via the `agentwp_intent_scorers` filter. Scorers evaluate user input and return a confidence score for matching intents.
@@ -691,6 +711,14 @@
 - **Namespace**: `AgentWP\Rest`
 - **Base class**: Extend `AgentWP\Rest\RestController`
 
+### Contributor checklist (REST endpoint)
+
+- [ ] Create a Request DTO in `src/DTO` and validate via `$dto->isValid()` (ADR 0007).
+- [ ] Implement the controller in `src/Rest/`, extend `RestController`, and resolve dependencies via `$this->resolve()`/`$this->resolveRequired()` (ADR 0001).
+- [ ] Register the controller in `RestServiceProvider` and tag it with `rest.controller`.
+- [ ] Add `@openapi` annotation(s), update `docs/openapi.json`, and run `composer run openapi:validate`.
+- [ ] If you introduce or modify hooks, update `docs/EXTENSIONS.md`.
+
 ### Step-by-step guide
 
 1. **Create the controller class** in `src/Rest/`:

tokens used
84,516
